"use client";
var e=require("react/jsx-runtime"),t=require("react"),o=require("react-dom");const n=null,{min:r,max:i,abs:s,floor:l}=Math,c=(e,t,o)=>r(o,i(t,e)),f=e=>[...e].sort(((e,t)=>e-t)),u="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)},d=()=>{let e;return[new Promise((t=>{e=t})),e]},a=e=>{let t;return()=>(e&&(t=e(),e=void 0),t)},h=(e,t,o)=>{const n=o?"unshift":"push";for(let o=0;o<t;o++)e[n](-1);return e},p=(e,t)=>{const o=e.t[t];return-1===o?e.o:o},v=(e,t,o)=>{const n=-1===e.t[t];return e.t[t]=o,e.i=r(t,e.i),n},g=(e,t)=>{if(!e.l)return 0;if(e.i>=t)return e.u[t];e.i<0&&(e.u[0]=0,e.i=0);let o=e.i,n=e.u[o];for(;o<t;)n+=p(e,o),e.u[++o]=n;return e.i=t,n},w=(e,t,o=0,n=e.l-1)=>{let r=o;for(;o<=n;){const i=l((o+n)/2);g(e,i)<=t?(r=i,o=i+1):n=i-1}return c(r,0,e.l-1)},_=(e,t,o)=>{const n=t-e.l;return e.i=o?-1:r(t-1,e.i),e.l=t,n>0?(h(e.u,n),h(e.t,n,o),e.o*n):(e.u.splice(n),(o?e.t.splice(0,-n):e.t.splice(n)).reduce(((t,o)=>t-(-1===o?e.o:o)),0))},S="undefined"!=typeof window,m=()=>document.documentElement,$=e=>e.ownerDocument,z=e=>e.defaultView,y=/*#__PURE__*/a((()=>!!S&&"rtl"===getComputedStyle(m()).direction)),b=/*#__PURE__*/a((()=>!!/iP(hone|od|ad)/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>0)),x=/*#__PURE__*/a((()=>"scrollBehavior"in m().style)),I=e=>i(e.h(),e.p()),k=(e,t=40,o=0,l,c=!1)=>{let u=!!o,d=1,a=0,S=0,m=0,$=0,z=0,y=0,x=0,I=0,k=n,R=[0,u?i(o-1,0):-1],T=0,C=!1;const M=((e,t,o)=>({o:t,t:o?h(o.slice(0,r(e,o.length)),i(0,e-o.length)):h([],e),l:e,i:-1,u:h([],e+1)}))(e,l?l[1]:t,l&&l[0]),H=new Set,O=()=>m-S,E=()=>O()+z+$,W=(e,t)=>((e,t,o,n)=>{if(n=r(n,e.l-1),g(e,n)<=t){const r=w(e,o,n);return[w(e,t,n,r),r]}{const r=w(e,t,void 0,n);return[r,w(e,o,r)]}})(M,e,t,R[0]),q=()=>g(M,M.l),B=e=>g(M,e)-z,J=e=>p(M,e),A=(e,t=-1)=>M.t[e]===t,L=e=>{e&&(b()&&0!==x||k&&1===I?z+=e:$+=e)};return{v:()=>{H.clear()},_:()=>d,S:()=>(e=>[e.t.slice(),e.o])(M),m:(e=200)=>{if(!C||u)return R;let t,o;if(y)[t,o]=R;else{let n=i(0,E()),s=n+a;c||(e=i(0,e),1!==x&&(n-=e),2!==x&&(s+=e)),[t,o]=R=W(i(0,n),i(0,s)),k&&(t=r(t,k[0]),o=i(o,k[1]))}return[i(t,0),r(o,M.l-1)]},$:e=>w(M,e-S),I:A,k:B,R:J,T:()=>M.l,C:()=>m,M:()=>0!==x,p:()=>a,H:()=>S,h:q,O:()=>(y=$,$=0,[y,2===I]),W:(e,t)=>{const o=[e,t];return H.add(o),()=>{H.delete(o)}},q:(e,t)=>{let o,r,l=0;switch(e){case 1:{if(t===m&&0===I)break;const e=y;y=0;const o=t-m,n=s(o);e&&n<s(e)+1||0!==I||(x=o<0?2:1),u&&(u=!1),m=t,l=4;const i=O();i>=-a&&i<=q()&&(l+=1,r=n>a);break}case 2:l=8,0!==x&&(o=!0,l+=1),x=0,I=0,k=n;break;case 3:{const e=t.filter((([e,t])=>!A(e,t)));if(!e.length)break;L(e.reduce(((e,[t,o])=>((2===I||(k&&1===I?t<k[0]:B(t+(0===x&&0===I?1:0))<O()))&&(e+=o-J(t)),e)),0));for(const[t,o]of e){const e=J(t),n=v(M,t,o);c&&(T+=n?o:o-e)}c&&a&&T>a&&(L(((e,t)=>{let o=0;const n=[];e.t.forEach(((e,r)=>{-1!==e&&(n.push(e),r<t&&o++)})),e.i=-1;const r=f(n),s=r.length,l=s/2|0,c=s%2==0?(r[l-1]+r[l])/2:r[l],u=e.o;return((e.o=c)-u)*i(t-o,0)})(M,w(M,E()))),c=!1),l=3,r=!0;break}case 4:a!==t&&(a||(C=r=!0),a=t,l=3);break;case 5:t[1]?(L(_(M,t[0],!0)),I=2,l=1):(_(M,t[0]),l=1);break;case 6:S=t;break;case 7:I=1;break;case 8:k=W(t,t+a),l=1}l&&(d=1+(2147483647&d),o&&z&&($+=z,z=0),H.forEach((([e,t])=>{l&e&&t(r)})))}}},R=setTimeout,T=(e,t)=>t&&y()?-e:e,C=(e,t,o,r,i,s)=>{const l=Date.now;let c=0,f=!1,u=!1,d=!1,a=!1;const h=(()=>{let t;const o=()=>{t!=n&&clearTimeout(t)},r=()=>{o(),t=R((()=>{t=n,(()=>{if(f||u)return f=!1,void h();d=!1,e.q(2)})()}),150)};return r.B=o,r})(),p=()=>{c=l(),d&&(a=!0),s&&e.q(6,s()),e.q(1,r()),h()},v=t=>{if(f||!e.M()||t.ctrlKey)return;const n=l()-c;150>n&&50<n&&(o?t.deltaX:t.deltaY)&&(f=!0)},g=()=>{u=!0,d=a=!1},w=()=>{u=!1,b()&&(d=!0)};return t.addEventListener("scroll",p),t.addEventListener("wheel",v,{passive:!0}),t.addEventListener("touchstart",g,{passive:!0}),t.addEventListener("touchend",w,{passive:!0}),{J:()=>{t.removeEventListener("scroll",p),t.removeEventListener("wheel",v),t.removeEventListener("touchstart",g),t.removeEventListener("touchend",w),h.B()},A:()=>{const[t,n]=e.O();t&&(i(T(t,o),n,a),a=!1,n&&e.p()>e.h()&&e.q(1,r()))}}},M=(e,t,o)=>{let n;return[async(r,i)=>{if(!await t())return;n&&n();const s=()=>{const[t,o]=d();return n=()=>{o(!1)},e.p()&&R(n,150),[t,e.W(2,(()=>{o(!0)}))]};if(i&&x())e.q(8,r()),u((async()=>{for(;;){let t=!0;for(let[o,n]=e.m();o<=n;o++)if(e.I(o)){t=!1;break}if(t)break;const[o,n]=s();try{if(!await o)return}finally{n()}}e.q(7),o(r(),i)}));else for(;;){const[t,n]=s();try{if(e.q(7),o(r()),!await t)return}finally{n()}}},()=>{n&&n()}]},H=(e,t)=>{let o,n,r=d();const i=t?"scrollLeft":"scrollTop",s=t?"overflowX":"overflowY",[l,f]=M(e,(()=>r[0]),((e,n)=>{e=T(e,t),n?o.scrollTo({[t?"left":"top"]:e,behavior:"smooth"}):o[i]=e}));return{L(l){o=l,n=C(e,l,t,(()=>T(l[i],t)),((t,o,n)=>{if(n){const e=l.style,t=e[s];e[s]="hidden",R((()=>{e[s]=t}))}l[i]=e.C()+t,o&&f()})),r[1](!0)},v(){n&&n.J(),r[1](!1),r=d()},D(e){l((()=>e))},P(t){t+=e.C(),l((()=>t))},X(t,{align:o,smooth:n,offset:r=0}={}){if(t=c(t,0,e.T()-1),"nearest"===o){const n=e.k(t),r=e.C();if(n<r)o="start";else{if(!(n+e.R(t)>r+e.p()))return;o="end"}}l((()=>r+e.H()+e.k(t)+("end"===o?e.R(t)-e.p():"center"===o?(e.R(t)-e.p())/2:0)),n)},Y:()=>{n&&n.A()}}},O=(e,t)=>{let o,n,r=d();const i=t?"left":"top",[s]=M(e,(()=>r[0]),((e,n)=>{e=T(e,t);const r=z($(o));n?r.scroll({[i]:e,behavior:"smooth"}):r.scroll({[i]:e})})),l=(e,t,o,n,r=0)=>{const i=n?"offsetLeft":"offsetTop",s=r+(n&&y()?o.innerWidth-e[i]-e.offsetWidth:e[i]),c=e.offsetParent;return e!==t&&c?l(c,t,o,n,s):s};return{L(s){o=s;const c=t?"scrollX":"scrollY",f=$(s),u=z(f);n=C(e,u,t,(()=>T(u[c],t)),((t,o)=>{o?u.scroll({[i]:e.C()+t}):u.scrollBy({[i]:t})}),(()=>l(s,f.body,u,t))),r[1](!0)},v(){n&&n.J(),o=void 0,r[1](!1),r=d()},Y:()=>{n&&n.A()},X(n,{align:r,smooth:i,offset:f=0}={}){if(!o)return;if(n=c(n,0,e.T()-1),"nearest"===r){const t=e.k(n),o=e.C();if(t<o)r="start";else{if(!(t+e.R(n)>o+e.p()))return;r="end"}}const u=$(o),d=z(u),a=u.documentElement,h=()=>e.p()-(t?a.clientWidth:a.clientHeight);s((()=>f+l(o,u.body,d,t)+e.k(n)+("end"===r?e.R(n)-(e.p()-h()):"center"===r?(e.R(n)-(e.p()-h()))/2:0)),i)}}},E=(e,t)=>{const o=H(e,!1),n=H(t,!0);return{L(e){o.L(e),n.L(e)},v(){o.v(),n.v()},D(e,t){null!=e&&o.D(e),null!=t&&n.D(t)},P(e,t){null!=e&&o.P(e),null!=t&&n.P(t)},X(e,t){null!=e&&o.X(e),null!=t&&n.X(t)},Y(){o.Y(),n.Y()}}},W=e=>{let t;return{j(o){(t||(t=new(z($(o)).ResizeObserver)(e))).observe(o)},V(e){t.unobserve(e)},J(){t&&t.disconnect()}}},q=(e,t)=>{let o;const r=t?"width":"height",i=new WeakMap,s=W((t=>{const s=[];for(const{target:l,contentRect:c}of t)if(l.offsetParent)if(l===o)e.q(4,c[r]);else{const e=i.get(l);e!=n&&s.push([e,c[r]])}s.length&&e.q(3,s)}));return{U(e){s.j(o=e)},F:(e,t)=>(i.set(e,t),s.j(e),()=>{i.delete(e),s.V(e)}),v:s.J}},B=(e,t)=>{const o=t?"width":"height",r=t?"innerWidth":"innerHeight",i=new WeakMap,s=W((t=>{const r=[];for(const{target:e,contentRect:s}of t){if(!e.offsetParent)continue;const t=i.get(e);t!=n&&r.push([t,s[o]])}r.length&&e.q(3,r)}));let l;return{U(t){const o=z($(t)),n=()=>{e.q(4,o[r])};o.addEventListener("resize",n),u(n),l=()=>{o.removeEventListener("resize",n)}},F:(e,t)=>(i.set(e,t),s.j(e),()=>{i.delete(e),s.V(e)}),v(){l&&l(),s.J()}}},J=(e,t)=>{let o;const n=new WeakMap,r=new Set,s=new Set,l=new Map,c=(e,t)=>`${e}-${t}`,f=W((f=>{const u=new Set,d=new Set;for(const{target:r,contentRect:{width:i,height:s}}of f)if(r.offsetParent)if(r===o)e.q(4,s),t.q(4,i);else{const e=n.get(r);if(e){const[t,o]=e,n=c(t,o),r=l.get(n);let f,a;r?(r[0]!==s&&(f=!0),r[1]!==i&&(a=!0)):f=a=!0,f&&u.add(t),a&&d.add(o),(f||a)&&l.set(n,[s,i])}}if(u.size){const t=[];u.forEach((e=>{let o=0;s.forEach((t=>{const n=l.get(c(e,t));n&&(o=i(o,n[0]))})),o&&t.push([e,o])})),e.q(3,t)}if(d.size){const e=[];d.forEach((t=>{let o=0;r.forEach((e=>{const n=l.get(c(e,t));n&&(o=i(o,n[1]))})),o&&e.push([t,o])})),t.q(3,e)}}));return{U(e){f.j(o=e)},F:(e,t,o)=>(n.set(e,[t,o]),r.add(t),s.add(o),f.j(e),()=>{n.delete(e),f.V(e)}),G(o){for(const[t]of o)for(let o=0;o<e.T();o++)l.delete(c(o,t));t.q(3,o)},K(o){for(const[e]of o)for(let o=0;o<t.T();o++)l.delete(c(e,o));e.q(3,o)},v:f.J}},A=S?t.useLayoutEffect:t.useEffect,L="current",D=(e,t)=>{if(Array.isArray(e))for(const o of e)D(o,t);else null==e||"boolean"==typeof e||t.push(e)},P=(e,t)=>{const o=e.key;return null!=o?o:"_"+t},X=e=>{const o=t.useRef(null);return o[L]||(o[L]=e())},Y=e=>{const o=t.useRef(e);return A((()=>{o[L]=e}),[e]),o},j=t.memo((({N:o,Z:n,ee:r,te:i,oe:s,ne:l,re:c,ie:f})=>{const u=t.useRef(null);A((()=>n(u[L],r)),[r]);const d=t.useMemo((()=>{const e={contain:"layout style",position:s&&f?void 0:"absolute",[c?"height":"width"]:"100%",[c?"top":"left"]:0,[c?y()?"right":"left":"top"]:i,visibility:!s||f?void 0:"hidden"};return c&&(e.display="inline-flex"),e}),[i,s,f,c]);return"string"==typeof l?e.jsx(l,{ref:u,style:d,children:o}):e.jsx(l,{ref:u,style:d,index:r,children:o})})),V=(e,o)=>t.useMemo((()=>{if("function"==typeof e)return[t=>e(o[t],t),o.length];const t=(e=>{const t=[];return D(e,t),t})(e);return[e=>t[e],t.length]}),[e,o]),U=t.forwardRef((({children:n,data:r,bufferSize:i,itemSize:s,shift:l,horizontal:c,keepMounted:d,cache:a,startMargin:h=0,ssrCount:p,as:v="div",item:g="div",scrollRef:w,onScroll:_,onScrollEnd:S},m)=>{const[$,z]=V(n,r),y=t.useRef(null),b=t.useRef(!!p),x=Y(_),R=Y(S),[T,C,M,O]=X((()=>{const e=!!c,t=k(z,s,p,a,!s);return[t,q(t,e),H(t,e),e]}));z!==T.T()&&T.q(5,[z,l]),h!==T.H()&&T.q(6,h);const[E,W]=t.useReducer(T._,void 0,T._),B=T.M(),J=T.h(),D=[],U=t=>{const o=$(t);return e.jsx(j,{Z:C.F,ee:t,te:T.k(t),oe:T.I(t),ne:g,N:o,re:O,ie:b[L]},P(o,t))};if(A((()=>{b[L]=!1,T.W(1,(e=>{e?o.flushSync(W):W()})),T.W(4,(()=>{x[L]&&x[L](T.C())})),T.W(8,(()=>{R[L]&&R[L]()}));const e=e=>{C.U(e),M.L(e)};return w?u((()=>{w[L]&&e(w[L])})):e(y[L].parentElement),()=>{T.v(),C.v(),M.v()}}),[]),A((()=>{M.Y()}),[E]),t.useImperativeHandle(m,(()=>({get cache(){return T.S()},get scrollOffset(){return T.C()},get scrollSize(){return I(T)},get viewportSize(){return T.p()},findItemIndex:T.$,getItemOffset:T.k,getItemSize:T.R,scrollToIndex:M.X,scrollTo:M.D,scrollBy:M.P})),[]),d){const e=new Set(d);for(let[t,o]=T.m(i);t<=o;t++)e.add(t);f([...e]).forEach((e=>{D.push(U(e))}))}else for(let[e,t]=T.m(i);e<=t;e++)D.push(U(e));return e.jsx(v,{ref:y,style:{contain:"size style",overflowAnchor:"none",flex:"none",position:"relative",width:O?J:"100%",height:O?"100%":J,pointerEvents:B?"none":void 0},children:D})})),F=t.forwardRef((({children:o,data:n,bufferSize:r,itemSize:i,shift:s,horizontal:l,keepMounted:c,reverse:f,cache:u,ssrCount:d,item:a,onScroll:h,onScrollEnd:p,style:v,...g},w)=>{const _=t.useRef(null),S=f&&!l;let m=e.jsx(U,{ref:w,scrollRef:S?_:void 0,data:n,bufferSize:r,itemSize:i,shift:s,horizontal:l,keepMounted:c,cache:u,ssrCount:d,item:a,onScroll:h,onScrollEnd:p,children:o});return S&&(m=e.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-end",minHeight:"100%",overflow:"clip"},children:m})),e.jsx("div",{ref:_,...g,style:{display:l?"inline-block":"block",[l?"overflowX":"overflowY"]:"auto",contain:"strict",width:"100%",height:"100%",...v},children:m})})),G=t.forwardRef((({children:n,data:r,bufferSize:i,itemSize:s,shift:l,horizontal:c,cache:f,ssrCount:u,as:d="div",item:a="div",onScroll:h,onScrollEnd:p},v)=>{const[g,w]=V(n,r),_=t.useRef(null),S=Y(h),m=Y(p),$=t.useRef(!!u),[z,y,b,x]=X((()=>{const e=!!c,t=k(w,s,u,f,!s);return[t,B(t,e),O(t,e),e]}));w!==z.T()&&z.q(5,[w,l]);const[I,R]=t.useReducer(z._,void 0,z._),T=z.M(),C=z.h(),M=[];A((()=>{$[L]=!1,z.W(1,(e=>{e?o.flushSync(R):R()})),z.W(4,(()=>{S[L]&&S[L]()})),z.W(8,(()=>{m[L]&&m[L]()}));const e=_[L];return y.U(e),b.L(e),()=>{z.v(),y.v(),b.v()}}),[]),A((()=>{b.Y()}),[I]),t.useImperativeHandle(v,(()=>({get cache(){return z.S()},get scrollOffset(){return z.C()},get viewportSize(){return z.p()},findItemIndex:z.$,getItemOffset:z.k,getItemSize:z.R,scrollToIndex:b.X})),[]);for(let[t,o]=z.m(i);t<=o;t++){const o=g(t);M.push(e.jsx(j,{Z:y.F,ee:t,te:z.k(t),oe:z.I(t),ne:a,N:o,re:x,ie:$[L]},P(o,t)))}return e.jsx(d,{ref:_,style:{contain:"size style",overflowAnchor:"none",flex:"none",position:"relative",width:x?C:"100%",height:x?"100%":C,pointerEvents:T?"none":void 0},children:M})})),K=(e,t)=>`${e}-${t}`,N=t.memo((({N:o,Z:n,se:r,le:i,ce:s,fe:l,ue:c,de:f,oe:u,ae:d})=>{const a=t.useRef(null);return A((()=>n.F(a[L],r,i)),[i,r]),e.jsx(d,{ref:a,style:t.useMemo((()=>({contain:"layout style",display:"grid",position:"absolute",top:s,[y()?"right":"left"]:l,visibility:u?"hidden":void 0,minHeight:c,minWidth:f})),[s,l,f,c,u]),children:o})})),Q=t.forwardRef((({children:n,row:r,col:i,cellHeight:s=40,cellWidth:l=100,bufferSize:c,ssrRowCount:f,ssrColCount:u,item:d="div",domRef:a,innerDomRef:h,onScroll:p,onScrollEnd:v,style:g,...w},_)=>{const[S,m,$,z]=X((()=>{const e=k(r,s,f),t=k(i,l,u);return[e,t,J(e,t),E(e,t)]}));r!==S.T()&&S.q(5,[r]),i!==m.T()&&m.q(5,[i]);const[y,b]=t.useReducer(S._,void 0,S._),[x,R]=t.useReducer(m._,void 0,m._),T=S.M(),C=m.M(),M=I(S),H=I(m),O=t.useRef(null),W=Y(p),q=Y(v);A((()=>{const e=O[L];return S.W(1,(e=>{e?o.flushSync(b):b()})),m.W(1,(e=>{e?o.flushSync(R):R()})),S.W(4,(()=>{W[L]&&W[L](S.C())})),S.W(8,(()=>{q[L]&&q[L]()})),$.U(e),z.L(e),()=>{S.v(),m.v(),$.v(),z.v()}}),[]),A((()=>{z.Y()}),[y,x]),t.useImperativeHandle(_,(()=>({get scrollTop(){return S.C()},get scrollLeft(){return m.C()},get scrollHeight(){return I(S)},get scrollWidth(){return I(m)},get viewportHeight(){return S.p()},get viewportWidth(){return m.p()},findRowIndex:S.$,findColIndex:m.$,getRowOffset:S.k,getColOffset:m.k,getRowSize:S.R,getColSize:m.R,resizeCols(e){$.G(e)},resizeRows(e){$.K(e)},scrollToIndex:z.X,scrollTo:z.D,scrollBy:z.P})),[]);const B=t.useMemo((()=>{const e=new Map;return(t,o)=>{let r=e.get(K(t,o));return r||e.set(K(t,o),r=n({rowIndex:t,colIndex:o})),r}}),[n]),[D,P]=S.m(c),[j,V]=m.m(c),U=[];for(let t=D;t<=P;t++)for(let o=j;o<=V;o++)U.push(e.jsx(N,{Z:$,se:t,le:o,ce:S.k(t),fe:m.k(o),ue:S.R(t),de:m.R(o),oe:S.I(t)||m.I(o),ae:d,N:B(t,o)},K(t,o)));return e.jsx("div",{ref:(F=[O,a],t.useCallback((e=>{for(const t of F)t&&("function"==typeof t?t(e):t&&(t.current=e))}),F)),...w,style:{overflow:"auto",contain:"strict",width:"100%",height:"100%",...g},children:e.jsx("div",{ref:h,style:{contain:"size style",overflowAnchor:"none",flex:"none",position:"relative",width:H,height:M,pointerEvents:T||C?"none":void 0},children:U})});var F}));exports.VList=F,exports.Virtualizer=U,exports.WindowVirtualizer=G,exports.experimental_VGrid=Q;
//# sourceMappingURL=index.cjs.map
