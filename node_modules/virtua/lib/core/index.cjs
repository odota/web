const e=null,{min:t,max:o,abs:r,floor:s}=Math,n=(e,r,s)=>t(s,o(r,e)),c=e=>[...e].sort(((e,t)=>e-t)),l="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)},i=()=>{let e;return[new Promise((t=>{e=t})),e]},f=e=>{let t;return()=>(e&&(t=e(),e=void 0),t)},a=(e,t,o)=>{const r=o?"unshift":"push";for(let o=0;o<t;o++)e[r](-1);return e},u=(e,t)=>{const o=e.t[t];return-1===o?e.o:o},p=(e,o,r)=>{const s=-1===e.t[o];return e.t[o]=r,e.l=t(o,e.l),s},$=(e,t)=>{if(!e.i)return 0;if(e.l>=t)return e.u[t];e.l<0&&(e.u[0]=0,e.l=0);let o=e.l,r=e.u[o];for(;o<t;)r+=u(e,o),e.u[++o]=r;return e.l=t,r},d=(e,t,o=0,r=e.i-1)=>{let c=o;for(;o<=r;){const n=s((o+r)/2);$(e,n)<=t?(c=n,o=n+1):r=n-1}return n(c,0,e.i-1)},h=(e,o,r)=>{const s=o-e.i;return e.l=r?-1:t(o-1,e.l),e.i=o,s>0?(a(e.u,s),a(e.t,s,r),e.o*s):(e.u.splice(s),(r?e.t.splice(0,-s):e.t.splice(s)).reduce(((t,o)=>t-(-1===o?e.o:o)),0))},m="undefined"!=typeof window,b=()=>document.documentElement,g=e=>e.ownerDocument,x=e=>e.defaultView,v=/*#__PURE__*/f((()=>!!m&&"rtl"===getComputedStyle(b()).direction)),w=/*#__PURE__*/f((()=>!!/iP(hone|od|ad)/.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>0)),S=/*#__PURE__*/f((()=>"scrollBehavior"in b().style)),k=setTimeout,I=(e,t)=>t&&v()?-e:e,y=(t,o,r,s,n,c)=>{const l=Date.now;let i=0,f=!1,a=!1,u=!1,p=!1;const $=(()=>{let o;const r=()=>{o!=e&&clearTimeout(o)},s=()=>{r(),o=k((()=>{o=e,(()=>{if(f||a)return f=!1,void $();u=!1,t.$update(2)})()}),150)};return s.p=r,s})(),d=()=>{i=l(),u&&(p=!0),c&&t.$update(6,c()),t.$update(1,s()),$()},h=e=>{if(f||!t.$isScrolling()||e.ctrlKey)return;const o=l()-i;150>o&&50<o&&(r?e.deltaX:e.deltaY)&&(f=!0)},m=()=>{a=!0,u=p=!1},b=()=>{a=!1,w()&&(u=!0)};return o.addEventListener("scroll",d),o.addEventListener("wheel",h,{passive:!0}),o.addEventListener("touchstart",m,{passive:!0}),o.addEventListener("touchend",b,{passive:!0}),{$:()=>{o.removeEventListener("scroll",d),o.removeEventListener("wheel",h),o.removeEventListener("touchstart",m),o.removeEventListener("touchend",b),$.p()},h:()=>{const[e,o]=t.m();e&&(n(I(e,r),o,p),p=!1,o&&t.$getViewportSize()>t.$getTotalSize()&&t.$update(1,s()))}}},_=(e,t,o)=>{let r;return[async(s,n)=>{if(!await t())return;r&&r();const c=()=>{const[t,o]=i();return r=()=>{o(!1)},e.$getViewportSize()&&k(r,150),[t,e.$subscribe(2,(()=>{o(!0)}))]};if(n&&S())e.$update(8,s()),l((async()=>{for(;;){let t=!0;for(let[o,r]=e.$getRange();o<=r;o++)if(e.$isUnmeasuredItem(o)){t=!1;break}if(t)break;const[o,r]=c();try{if(!await o)return}finally{r()}}e.$update(7),o(s(),n)}));else for(;;){const[t,r]=c();try{if(e.$update(7),o(s()),!await t)return}finally{r()}}},()=>{r&&r()}]},z=(e,t)=>{let o,r,s=i();const c=t?"scrollLeft":"scrollTop",l=t?"overflowX":"overflowY",[f,a]=_(e,(()=>s[0]),((e,r)=>{e=I(e,t),r?o.scrollTo({[t?"left":"top"]:e,behavior:"smooth"}):o[c]=e}));return{$observe(n){o=n,r=y(e,n,t,(()=>I(n[c],t)),((t,o,r)=>{if(r){const e=n.style,t=e[l];e[l]="hidden",k((()=>{e[l]=t}))}n[c]=e.$getScrollOffset()+t,o&&a()})),s[1](!0)},$dispose(){r&&r.$(),s[1](!1),s=i()},$scrollTo(e){f((()=>e))},$scrollBy(t){t+=e.$getScrollOffset(),f((()=>t))},$scrollToIndex(t,{align:o,smooth:r,offset:s=0}={}){if(t=n(t,0,e.$getItemsLength()-1),"nearest"===o){const r=e.$getItemOffset(t),s=e.$getScrollOffset();if(r<s)o="start";else{if(!(r+e.$getItemSize(t)>s+e.$getViewportSize()))return;o="end"}}f((()=>s+e.$getStartSpacerSize()+e.$getItemOffset(t)+("end"===o?e.$getItemSize(t)-e.$getViewportSize():"center"===o?(e.$getItemSize(t)-e.$getViewportSize())/2:0)),r)},$fixScrollJump:()=>{r&&r.h()}}},T=e=>{let t;return{v(o){(t||(t=new(x(g(o)).ResizeObserver)(e))).observe(o)},S(e){t.unobserve(e)},$(){t&&t.disconnect()}}};exports.ACTION_ITEMS_LENGTH_CHANGE=5,exports.ACTION_START_OFFSET_CHANGE=6,exports.UPDATE_SCROLL_END_EVENT=8,exports.UPDATE_SCROLL_EVENT=4,exports.UPDATE_VIRTUAL_STATE=1,exports.createGridResizer=(e,t)=>{let r;const s=new WeakMap,n=new Set,c=new Set,l=new Map,i=(e,t)=>`${e}-${t}`,f=T((f=>{const a=new Set,u=new Set;for(const{target:o,contentRect:{width:n,height:c}}of f)if(o.offsetParent)if(o===r)e.$update(4,c),t.$update(4,n);else{const e=s.get(o);if(e){const[t,o]=e,r=i(t,o),s=l.get(r);let f,p;s?(s[0]!==c&&(f=!0),s[1]!==n&&(p=!0)):f=p=!0,f&&a.add(t),p&&u.add(o),(f||p)&&l.set(r,[c,n])}}if(a.size){const t=[];a.forEach((e=>{let r=0;c.forEach((t=>{const s=l.get(i(e,t));s&&(r=o(r,s[0]))})),r&&t.push([e,r])})),e.$update(3,t)}if(u.size){const e=[];u.forEach((t=>{let r=0;n.forEach((e=>{const s=l.get(i(e,t));s&&(r=o(r,s[1]))})),r&&e.push([t,r])})),t.$update(3,e)}}));return{$observeRoot(e){f.v(r=e)},$observeItem:(e,t,o)=>(s.set(e,[t,o]),n.add(t),c.add(o),f.v(e),()=>{s.delete(e),f.S(e)}),$resizeCols(o){for(const[t]of o)for(let o=0;o<e.$getItemsLength();o++)l.delete(i(o,t));t.$update(3,o)},$resizeRows(o){for(const[e]of o)for(let o=0;o<t.$getItemsLength();o++)l.delete(i(e,o));e.$update(3,o)},$dispose:f.$}},exports.createGridScroller=(e,t)=>{const o=z(e,!1),r=z(t,!0);return{$observe(e){o.$observe(e),r.$observe(e)},$dispose(){o.$dispose(),r.$dispose()},$scrollTo(e,t){null!=e&&o.$scrollTo(e),null!=t&&r.$scrollTo(t)},$scrollBy(e,t){null!=e&&o.$scrollBy(e),null!=t&&r.$scrollBy(t)},$scrollToIndex(e,t){null!=e&&o.$scrollToIndex(e),null!=t&&r.$scrollToIndex(t)},$fixScrollJump(){o.$fixScrollJump(),r.$fixScrollJump()}}},exports.createResizer=(t,o)=>{let r;const s=o?"width":"height",n=new WeakMap,c=T((o=>{const c=[];for(const{target:l,contentRect:i}of o)if(l.offsetParent)if(l===r)t.$update(4,i[s]);else{const t=n.get(l);t!=e&&c.push([t,i[s]])}c.length&&t.$update(3,c)}));return{$observeRoot(e){c.v(r=e)},$observeItem:(e,t)=>(n.set(e,t),c.v(e),()=>{n.delete(e),c.S(e)}),$dispose:c.$}},exports.createScroller=z,exports.createVirtualStore=(s,n=40,l=0,i,f=!1)=>{let m=!!l,b=1,g=0,x=0,v=0,S=0,k=0,I=0,y=0,_=0,z=e,T=[0,m?o(l-1,0):-1],M=0,R=!1;const J=((e,r,s)=>({o:r,t:s?a(s.slice(0,t(e,s.length)),o(0,e-s.length)):a([],e),i:e,l:-1,u:a([],e+1)}))(s,i?i[1]:n,i&&i[0]),W=new Set,B=()=>v-x,C=()=>B()+k+S,L=(e,o)=>((e,o,r,s)=>{if(s=t(s,e.i-1),$(e,s)<=o){const t=d(e,r,s);return[d(e,o,s,t),t]}{const t=d(e,o,void 0,s);return[t,d(e,r,t)]}})(J,e,o,T[0]),O=()=>$(J,J.i),P=e=>$(J,e)-k,q=e=>u(J,e),V=(e,t=-1)=>J.t[e]===t,X=e=>{e&&(w()&&0!==y||z&&1===_?k+=e:S+=e)};return{$dispose:()=>{W.clear()},$getStateVersion:()=>b,$getCacheSnapshot:()=>(e=>[e.t.slice(),e.o])(J),$getRange:(e=200)=>{if(!R||m)return T;let r,s;if(I)[r,s]=T;else{let n=o(0,C()),c=n+g;f||(e=o(0,e),1!==y&&(n-=e),2!==y&&(c+=e)),[r,s]=T=L(o(0,n),o(0,c)),z&&(r=t(r,z[0]),s=o(s,z[1]))}return[o(r,0),t(s,J.i-1)]},$findItemIndex:e=>d(J,e-x),$isUnmeasuredItem:V,$getItemOffset:P,$getItemSize:q,$getItemsLength:()=>J.i,$getScrollOffset:()=>v,$isScrolling:()=>0!==y,$getViewportSize:()=>g,$getStartSpacerSize:()=>x,$getTotalSize:O,m:()=>(I=S,S=0,[I,2===_]),$subscribe:(e,t)=>{const o=[e,t];return W.add(o),()=>{W.delete(o)}},$update:(t,s)=>{let n,l,i=0;switch(t){case 1:{if(s===v&&0===_)break;const e=I;I=0;const t=s-v,o=r(t);e&&o<r(e)+1||0!==_||(y=t<0?2:1),m&&(m=!1),v=s,i=4;const n=B();n>=-g&&n<=O()&&(i+=1,l=o>g);break}case 2:i=8,0!==y&&(n=!0,i+=1),y=0,_=0,z=e;break;case 3:{const e=s.filter((([e,t])=>!V(e,t)));if(!e.length)break;X(e.reduce(((e,[t,o])=>((2===_||(z&&1===_?t<z[0]:P(t+(0===y&&0===_?1:0))<B()))&&(e+=o-q(t)),e)),0));for(const[t,o]of e){const e=q(t),r=p(J,t,o);f&&(M+=r?o:o-e)}f&&g&&M>g&&(X(((e,t)=>{let r=0;const s=[];e.t.forEach(((e,o)=>{-1!==e&&(s.push(e),o<t&&r++)})),e.l=-1;const n=c(s),l=n.length,i=l/2|0,f=l%2==0?(n[i-1]+n[i])/2:n[i],a=e.o;return((e.o=f)-a)*o(t-r,0)})(J,d(J,C()))),f=!1),i=3,l=!0;break}case 4:g!==s&&(g||(R=l=!0),g=s,i=3);break;case 5:s[1]?(X(h(J,s[0],!0)),_=2,i=1):(h(J,s[0]),i=1);break;case 6:x=s;break;case 7:_=1;break;case 8:z=L(s,s+g),i=1}i&&(b=1+(2147483647&b),n&&k&&(S+=k,k=0),W.forEach((([e,t])=>{i&e&&t(l)})))}}},exports.createWindowResizer=(t,o)=>{const r=o?"width":"height",s=o?"innerWidth":"innerHeight",n=new WeakMap,c=T((o=>{const s=[];for(const{target:t,contentRect:c}of o){if(!t.offsetParent)continue;const o=n.get(t);o!=e&&s.push([o,c[r]])}s.length&&t.$update(3,s)}));let i;return{$observeRoot(e){const o=x(g(e)),r=()=>{t.$update(4,o[s])};o.addEventListener("resize",r),l(r),i=()=>{o.removeEventListener("resize",r)}},$observeItem:(e,t)=>(n.set(e,t),c.v(e),()=>{n.delete(e),c.S(e)}),$dispose(){i&&i(),c.$()}}},exports.createWindowScroller=(e,t)=>{let o,r,s=i();const c=t?"left":"top",[l]=_(e,(()=>s[0]),((e,r)=>{e=I(e,t);const s=x(g(o));r?s.scroll({[c]:e,behavior:"smooth"}):s.scroll({[c]:e})})),f=(e,t,o,r,s=0)=>{const n=r?"offsetLeft":"offsetTop",c=s+(r&&v()?o.innerWidth-e[n]-e.offsetWidth:e[n]),l=e.offsetParent;return e!==t&&l?f(l,t,o,r,c):c};return{$observe(n){o=n;const l=t?"scrollX":"scrollY",i=g(n),a=x(i);r=y(e,a,t,(()=>I(a[l],t)),((t,o)=>{o?a.scroll({[c]:e.$getScrollOffset()+t}):a.scrollBy({[c]:t})}),(()=>f(n,i.body,a,t))),s[1](!0)},$dispose(){r&&r.$(),o=void 0,s[1](!1),s=i()},$fixScrollJump:()=>{r&&r.h()},$scrollToIndex(r,{align:s,smooth:c,offset:i=0}={}){if(!o)return;if(r=n(r,0,e.$getItemsLength()-1),"nearest"===s){const t=e.$getItemOffset(r),o=e.$getScrollOffset();if(t<o)s="start";else{if(!(t+e.$getItemSize(r)>o+e.$getViewportSize()))return;s="end"}}const a=g(o),u=x(a),p=a.documentElement,$=()=>e.$getViewportSize()-(t?p.clientWidth:p.clientHeight);l((()=>i+f(o,a.body,u,t)+e.$getItemOffset(r)+("end"===s?e.$getItemSize(r)-(e.$getViewportSize()-$()):"center"===s?(e.$getItemSize(r)-(e.$getViewportSize()-$()))/2:0)),c)}}},exports.getScrollSize=e=>o(e.$getTotalSize(),e.$getViewportSize()),exports.isBrowser=m,exports.isRTLDocument=v,exports.microtask=l,exports.sort=c;
//# sourceMappingURL=index.cjs.map
