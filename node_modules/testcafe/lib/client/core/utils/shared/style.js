"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.isFixedElement = exports.hasDimensions = exports.isNotVisibleNode = void 0;
const index_1 = __importDefault(require("./adapter/index"));
const isVisibilityHiddenNode = function (node) {
    return !!index_1.default.dom.findParent(node, true, (ancestor) => index_1.default.dom.isElementNode(ancestor) && index_1.default.style.get(ancestor, 'visibility') === 'hidden');
};
const isHiddenNode = function (node) {
    return !!index_1.default.dom.findParent(node, true, (ancestor) => index_1.default.dom.isElementNode(ancestor) && index_1.default.style.get(ancestor, 'display') === 'none');
};
function isNotVisibleNode(node) {
    return !index_1.default.dom.isRenderedNode(node) || isHiddenNode(node) || isVisibilityHiddenNode(node);
}
exports.isNotVisibleNode = isNotVisibleNode;
function hasDimensions(el) {
    //NOTE: it's like jquery ':visible' selector (http://blog.jquery.com/2009/02/20/jquery-1-3-2-released/)
    return el && !(el.offsetHeight <= 0 && el.offsetWidth <= 0);
}
exports.hasDimensions = hasDimensions;
function isFixedElement(node) {
    return index_1.default.dom.isElementNode(node) && index_1.default.style.get(node, 'position') === 'fixed';
}
exports.isFixedElement = isFixedElement;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3R5bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvY2xpZW50L2NvcmUvdXRpbHMvc2hhcmVkL3N0eWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDREQUFzQztBQUd0QyxNQUFNLHNCQUFzQixHQUFHLFVBQVUsSUFBVTtJQUMvQyxPQUFPLENBQUMsQ0FBQyxlQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsUUFBYyxFQUFFLEVBQUUsQ0FDM0QsZUFBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLElBQUksZUFBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLFlBQVksQ0FBQyxLQUFLLFFBQVEsQ0FBQyxDQUFDO0FBQ3ZHLENBQUMsQ0FBQztBQUVGLE1BQU0sWUFBWSxHQUFHLFVBQVUsSUFBVTtJQUNyQyxPQUFPLENBQUMsQ0FBQyxlQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsUUFBYyxFQUFFLEVBQUUsQ0FDM0QsZUFBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLElBQUksZUFBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxLQUFLLE1BQU0sQ0FBQyxDQUFDO0FBQ2xHLENBQUMsQ0FBQztBQUVGLFNBQWdCLGdCQUFnQixDQUFFLElBQVU7SUFDeEMsT0FBTyxDQUFDLGVBQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNuRyxDQUFDO0FBRkQsNENBRUM7QUFFRCxTQUFnQixhQUFhLENBQUUsRUFBZTtJQUMxQyx1R0FBdUc7SUFDdkcsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxZQUFZLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxXQUFXLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDaEUsQ0FBQztBQUhELHNDQUdDO0FBRUQsU0FBZ0IsY0FBYyxDQUFFLElBQVU7SUFDdEMsT0FBTyxlQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxlQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLEtBQUssT0FBTyxDQUFDO0FBQzlGLENBQUM7QUFGRCx3Q0FFQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhZGFwdGVyIGZyb20gJy4vYWRhcHRlci9pbmRleCc7XG5cblxuY29uc3QgaXNWaXNpYmlsaXR5SGlkZGVuTm9kZSA9IGZ1bmN0aW9uIChub2RlOiBOb2RlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhYWRhcHRlci5kb20uZmluZFBhcmVudChub2RlLCB0cnVlLCAoYW5jZXN0b3I6IE5vZGUpID0+XG4gICAgICAgIGFkYXB0ZXIuZG9tLmlzRWxlbWVudE5vZGUoYW5jZXN0b3IpICYmIGFkYXB0ZXIuc3R5bGUuZ2V0KGFuY2VzdG9yLCAndmlzaWJpbGl0eScpID09PSAnaGlkZGVuJyk7XG59O1xuXG5jb25zdCBpc0hpZGRlbk5vZGUgPSBmdW5jdGlvbiAobm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIWFkYXB0ZXIuZG9tLmZpbmRQYXJlbnQobm9kZSwgdHJ1ZSwgKGFuY2VzdG9yOiBOb2RlKSA9PlxuICAgICAgICBhZGFwdGVyLmRvbS5pc0VsZW1lbnROb2RlKGFuY2VzdG9yKSAmJiBhZGFwdGVyLnN0eWxlLmdldChhbmNlc3RvciwgJ2Rpc3BsYXknKSA9PT0gJ25vbmUnKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc05vdFZpc2libGVOb2RlIChub2RlOiBOb2RlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICFhZGFwdGVyLmRvbS5pc1JlbmRlcmVkTm9kZShub2RlKSB8fCBpc0hpZGRlbk5vZGUobm9kZSkgfHwgaXNWaXNpYmlsaXR5SGlkZGVuTm9kZShub2RlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0RpbWVuc2lvbnMgKGVsOiBIVE1MRWxlbWVudCk6IGJvb2xlYW4ge1xuICAgIC8vTk9URTogaXQncyBsaWtlIGpxdWVyeSAnOnZpc2libGUnIHNlbGVjdG9yIChodHRwOi8vYmxvZy5qcXVlcnkuY29tLzIwMDkvMDIvMjAvanF1ZXJ5LTEtMy0yLXJlbGVhc2VkLylcbiAgICByZXR1cm4gZWwgJiYgIShlbC5vZmZzZXRIZWlnaHQgPD0gMCAmJiBlbC5vZmZzZXRXaWR0aCA8PSAwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRml4ZWRFbGVtZW50IChub2RlOiBOb2RlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGFkYXB0ZXIuZG9tLmlzRWxlbWVudE5vZGUobm9kZSkgJiYgYWRhcHRlci5zdHlsZS5nZXQobm9kZSwgJ3Bvc2l0aW9uJykgPT09ICdmaXhlZCc7XG59XG4iXX0=