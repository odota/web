"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const endpoint_utils_1 = require("endpoint-utils");
const create_temp_profile_1 = __importDefault(require("./create-temp-profile"));
async function default_1(config) {
    const marionettePort = config.marionettePort || (!config.userProfile ? await endpoint_utils_1.getFreePort() : null);
    const runtimeInfo = { config, marionettePort };
    runtimeInfo.tempProfileDir = !config.userProfile ? await create_temp_profile_1.default(runtimeInfo) : null;
    runtimeInfo.activeWindowId = null;
    return runtimeInfo;
}
exports.default = default_1;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnVudGltZS1pbmZvLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2Jyb3dzZXIvcHJvdmlkZXIvYnVpbHQtaW4vZGVkaWNhdGVkL2ZpcmVmb3gvcnVudGltZS1pbmZvLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsbURBQTZDO0FBQzdDLGdGQUFzRDtBQUd2QyxLQUFLLG9CQUFXLE1BQU07SUFDakMsTUFBTSxjQUFjLEdBQUcsTUFBTSxDQUFDLGNBQWMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsTUFBTSw0QkFBVyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25HLE1BQU0sV0FBVyxHQUFNLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBRWxELFdBQVcsQ0FBQyxjQUFjLEdBQUcsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxNQUFNLDZCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDL0YsV0FBVyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7SUFFbEMsT0FBTyxXQUFXLENBQUM7QUFDdkIsQ0FBQztBQVJELDRCQVFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RnJlZVBvcnQgfSBmcm9tICdlbmRwb2ludC11dGlscyc7XG5pbXBvcnQgY3JlYXRlVGVtcFByb2ZpbGUgZnJvbSAnLi9jcmVhdGUtdGVtcC1wcm9maWxlJztcblxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgY29uc3QgbWFyaW9uZXR0ZVBvcnQgPSBjb25maWcubWFyaW9uZXR0ZVBvcnQgfHwgKCFjb25maWcudXNlclByb2ZpbGUgPyBhd2FpdCBnZXRGcmVlUG9ydCgpIDogbnVsbCk7XG4gICAgY29uc3QgcnVudGltZUluZm8gICAgPSB7IGNvbmZpZywgbWFyaW9uZXR0ZVBvcnQgfTtcblxuICAgIHJ1bnRpbWVJbmZvLnRlbXBQcm9maWxlRGlyID0gIWNvbmZpZy51c2VyUHJvZmlsZSA/IGF3YWl0IGNyZWF0ZVRlbXBQcm9maWxlKHJ1bnRpbWVJbmZvKSA6IG51bGw7XG4gICAgcnVudGltZUluZm8uYWN0aXZlV2luZG93SWQgPSBudWxsO1xuXG4gICAgcmV0dXJuIHJ1bnRpbWVJbmZvO1xufVxuIl19