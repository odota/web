"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
const mouse_click_strategy_base_1 = require("../../../../../../../../shared/actions/automations/click/mouse-click-strategy-base");
const clientsManager = __importStar(require("../../clients-manager"));
const BUTTON = 'left';
const CLICK_COUNT = 1;
class CDPMouseClickStategy extends mouse_click_strategy_base_1.MouseClickStrategyBase {
    constructor() {
        super();
    }
    async mousedown(options) {
        var _a, _b, _c, _d;
        const { Input } = clientsManager.getClient();
        await Input.dispatchMouseEvent({
            type: 'mousePressed',
            x: (_b = (_a = options.point) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : -1,
            y: (_d = (_c = options.point) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : -1,
            button: BUTTON,
            clickCount: CLICK_COUNT,
        });
    }
    async mouseup(element, options) {
        var _a, _b, _c, _d;
        const { Input } = clientsManager.getClient();
        await Input.dispatchMouseEvent({
            type: 'mouseReleased',
            x: (_b = (_a = options.point) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : -1,
            y: (_d = (_c = options.point) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : -1,
            button: BUTTON,
            clickCount: CLICK_COUNT,
        });
        return options;
    }
}
function createMouseClickStrategy() {
    return new CDPMouseClickStategy();
}
exports.default = createMouseClickStrategy;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLW1vdXNlLWNsaWNrLXN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2Jyb3dzZXIvcHJvdmlkZXIvYnVpbHQtaW4vZGVkaWNhdGVkL2Nocm9tZS9jZHAtY2xpZW50L2F1dG9tYXRpb25zL2NsaWNrL2NyZWF0ZS1tb3VzZS1jbGljay1zdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxrSUFBNEg7QUFDNUgsc0VBQXdEO0FBRXhELE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQztBQUN0QixNQUFNLFdBQVcsR0FBRyxDQUFDLENBQUM7QUFFdEIsTUFBTSxvQkFBd0IsU0FBUSxrREFBeUI7SUFDM0Q7UUFDSSxLQUFLLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFFTSxLQUFLLENBQUMsU0FBUyxDQUFFLE9BQTBCOztRQUM5QyxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsY0FBYyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBRTdDLE1BQU0sS0FBSyxDQUFDLGtCQUFrQixDQUFDO1lBQzNCLElBQUksRUFBUSxjQUFjO1lBQzFCLENBQUMsY0FBVyxPQUFPLENBQUMsS0FBSywwQ0FBRSxDQUFDLG1DQUFJLENBQUMsQ0FBQztZQUNsQyxDQUFDLGNBQVcsT0FBTyxDQUFDLEtBQUssMENBQUUsQ0FBQyxtQ0FBSSxDQUFDLENBQUM7WUFDbEMsTUFBTSxFQUFNLE1BQU07WUFDbEIsVUFBVSxFQUFFLFdBQVc7U0FDMUIsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLEtBQUssQ0FBQyxPQUFPLENBQUUsT0FBVSxFQUFFLE9BQTBCOztRQUN4RCxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsY0FBYyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBRTdDLE1BQU0sS0FBSyxDQUFDLGtCQUFrQixDQUFDO1lBQzNCLElBQUksRUFBUSxlQUFlO1lBQzNCLENBQUMsY0FBVyxPQUFPLENBQUMsS0FBSywwQ0FBRSxDQUFDLG1DQUFJLENBQUMsQ0FBQztZQUNsQyxDQUFDLGNBQVcsT0FBTyxDQUFDLEtBQUssMENBQUUsQ0FBQyxtQ0FBSSxDQUFDLENBQUM7WUFDbEMsTUFBTSxFQUFNLE1BQU07WUFDbEIsVUFBVSxFQUFFLFdBQVc7U0FDMUIsQ0FBQyxDQUFDO1FBRUgsT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztDQUNKO0FBRUQsU0FBd0Isd0JBQXdCO0lBQzVDLE9BQU8sSUFBSSxvQkFBb0IsRUFBSyxDQUFDO0FBQ3pDLENBQUM7QUFGRCwyQ0FFQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vdXNlRXZlbnRBcmdzIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vc2hhcmVkL2FjdGlvbnMvYXV0b21hdGlvbnMvdmlzaWJsZS1lbGVtZW50LWF1dG9tYXRpb24nO1xuaW1wb3J0IHsgTW91c2VDbGlja1N0cmF0ZWd5QmFzZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3NoYXJlZC9hY3Rpb25zL2F1dG9tYXRpb25zL2NsaWNrL21vdXNlLWNsaWNrLXN0cmF0ZWd5LWJhc2UnO1xuaW1wb3J0ICogYXMgY2xpZW50c01hbmFnZXIgZnJvbSAnLi4vLi4vY2xpZW50cy1tYW5hZ2VyJztcblxuY29uc3QgQlVUVE9OID0gJ2xlZnQnO1xuY29uc3QgQ0xJQ0tfQ09VTlQgPSAxO1xuXG5jbGFzcyBDRFBNb3VzZUNsaWNrU3RhdGVneTxFPiBleHRlbmRzIE1vdXNlQ2xpY2tTdHJhdGVneUJhc2U8RT4ge1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIG1vdXNlZG93biAob3B0aW9uczogTW91c2VFdmVudEFyZ3M8RT4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBJbnB1dCB9ID0gY2xpZW50c01hbmFnZXIuZ2V0Q2xpZW50KCk7XG5cbiAgICAgICAgYXdhaXQgSW5wdXQuZGlzcGF0Y2hNb3VzZUV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6ICAgICAgICdtb3VzZVByZXNzZWQnLFxuICAgICAgICAgICAgeDogICAgICAgICAgb3B0aW9ucy5wb2ludD8ueCA/PyAtMSxcbiAgICAgICAgICAgIHk6ICAgICAgICAgIG9wdGlvbnMucG9pbnQ/LnkgPz8gLTEsXG4gICAgICAgICAgICBidXR0b246ICAgICBCVVRUT04sXG4gICAgICAgICAgICBjbGlja0NvdW50OiBDTElDS19DT1VOVCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIG1vdXNldXAgKGVsZW1lbnQ6IEUsIG9wdGlvbnM6IE1vdXNlRXZlbnRBcmdzPEU+KTogUHJvbWlzZTxNb3VzZUV2ZW50QXJnczxFPj4ge1xuICAgICAgICBjb25zdCB7IElucHV0IH0gPSBjbGllbnRzTWFuYWdlci5nZXRDbGllbnQoKTtcblxuICAgICAgICBhd2FpdCBJbnB1dC5kaXNwYXRjaE1vdXNlRXZlbnQoe1xuICAgICAgICAgICAgdHlwZTogICAgICAgJ21vdXNlUmVsZWFzZWQnLFxuICAgICAgICAgICAgeDogICAgICAgICAgb3B0aW9ucy5wb2ludD8ueCA/PyAtMSxcbiAgICAgICAgICAgIHk6ICAgICAgICAgIG9wdGlvbnMucG9pbnQ/LnkgPz8gLTEsXG4gICAgICAgICAgICBidXR0b246ICAgICBCVVRUT04sXG4gICAgICAgICAgICBjbGlja0NvdW50OiBDTElDS19DT1VOVCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVNb3VzZUNsaWNrU3RyYXRlZ3k8RT4gKCk6IE1vdXNlQ2xpY2tTdHJhdGVneUJhc2U8RT4ge1xuICAgIHJldHVybiBuZXcgQ0RQTW91c2VDbGlja1N0YXRlZ3k8RT4oKTtcbn1cbiJdfQ==