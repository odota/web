"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const time_limit_promise_1 = __importDefault(require("time-limit-promise"));
// This function can finish with reject
function executeFnWithTimeout(fn, timeout, ...args) {
    if (!timeout)
        return fn(...args);
    else if (!timeout.timeout)
        throw timeout.rejectWith;
    else
        return time_limit_promise_1.default(fn(...args), timeout.timeout, { rejectWith: timeout.rejectWith });
}
exports.default = executeFnWithTimeout;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhlY3V0ZS1mbi13aXRoLXRpbWVvdXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbHMvZXhlY3V0ZS1mbi13aXRoLXRpbWVvdXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSw0RUFBMkM7QUFRM0MsdUNBQXVDO0FBQ3ZDLFNBQXdCLG9CQUFvQixDQUFFLEVBQVksRUFBRSxPQUFnQyxFQUFFLEdBQUcsSUFBVztJQUN4RyxJQUFJLENBQUMsT0FBTztRQUNSLE9BQU8sRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7U0FDbEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPO1FBQ3JCLE1BQU0sT0FBTyxDQUFDLFVBQVUsQ0FBQzs7UUFFekIsT0FBTyw0QkFBUyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLE9BQU8sQ0FBQyxPQUFPLEVBQUUsRUFBRSxVQUFVLEVBQUUsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUM7QUFDM0YsQ0FBQztBQVBELHVDQU9DIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRpbWVMaW1pdCBmcm9tICd0aW1lLWxpbWl0LXByb21pc2UnO1xuaW1wb3J0IHsgUnVuVGltZW91dEVycm9yLCBUZXN0VGltZW91dEVycm9yIH0gZnJvbSAnLi4vZXJyb3JzL3Rlc3QtcnVuJztcblxuaW50ZXJmYWNlIEV4ZWN1dGlvblRpbWVvdXQge1xuICAgIHRpbWVvdXQ6IG51bWJlcjtcbiAgICByZWplY3RXaXRoOiBUZXN0VGltZW91dEVycm9yIHwgUnVuVGltZW91dEVycm9yO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGNhbiBmaW5pc2ggd2l0aCByZWplY3RcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGV4ZWN1dGVGbldpdGhUaW1lb3V0IChmbjogRnVuY3Rpb24sIHRpbWVvdXQ6IEV4ZWN1dGlvblRpbWVvdXQgfCBudWxsLCAuLi5hcmdzOiBhbnlbXSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGltZW91dClcbiAgICAgICAgcmV0dXJuIGZuKC4uLmFyZ3MpO1xuICAgIGVsc2UgaWYgKCF0aW1lb3V0LnRpbWVvdXQpXG4gICAgICAgIHRocm93IHRpbWVvdXQucmVqZWN0V2l0aDtcbiAgICBlbHNlXG4gICAgICAgIHJldHVybiB0aW1lTGltaXQoZm4oLi4uYXJncyksIHRpbWVvdXQudGltZW91dCwgeyByZWplY3RXaXRoOiB0aW1lb3V0LnJlamVjdFdpdGggfSk7XG59XG4iXX0=