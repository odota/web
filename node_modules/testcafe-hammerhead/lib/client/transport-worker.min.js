!function(){function e(e,n){var o=n.target;500===o.status&&o.responseText?(e.msg.disableResending=!0,t(e,n)):e.callback(null,o.responseText&&JSON.parse(o.responseText))}function t(e,t){var n=t.target;if(e.msg.disableResending){var r="XHR request failed with "+n.status+" status code.";n.responseText&&(r+="\nError message: "+n.responseText),e.callback(r)}else e.msg.disableResending=!0,o(e.url,e.msg,e.callback)}function n(n){var o=this;"load"===n.type?e(o,n):t(o,n)}function o(e,t,o){var r=new XMLHttpRequest,i={url:e,msg:t,callback:o,handleEvent:n};r.open("POST",e,!0),r.setRequestHeader(a.cacheControl,"no-cache, no-store, must-revalidate"),r.addEventListener("load",i),r.addEventListener("abort",i),r.addEventListener("error",i),r.addEventListener("timeout",i),r.send(JSON.stringify(t))}function r(e,t){o(l,e,function(e,n){return t({err:e,data:n})})}function i(e,t){u[e.cmd]||(u[e.cmd]=[]),u[e.cmd].push({msg:e,callback:t});var n=function(t){var o=u[e.cmd].shift();o.callback(t),u[e.cmd].length&&r(u[e.cmd][0].msg,n)};1===u[e.cmd].length&&r(e,n)}var a={authorization:"authorization",wwwAuthenticate:"www-authenticate",proxyAuthorization:"proxy-authorization",proxyAuthenticate:"proxy-authenticate",host:"host",referer:"referer",origin:"origin",contentLength:"content-length",cookie:"cookie",setCookie:"set-cookie",ifModifiedSince:"if-modified-since",ifNoneMatch:"if-none-match",contentType:"content-type",location:"location",xFrameOptions:"x-frame-options",sourceMap:"sourcemap",referrerPolicy:"referrer-policy",refresh:"refresh",link:"link",cacheControl:"cache-control",pragma:"pragma",eTag:"etag",contentDisposition:"content-disposition",accept:"accept",contentEncoding:"content-encoding",expires:"expires",trailer:"trailer",transferEncoding:"transfer-encoding",serviceWorkerAllowed:"service-worker-allowed",accessControlAllowOrigin:"access-control-allow-origin",accessControlAllowCredentials:"access-control-allow-credentials",contentSecurityPolicy:"content-security-policy",contentSecurityPolicyReportOnly:"content-security-policy-report-only",xContentSecurityPolicy:"x-content-security-policy",xContentSecurityPolicyReportOnly:"x-content-security-policy-report-only",xWebkitCsp:"x-webkit-csp"},c="hammerhead|transport|set-initial-worker-settings",s="hammerhead|transport|handle-port",l="",d="",u={},p=function(e){if(e.data.cmd===c){var t=e.data;l=t.serviceMsgUrl,d=t.sessionId}else if(e.data.cmd===s)e.ports[0].onmessage=p;else{var n=e.data,o=n.msg,a=function(t){return e.target.postMessage({id:n.id,result:t})};o.sessionId=d,n.queued?i(o,a):r(o,a)}};self.addEventListener("message",p)}();