{"version":3,"file":"ponyfill.es6.js","sources":["../src/stub/symbol.js","../src/stub/number-isinteger.js","../src/utils.js","../src/stub/number-isnan.js","../spec/reference-implementation/lib/helpers.js","../src/stub/helpers.js","../src/stub/assert.js","../spec/reference-implementation/lib/utils.js","../spec/reference-implementation/lib/queue-with-sizes.js","../spec/reference-implementation/lib/writable-stream.js","../spec/reference-implementation/lib/readable-stream.js","../spec/reference-implementation/lib/byte-length-queuing-strategy.js","../spec/reference-implementation/lib/count-queuing-strategy.js","../spec/reference-implementation/lib/transform-stream.js"],"sourcesContent":["const SymbolPolyfill = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ?\n  Symbol :\n  description => `Symbol(${description})`;\n\nexport default SymbolPolyfill;\n","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger#Polyfill\nconst NumberIsInteger = Number.isInteger || function (value) {\n  return typeof value === 'number' &&\n    isFinite(value) &&\n    Math.floor(value) === value;\n};\n\nexport default NumberIsInteger;\n","export function noop() {\n  // do nothing\n}\n\nfunction getGlobals() {\n  /* global self, window, global */\n  if (typeof self !== 'undefined') {\n    return self;\n  } else if (typeof window !== 'undefined') {\n    return window;\n  } else if (typeof global !== 'undefined') {\n    return global;\n  }\n  return undefined;\n}\n\nexport const globals = getGlobals();\n","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN#Polyfill\nconst NumberIsNaN = Number.isNaN || function (x) {\n  // eslint-disable-next-line no-self-compare\n  return x !== x;\n};\n\nexport default NumberIsNaN;\n","'use strict';\r\nconst assert = require('better-assert');\r\n\r\nconst isFakeDetached = Symbol('is \"detached\" for our purposes');\r\n\r\nfunction IsPropertyKey(argument) {\r\n  return typeof argument === 'string' || typeof argument === 'symbol';\r\n}\r\n\r\nexports.typeIsObject = x => (typeof x === 'object' && x !== null) || typeof x === 'function';\r\n\r\nexports.createDataProperty = (o, p, v) => {\r\n  assert(exports.typeIsObject(o));\r\n  Object.defineProperty(o, p, { value: v, writable: true, enumerable: true, configurable: true });\r\n};\r\n\r\nexports.createArrayFromList = elements => {\r\n  // We use arrays to represent lists, so this is basically a no-op.\r\n  // Do a slice though just in case we happen to depend on the unique-ness.\r\n  return elements.slice();\r\n};\r\n\r\nexports.ArrayBufferCopy = (dest, destOffset, src, srcOffset, n) => {\r\n  new Uint8Array(dest).set(new Uint8Array(src, srcOffset, n), destOffset);\r\n};\r\n\r\nexports.IsFiniteNonNegativeNumber = v => {\r\n  if (exports.IsNonNegativeNumber(v) === false) {\r\n    return false;\r\n  }\r\n\r\n  if (v === Infinity) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nexports.IsNonNegativeNumber = v => {\r\n  if (typeof v !== 'number') {\r\n    return false;\r\n  }\r\n\r\n  if (Number.isNaN(v)) {\r\n    return false;\r\n  }\r\n\r\n  if (v < 0) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction Call(F, V, args) {\r\n  if (typeof F !== 'function') {\r\n    throw new TypeError('Argument is not a function');\r\n  }\r\n\r\n  return Function.prototype.apply.call(F, V, args);\r\n}\r\n\r\nexports.Call = Call;\r\n\r\nexports.CreateAlgorithmFromUnderlyingMethod = (underlyingObject, methodName, algoArgCount, extraArgs) => {\r\n  assert(underlyingObject !== undefined);\r\n  assert(IsPropertyKey(methodName));\r\n  assert(algoArgCount === 0 || algoArgCount === 1);\r\n  assert(Array.isArray(extraArgs));\r\n  const method = underlyingObject[methodName];\r\n  if (method !== undefined) {\r\n    if (typeof method !== 'function') {\r\n      throw new TypeError(`${method} is not a method`);\r\n    }\r\n    switch (algoArgCount) {\r\n      case 0: {\r\n        return () => {\r\n          return PromiseCall(method, underlyingObject, extraArgs);\r\n        };\r\n      }\r\n\r\n      case 1: {\r\n        return arg => {\r\n          const fullArgs = [arg].concat(extraArgs);\r\n          return PromiseCall(method, underlyingObject, fullArgs);\r\n        };\r\n      }\r\n    }\r\n  }\r\n  return () => Promise.resolve();\r\n};\r\n\r\nexports.InvokeOrNoop = (O, P, args) => {\r\n  assert(O !== undefined);\r\n  assert(IsPropertyKey(P));\r\n  assert(Array.isArray(args));\r\n\r\n  const method = O[P];\r\n  if (method === undefined) {\r\n    return undefined;\r\n  }\r\n\r\n  return Call(method, O, args);\r\n};\r\n\r\nfunction PromiseCall(F, V, args) {\r\n  assert(typeof F === 'function');\r\n  assert(V !== undefined);\r\n  assert(Array.isArray(args));\r\n  try {\r\n    return Promise.resolve(Call(F, V, args));\r\n  } catch (value) {\r\n    return Promise.reject(value);\r\n  }\r\n}\r\n\r\nexports.PromiseCall = PromiseCall;\r\n\r\n// Not implemented correctly\r\nexports.TransferArrayBuffer = O => {\r\n  assert(!exports.IsDetachedBuffer(O));\r\n  const transferredIshVersion = O.slice();\r\n\r\n  // This is specifically to fool tests that test \"is transferred\" by taking a non-zero-length\r\n  // ArrayBuffer and checking if its byteLength starts returning 0.\r\n  Object.defineProperty(O, 'byteLength', {\r\n    get() {\r\n      return 0;\r\n    }\r\n  });\r\n  O[isFakeDetached] = true;\r\n\r\n  return transferredIshVersion;\r\n};\r\n\r\n// Not implemented correctly\r\nexports.IsDetachedBuffer = O => {\r\n  return isFakeDetached in O;\r\n};\r\n\r\nexports.ValidateAndNormalizeHighWaterMark = highWaterMark => {\r\n  highWaterMark = Number(highWaterMark);\r\n  if (Number.isNaN(highWaterMark) || highWaterMark < 0) {\r\n    throw new RangeError('highWaterMark property of a queuing strategy must be non-negative and non-NaN');\r\n  }\r\n\r\n  return highWaterMark;\r\n};\r\n\r\nexports.MakeSizeAlgorithmFromSizeFunction = size => {\r\n  if (size === undefined) {\r\n    return () => 1;\r\n  }\r\n  if (typeof size !== 'function') {\r\n    throw new TypeError('size property of a queuing strategy must be a function');\r\n  }\r\n  return chunk => size(chunk);\r\n};\r\n\r\nexports.PerformPromiseThen = (promise, onFulfilled, onRejected) => {\r\n  // There doesn't appear to be any way to correctly emulate the behaviour from JavaScript, so this is just an\r\n  // approximation.\r\n  return Promise.prototype.then.call(promise, onFulfilled, onRejected);\r\n};\r\n\r\nexports.WaitForAll = (promises, successSteps, failureSteps) => {\r\n  let rejected = false;\r\n  const rejectionHandler = arg => {\r\n    if (rejected === false) {\r\n      rejected = true;\r\n      failureSteps(arg);\r\n    }\r\n  };\r\n  let index = 0;\r\n  let fulfilledCount = 0;\r\n  const total = promises.length;\r\n  const result = new Array(total);\r\n  for (const promise of promises) {\r\n    const promiseIndex = index;\r\n    const fulfillmentHandler = arg => {\r\n      result[promiseIndex] = arg;\r\n      ++fulfilledCount;\r\n      if (fulfilledCount === total) {\r\n        successSteps(result);\r\n      }\r\n    };\r\n    exports.PerformPromiseThen(promise, fulfillmentHandler, rejectionHandler);\r\n    ++index;\r\n  }\r\n};\r\n\r\nexports.WaitForAllPromise = (promises, successSteps, failureSteps = undefined) => {\r\n  let resolvePromise;\r\n  let rejectPromise;\r\n  const promise = new Promise((resolve, reject) => {\r\n    resolvePromise = resolve;\r\n    rejectPromise = reject;\r\n  });\r\n  if (failureSteps === undefined) {\r\n    failureSteps = arg => {\r\n      throw arg;\r\n    };\r\n  }\r\n  const successStepsWrapper = results => {\r\n    try {\r\n      const stepsResult = successSteps(results);\r\n      resolvePromise(stepsResult);\r\n    } catch (e) {\r\n      rejectPromise(e);\r\n    }\r\n  };\r\n  const failureStepsWrapper = reason => {\r\n    try {\r\n      const stepsResult = failureSteps(reason);\r\n      resolvePromise(stepsResult);\r\n    } catch (e) {\r\n      rejectPromise(e);\r\n    }\r\n  };\r\n  exports.WaitForAll(promises, successStepsWrapper, failureStepsWrapper);\r\n  return promise;\r\n};\r\n","export {\n  typeIsObject,\n  createDataProperty,\n  createArrayFromList,\n  ArrayBufferCopy,\n  IsFiniteNonNegativeNumber,\n  IsNonNegativeNumber,\n  Call,\n  CreateAlgorithmFromUnderlyingMethod,\n  InvokeOrNoop,\n  PromiseCall,\n  ValidateAndNormalizeHighWaterMark,\n  MakeSizeAlgorithmFromSizeFunction,\n  PerformPromiseThen,\n  WaitForAll,\n  WaitForAllPromise\n} from '../../spec/reference-implementation/lib/helpers';\n\n// Not implemented correctly\nexport function TransferArrayBuffer(O) {\n  return O;\n}\n\n// Not implemented correctly\nexport function IsDetachedBuffer(O) { // eslint-disable-line no-unused-vars\n  return false;\n}\n","import { noop } from '../utils';\n\nexport default function assert() {\n  // do nothing\n}\n\nassert.AssertionError = noop;\n","'use strict';\nconst assert = require('assert');\n\nexports.rethrowAssertionErrorRejection = e => {\n  // Used throughout the reference implementation, as `.catch(rethrowAssertionErrorRejection)`, to ensure any errors\n  // get shown. There are places in the spec where we do promise transformations and purposefully ignore or don't\n  // expect any errors, but assertion errors are always problematic.\n  if (e && e instanceof assert.AssertionError) {\n    setTimeout(() => {\n      throw e;\n    }, 0);\n  }\n};\n","'use strict';\nconst assert = require('better-assert');\nconst { IsFiniteNonNegativeNumber } = require('./helpers.js');\n\nexports.DequeueValue = container => {\n  assert('_queue' in container && '_queueTotalSize' in container);\n  assert(container._queue.length > 0);\n\n  const pair = container._queue.shift();\n  container._queueTotalSize -= pair.size;\n  if (container._queueTotalSize < 0) {\n    container._queueTotalSize = 0;\n  }\n\n  return pair.value;\n};\n\nexports.EnqueueValueWithSize = (container, value, size) => {\n  assert('_queue' in container && '_queueTotalSize' in container);\n\n  size = Number(size);\n  if (!IsFiniteNonNegativeNumber(size)) {\n    throw new RangeError('Size must be a finite, non-NaN, non-negative number.');\n  }\n\n  container._queue.push({ value, size });\n  container._queueTotalSize += size;\n};\n\nexports.PeekQueueValue = container => {\n  assert('_queue' in container && '_queueTotalSize' in container);\n  assert(container._queue.length > 0);\n\n  const pair = container._queue[0];\n  return pair.value;\n};\n\nexports.ResetQueue = container => {\n  assert('_queue' in container && '_queueTotalSize' in container);\n\n  container._queue = [];\n  container._queueTotalSize = 0;\n};\n","'use strict';\nconst assert = require('better-assert');\n\n// Calls to verbose() are purely for debugging the reference implementation and tests. They are not part of the standard\n// and do not appear in the standard text.\nconst verbose = require('debug')('streams:writable-stream:verbose');\n\nconst { CreateAlgorithmFromUnderlyingMethod, InvokeOrNoop, ValidateAndNormalizeHighWaterMark, IsNonNegativeNumber,\n        MakeSizeAlgorithmFromSizeFunction, typeIsObject } = require('./helpers.js');\nconst { rethrowAssertionErrorRejection } = require('./utils.js');\nconst { DequeueValue, EnqueueValueWithSize, PeekQueueValue, ResetQueue } = require('./queue-with-sizes.js');\n\nconst AbortSteps = Symbol('[[AbortSteps]]');\nconst ErrorSteps = Symbol('[[ErrorSteps]]');\n\nclass WritableStream {\n  constructor(underlyingSink = {}, strategy = {}) {\n    InitializeWritableStream(this);\n\n    const size = strategy.size;\n    let highWaterMark = strategy.highWaterMark;\n\n    const type = underlyingSink.type;\n\n    if (type !== undefined) {\n      throw new RangeError('Invalid type is specified');\n    }\n\n    const sizeAlgorithm = MakeSizeAlgorithmFromSizeFunction(size);\n    if (highWaterMark === undefined) {\n      highWaterMark = 1;\n    }\n    highWaterMark = ValidateAndNormalizeHighWaterMark(highWaterMark);\n\n    SetUpWritableStreamDefaultControllerFromUnderlyingSink(this, underlyingSink, highWaterMark, sizeAlgorithm);\n  }\n\n  get locked() {\n    if (IsWritableStream(this) === false) {\n      throw streamBrandCheckException('locked');\n    }\n\n    return IsWritableStreamLocked(this);\n  }\n\n  abort(reason) {\n    if (IsWritableStream(this) === false) {\n      return Promise.reject(streamBrandCheckException('abort'));\n    }\n\n    if (IsWritableStreamLocked(this) === true) {\n      return Promise.reject(new TypeError('Cannot abort a stream that already has a writer'));\n    }\n\n    return WritableStreamAbort(this, reason);\n  }\n\n  getWriter() {\n    if (IsWritableStream(this) === false) {\n      throw streamBrandCheckException('getWriter');\n    }\n\n    return AcquireWritableStreamDefaultWriter(this);\n  }\n}\n\nmodule.exports = {\n  AcquireWritableStreamDefaultWriter,\n  CreateWritableStream,\n  IsWritableStream,\n  IsWritableStreamLocked,\n  WritableStream,\n  WritableStreamAbort,\n  WritableStreamDefaultControllerErrorIfNeeded,\n  WritableStreamDefaultWriterCloseWithErrorPropagation,\n  WritableStreamDefaultWriterRelease,\n  WritableStreamDefaultWriterWrite,\n  WritableStreamCloseQueuedOrInFlight\n};\n\n// Abstract operations for the WritableStream.\n\nfunction AcquireWritableStreamDefaultWriter(stream) {\n  return new WritableStreamDefaultWriter(stream);\n}\n\n// Throws if and only if startAlgorithm throws.\nfunction CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark = 1,\n                              sizeAlgorithm = () => 1) {\n  assert(IsNonNegativeNumber(highWaterMark) === true);\n\n  const stream = Object.create(WritableStream.prototype);\n  InitializeWritableStream(stream);\n\n  const controller = Object.create(WritableStreamDefaultController.prototype);\n\n  SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm,\n                                       abortAlgorithm, highWaterMark, sizeAlgorithm);\n  return stream;\n}\n\nfunction InitializeWritableStream(stream) {\n  stream._state = 'writable';\n\n  // The error that will be reported by new method calls once the state becomes errored. Only set when [[state]] is\n  // 'erroring' or 'errored'. May be set to an undefined value.\n  stream._storedError = undefined;\n\n  stream._writer = undefined;\n\n  // Initialize to undefined first because the constructor of the controller checks this\n  // variable to validate the caller.\n  stream._writableStreamController = undefined;\n\n  // This queue is placed here instead of the writer class in order to allow for passing a writer to the next data\n  // producer without waiting for the queued writes to finish.\n  stream._writeRequests = [];\n\n  // Write requests are removed from _writeRequests when write() is called on the underlying sink. This prevents\n  // them from being erroneously rejected on error. If a write() call is in-flight, the request is stored here.\n  stream._inFlightWriteRequest = undefined;\n\n  // The promise that was returned from writer.close(). Stored here because it may be fulfilled after the writer\n  // has been detached.\n  stream._closeRequest = undefined;\n\n  // Close request is removed from _closeRequest when close() is called on the underlying sink. This prevents it\n  // from being erroneously rejected on error. If a close() call is in-flight, the request is stored here.\n  stream._inFlightCloseRequest = undefined;\n\n  // The promise that was returned from writer.abort(). This may also be fulfilled after the writer has detached.\n  stream._pendingAbortRequest = undefined;\n\n  // The backpressure signal set by the controller.\n  stream._backpressure = false;\n}\n\nfunction IsWritableStream(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_writableStreamController')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsWritableStreamLocked(stream) {\n  assert(IsWritableStream(stream) === true);\n\n  if (stream._writer === undefined) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction WritableStreamAbort(stream, reason) {\n  const state = stream._state;\n  if (state === 'closed' || state === 'errored') {\n    return Promise.resolve(undefined);\n  }\n  if (stream._pendingAbortRequest !== undefined) {\n    return stream._pendingAbortRequest._promise;\n  }\n\n  assert(state === 'writable' || state === 'erroring');\n\n  let wasAlreadyErroring = false;\n  if (state === 'erroring') {\n    wasAlreadyErroring = true;\n    // reason will not be used, so don't keep a reference to it.\n    reason = undefined;\n  }\n\n  const promise = new Promise((resolve, reject) => {\n    stream._pendingAbortRequest = {\n      _resolve: resolve,\n      _reject: reject,\n      _reason: reason,\n      _wasAlreadyErroring: wasAlreadyErroring\n    };\n  });\n  stream._pendingAbortRequest._promise = promise;\n\n  if (wasAlreadyErroring === false) {\n    WritableStreamStartErroring(stream, reason);\n  }\n\n  return promise;\n}\n\n// WritableStream API exposed for controllers.\n\nfunction WritableStreamAddWriteRequest(stream) {\n  assert(IsWritableStreamLocked(stream) === true);\n  assert(stream._state === 'writable');\n\n  const promise = new Promise((resolve, reject) => {\n    const writeRequest = {\n      _resolve: resolve,\n      _reject: reject\n    };\n\n    stream._writeRequests.push(writeRequest);\n  });\n\n  return promise;\n}\n\nfunction WritableStreamDealWithRejection(stream, error) {\n  verbose('WritableStreamDealWithRejection(stream, %o)', error);\n  const state = stream._state;\n\n  if (state === 'writable') {\n    WritableStreamStartErroring(stream, error);\n    return;\n  }\n\n  assert(state === 'erroring');\n  WritableStreamFinishErroring(stream);\n}\n\nfunction WritableStreamStartErroring(stream, reason) {\n  verbose('WritableStreamStartErroring(stream, %o)', reason);\n  assert(stream._storedError === undefined);\n  assert(stream._state === 'writable');\n\n  const controller = stream._writableStreamController;\n  assert(controller !== undefined);\n\n  stream._state = 'erroring';\n  stream._storedError = reason;\n  const writer = stream._writer;\n  if (writer !== undefined) {\n    WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, reason);\n  }\n\n  if (WritableStreamHasOperationMarkedInFlight(stream) === false && controller._started === true) {\n    WritableStreamFinishErroring(stream);\n  }\n}\n\nfunction WritableStreamFinishErroring(stream) {\n  verbose('WritableStreamFinishErroring()');\n  assert(stream._state === 'erroring');\n  assert(WritableStreamHasOperationMarkedInFlight(stream) === false);\n  stream._state = 'errored';\n  stream._writableStreamController[ErrorSteps]();\n\n  const storedError = stream._storedError;\n  for (const writeRequest of stream._writeRequests) {\n    writeRequest._reject(storedError);\n  }\n  stream._writeRequests = [];\n\n  if (stream._pendingAbortRequest === undefined) {\n    WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n    return;\n  }\n\n  const abortRequest = stream._pendingAbortRequest;\n  stream._pendingAbortRequest = undefined;\n\n  if (abortRequest._wasAlreadyErroring === true) {\n    abortRequest._reject(storedError);\n    WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n    return;\n  }\n\n  const promise = stream._writableStreamController[AbortSteps](abortRequest._reason);\n  promise.then(\n      () => {\n        abortRequest._resolve();\n        WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n      },\n      reason => {\n        abortRequest._reject(reason);\n        WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n      });\n}\n\nfunction WritableStreamFinishInFlightWrite(stream) {\n  assert(stream._inFlightWriteRequest !== undefined);\n  stream._inFlightWriteRequest._resolve(undefined);\n  stream._inFlightWriteRequest = undefined;\n}\n\nfunction WritableStreamFinishInFlightWriteWithError(stream, error) {\n  assert(stream._inFlightWriteRequest !== undefined);\n  stream._inFlightWriteRequest._reject(error);\n  stream._inFlightWriteRequest = undefined;\n\n  assert(stream._state === 'writable' || stream._state === 'erroring');\n\n  WritableStreamDealWithRejection(stream, error);\n}\n\nfunction WritableStreamFinishInFlightClose(stream) {\n  assert(stream._inFlightCloseRequest !== undefined);\n  stream._inFlightCloseRequest._resolve(undefined);\n  stream._inFlightCloseRequest = undefined;\n\n  const state = stream._state;\n\n  assert(state === 'writable' || state === 'erroring');\n\n  if (state === 'erroring') {\n    // The error was too late to do anything, so it is ignored.\n    stream._storedError = undefined;\n    if (stream._pendingAbortRequest !== undefined) {\n      stream._pendingAbortRequest._resolve();\n      stream._pendingAbortRequest = undefined;\n    }\n  }\n\n  stream._state = 'closed';\n\n  const writer = stream._writer;\n  if (writer !== undefined) {\n    defaultWriterClosedPromiseResolve(writer);\n  }\n\n  assert(stream._pendingAbortRequest === undefined);\n  assert(stream._storedError === undefined);\n}\n\nfunction WritableStreamFinishInFlightCloseWithError(stream, error) {\n  assert(stream._inFlightCloseRequest !== undefined);\n  stream._inFlightCloseRequest._reject(error);\n  stream._inFlightCloseRequest = undefined;\n\n  assert(stream._state === 'writable' || stream._state === 'erroring');\n\n  // Never execute sink abort() after sink close().\n  if (stream._pendingAbortRequest !== undefined) {\n    stream._pendingAbortRequest._reject(error);\n    stream._pendingAbortRequest = undefined;\n  }\n  WritableStreamDealWithRejection(stream, error);\n}\n\n// TODO(ricea): Fix alphabetical order.\nfunction WritableStreamCloseQueuedOrInFlight(stream) {\n  if (stream._closeRequest === undefined && stream._inFlightCloseRequest === undefined) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction WritableStreamHasOperationMarkedInFlight(stream) {\n  if (stream._inFlightWriteRequest === undefined && stream._inFlightCloseRequest === undefined) {\n    verbose('WritableStreamHasOperationMarkedInFlight() is false');\n    return false;\n  }\n\n  verbose('WritableStreamHasOperationMarkedInFlight() is true');\n  return true;\n}\n\nfunction WritableStreamMarkCloseRequestInFlight(stream) {\n  assert(stream._inFlightCloseRequest === undefined);\n  assert(stream._closeRequest !== undefined);\n  stream._inFlightCloseRequest = stream._closeRequest;\n  stream._closeRequest = undefined;\n}\n\nfunction WritableStreamMarkFirstWriteRequestInFlight(stream) {\n  assert(stream._inFlightWriteRequest === undefined);\n  assert(stream._writeRequests.length !== 0);\n  stream._inFlightWriteRequest = stream._writeRequests.shift();\n}\n\nfunction WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream) {\n  verbose('WritableStreamRejectCloseAndClosedPromiseIfNeeded()');\n  assert(stream._state === 'errored');\n  if (stream._closeRequest !== undefined) {\n    assert(stream._inFlightCloseRequest === undefined);\n\n    stream._closeRequest._reject(stream._storedError);\n    stream._closeRequest = undefined;\n  }\n  const writer = stream._writer;\n  if (writer !== undefined) {\n    defaultWriterClosedPromiseReject(writer, stream._storedError);\n    writer._closedPromise.catch(() => {});\n  }\n}\n\nfunction WritableStreamUpdateBackpressure(stream, backpressure) {\n  assert(stream._state === 'writable');\n  assert(WritableStreamCloseQueuedOrInFlight(stream) === false);\n\n  const writer = stream._writer;\n  if (writer !== undefined && backpressure !== stream._backpressure) {\n    if (backpressure === true) {\n      defaultWriterReadyPromiseReset(writer);\n    } else {\n      assert(backpressure === false);\n\n      defaultWriterReadyPromiseResolve(writer);\n    }\n  }\n\n  stream._backpressure = backpressure;\n}\n\nclass WritableStreamDefaultWriter {\n  constructor(stream) {\n    if (IsWritableStream(stream) === false) {\n      throw new TypeError('WritableStreamDefaultWriter can only be constructed with a WritableStream instance');\n    }\n    if (IsWritableStreamLocked(stream) === true) {\n      throw new TypeError('This stream has already been locked for exclusive writing by another writer');\n    }\n\n    this._ownerWritableStream = stream;\n    stream._writer = this;\n\n    const state = stream._state;\n\n    if (state === 'writable') {\n      if (WritableStreamCloseQueuedOrInFlight(stream) === false && stream._backpressure === true) {\n        defaultWriterReadyPromiseInitialize(this);\n      } else {\n        defaultWriterReadyPromiseInitializeAsResolved(this);\n      }\n\n      defaultWriterClosedPromiseInitialize(this);\n    } else if (state === 'erroring') {\n      defaultWriterReadyPromiseInitializeAsRejected(this, stream._storedError);\n      this._readyPromise.catch(() => {});\n      defaultWriterClosedPromiseInitialize(this);\n    } else if (state === 'closed') {\n      defaultWriterReadyPromiseInitializeAsResolved(this);\n      defaultWriterClosedPromiseInitializeAsResolved(this);\n    } else {\n      assert(state === 'errored');\n\n      const storedError = stream._storedError;\n      defaultWriterReadyPromiseInitializeAsRejected(this, storedError);\n      this._readyPromise.catch(() => {});\n      defaultWriterClosedPromiseInitializeAsRejected(this, storedError);\n      this._closedPromise.catch(() => {});\n    }\n  }\n\n  get closed() {\n    if (IsWritableStreamDefaultWriter(this) === false) {\n      return Promise.reject(defaultWriterBrandCheckException('closed'));\n    }\n\n    return this._closedPromise;\n  }\n\n  get desiredSize() {\n    if (IsWritableStreamDefaultWriter(this) === false) {\n      throw defaultWriterBrandCheckException('desiredSize');\n    }\n\n    if (this._ownerWritableStream === undefined) {\n      throw defaultWriterLockException('desiredSize');\n    }\n\n    return WritableStreamDefaultWriterGetDesiredSize(this);\n  }\n\n  get ready() {\n    if (IsWritableStreamDefaultWriter(this) === false) {\n      return Promise.reject(defaultWriterBrandCheckException('ready'));\n    }\n\n    return this._readyPromise;\n  }\n\n  abort(reason) {\n    if (IsWritableStreamDefaultWriter(this) === false) {\n      return Promise.reject(defaultWriterBrandCheckException('abort'));\n    }\n\n    if (this._ownerWritableStream === undefined) {\n      return Promise.reject(defaultWriterLockException('abort'));\n    }\n\n    return WritableStreamDefaultWriterAbort(this, reason);\n  }\n\n  close() {\n    if (IsWritableStreamDefaultWriter(this) === false) {\n      return Promise.reject(defaultWriterBrandCheckException('close'));\n    }\n\n    const stream = this._ownerWritableStream;\n\n    if (stream === undefined) {\n      return Promise.reject(defaultWriterLockException('close'));\n    }\n\n    if (WritableStreamCloseQueuedOrInFlight(stream) === true) {\n      return Promise.reject(new TypeError('cannot close an already-closing stream'));\n    }\n\n    return WritableStreamDefaultWriterClose(this);\n  }\n\n  releaseLock() {\n    if (IsWritableStreamDefaultWriter(this) === false) {\n      throw defaultWriterBrandCheckException('releaseLock');\n    }\n\n    const stream = this._ownerWritableStream;\n\n    if (stream === undefined) {\n      return;\n    }\n\n    assert(stream._writer !== undefined);\n\n    WritableStreamDefaultWriterRelease(this);\n  }\n\n  write(chunk) {\n    if (IsWritableStreamDefaultWriter(this) === false) {\n      return Promise.reject(defaultWriterBrandCheckException('write'));\n    }\n\n    if (this._ownerWritableStream === undefined) {\n      return Promise.reject(defaultWriterLockException('write to'));\n    }\n\n    return WritableStreamDefaultWriterWrite(this, chunk);\n  }\n}\n\n// Abstract operations for the WritableStreamDefaultWriter.\n\nfunction IsWritableStreamDefaultWriter(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_ownerWritableStream')) {\n    return false;\n  }\n\n  return true;\n}\n\n// A client of WritableStreamDefaultWriter may use these functions directly to bypass state check.\n\nfunction WritableStreamDefaultWriterAbort(writer, reason) {\n  const stream = writer._ownerWritableStream;\n\n  assert(stream !== undefined);\n\n  return WritableStreamAbort(stream, reason);\n}\n\nfunction WritableStreamDefaultWriterClose(writer) {\n  const stream = writer._ownerWritableStream;\n\n  assert(stream !== undefined);\n\n  const state = stream._state;\n  if (state === 'closed' || state === 'errored') {\n    return Promise.reject(new TypeError(\n      `The stream (in ${state} state) is not in the writable state and cannot be closed`));\n  }\n\n  assert(state === 'writable' || state === 'erroring');\n  assert(WritableStreamCloseQueuedOrInFlight(stream) === false);\n\n  const promise = new Promise((resolve, reject) => {\n    const closeRequest = {\n      _resolve: resolve,\n      _reject: reject\n    };\n\n    stream._closeRequest = closeRequest;\n  });\n\n  if (stream._backpressure === true && state === 'writable') {\n    defaultWriterReadyPromiseResolve(writer);\n  }\n\n  WritableStreamDefaultControllerClose(stream._writableStreamController);\n\n  return promise;\n}\n\n\nfunction WritableStreamDefaultWriterCloseWithErrorPropagation(writer) {\n  const stream = writer._ownerWritableStream;\n\n  assert(stream !== undefined);\n\n  const state = stream._state;\n  if (WritableStreamCloseQueuedOrInFlight(stream) === true || state === 'closed') {\n    return Promise.resolve();\n  }\n\n  if (state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n\n  assert(state === 'writable' || state === 'erroring');\n\n  return WritableStreamDefaultWriterClose(writer);\n}\n\nfunction WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, error) {\n  if (writer._closedPromiseState === 'pending') {\n    defaultWriterClosedPromiseReject(writer, error);\n  } else {\n    defaultWriterClosedPromiseResetToRejected(writer, error);\n  }\n  writer._closedPromise.catch(() => {});\n}\n\nfunction WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, error) {\n  verbose('WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, %o)', error);\n  if (writer._readyPromiseState === 'pending') {\n    defaultWriterReadyPromiseReject(writer, error);\n  } else {\n    defaultWriterReadyPromiseResetToRejected(writer, error);\n  }\n  writer._readyPromise.catch(() => {});\n}\n\nfunction WritableStreamDefaultWriterGetDesiredSize(writer) {\n  const stream = writer._ownerWritableStream;\n  const state = stream._state;\n\n  if (state === 'errored' || state === 'erroring') {\n    return null;\n  }\n\n  if (state === 'closed') {\n    return 0;\n  }\n\n  return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);\n}\n\nfunction WritableStreamDefaultWriterRelease(writer) {\n  const stream = writer._ownerWritableStream;\n  assert(stream !== undefined);\n  assert(stream._writer === writer);\n\n  const releasedError = new TypeError(\n    'Writer was released and can no longer be used to monitor the stream\\'s closedness');\n\n  WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, releasedError);\n\n  // The state transitions to \"errored\" before the sink abort() method runs, but the writer.closed promise is not\n  // rejected until afterwards. This means that simply testing state will not work.\n  WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, releasedError);\n\n  stream._writer = undefined;\n  writer._ownerWritableStream = undefined;\n}\n\nfunction WritableStreamDefaultWriterWrite(writer, chunk) {\n  const stream = writer._ownerWritableStream;\n\n  assert(stream !== undefined);\n\n  const controller = stream._writableStreamController;\n\n  const chunkSize = WritableStreamDefaultControllerGetChunkSize(controller, chunk);\n\n  if (stream !== writer._ownerWritableStream) {\n    return Promise.reject(defaultWriterLockException('write to'));\n  }\n\n  const state = stream._state;\n  if (state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n  if (WritableStreamCloseQueuedOrInFlight(stream) === true || state === 'closed') {\n    return Promise.reject(new TypeError('The stream is closing or closed and cannot be written to'));\n  }\n  if (state === 'erroring') {\n    return Promise.reject(stream._storedError);\n  }\n\n  assert(state === 'writable');\n\n  const promise = WritableStreamAddWriteRequest(stream);\n\n  WritableStreamDefaultControllerWrite(controller, chunk, chunkSize);\n\n  return promise;\n}\n\nclass WritableStreamDefaultController {\n  constructor() {\n    throw new TypeError('WritableStreamDefaultController cannot be constructed explicitly');\n  }\n\n  error(e) {\n    if (IsWritableStreamDefaultController(this) === false) {\n      throw new TypeError(\n        'WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController');\n    }\n    const state = this._controlledWritableStream._state;\n    if (state !== 'writable') {\n      // The stream is closed, errored or will be soon. The sink can't do anything useful if it gets an error here, so\n      // just treat it as a no-op.\n      return;\n    }\n\n    WritableStreamDefaultControllerError(this, e);\n  }\n\n  [AbortSteps](reason) {\n    const result = this._abortAlgorithm(reason);\n    WritableStreamDefaultControllerClearAlgorithms(this);\n    return result;\n  }\n\n  [ErrorSteps]() {\n    ResetQueue(this);\n  }\n}\n\n// Abstract operations implementing interface required by the WritableStream.\n\nfunction IsWritableStreamDefaultController(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_controlledWritableStream')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm,\n                                              abortAlgorithm, highWaterMark, sizeAlgorithm) {\n  assert(IsWritableStream(stream) === true);\n  assert(stream._writableStreamController === undefined);\n\n  controller._controlledWritableStream = stream;\n  stream._writableStreamController = controller;\n\n  // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n  controller._queue = undefined;\n  controller._queueTotalSize = undefined;\n  ResetQueue(controller);\n\n  controller._started = false;\n\n  controller._strategySizeAlgorithm = sizeAlgorithm;\n  controller._strategyHWM = highWaterMark;\n\n  controller._writeAlgorithm = writeAlgorithm;\n  controller._closeAlgorithm = closeAlgorithm;\n  controller._abortAlgorithm = abortAlgorithm;\n\n  const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n  WritableStreamUpdateBackpressure(stream, backpressure);\n\n  const startResult = startAlgorithm();\n  const startPromise = Promise.resolve(startResult);\n  startPromise.then(\n      () => {\n        assert(stream._state === 'writable' || stream._state === 'erroring');\n        controller._started = true;\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n      },\n      r => {\n        assert(stream._state === 'writable' || stream._state === 'erroring');\n        controller._started = true;\n        WritableStreamDealWithRejection(stream, r);\n      }\n  )\n  .catch(rethrowAssertionErrorRejection);\n}\n\nfunction SetUpWritableStreamDefaultControllerFromUnderlyingSink(stream, underlyingSink, highWaterMark, sizeAlgorithm) {\n  assert(underlyingSink !== undefined);\n\n  const controller = Object.create(WritableStreamDefaultController.prototype);\n\n  function startAlgorithm() {\n    return InvokeOrNoop(underlyingSink, 'start', [controller]);\n  }\n\n  const writeAlgorithm = CreateAlgorithmFromUnderlyingMethod(underlyingSink, 'write', 1, [controller]);\n  const closeAlgorithm = CreateAlgorithmFromUnderlyingMethod(underlyingSink, 'close', 0, []);\n  const abortAlgorithm = CreateAlgorithmFromUnderlyingMethod(underlyingSink, 'abort', 1, []);\n\n  SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm,\n                                       abortAlgorithm, highWaterMark, sizeAlgorithm);\n}\n\n// ClearAlgorithms may be called twice. Erroring the same stream in multiple ways will often result in redundant calls.\nfunction WritableStreamDefaultControllerClearAlgorithms(controller) {\n  controller._writeAlgorithm = undefined;\n  controller._closeAlgorithm = undefined;\n  controller._abortAlgorithm = undefined;\n  controller._strategySizeAlgorithm = undefined;\n}\n\nfunction WritableStreamDefaultControllerClose(controller) {\n  EnqueueValueWithSize(controller, 'close', 0);\n  WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n}\n\nfunction WritableStreamDefaultControllerGetChunkSize(controller, chunk) {\n  try {\n    return controller._strategySizeAlgorithm(chunk);\n  } catch (chunkSizeE) {\n    WritableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n    return 1;\n  }\n}\n\nfunction WritableStreamDefaultControllerGetDesiredSize(controller) {\n  return controller._strategyHWM - controller._queueTotalSize;\n}\n\nfunction WritableStreamDefaultControllerWrite(controller, chunk, chunkSize) {\n  const writeRecord = { chunk };\n\n  try {\n    EnqueueValueWithSize(controller, writeRecord, chunkSize);\n  } catch (enqueueE) {\n    WritableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n    return;\n  }\n\n  const stream = controller._controlledWritableStream;\n  if (WritableStreamCloseQueuedOrInFlight(stream) === false && stream._state === 'writable') {\n    const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n    WritableStreamUpdateBackpressure(stream, backpressure);\n  }\n\n  WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n}\n\n// Abstract operations for the WritableStreamDefaultController.\n\nfunction WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller) {\n  verbose('WritableStreamDefaultControllerAdvanceQueueIfNeeded()');\n  const stream = controller._controlledWritableStream;\n\n  if (controller._started === false) {\n    return;\n  }\n\n  if (stream._inFlightWriteRequest !== undefined) {\n    return;\n  }\n\n  const state = stream._state;\n  if (state === 'closed' || state === 'errored') {\n    return;\n  }\n  if (state === 'erroring') {\n    WritableStreamFinishErroring(stream);\n    return;\n  }\n\n  if (controller._queue.length === 0) {\n    return;\n  }\n\n  const writeRecord = PeekQueueValue(controller);\n  if (writeRecord === 'close') {\n    WritableStreamDefaultControllerProcessClose(controller);\n  } else {\n    WritableStreamDefaultControllerProcessWrite(controller, writeRecord.chunk);\n  }\n}\n\nfunction WritableStreamDefaultControllerErrorIfNeeded(controller, error) {\n  if (controller._controlledWritableStream._state === 'writable') {\n    WritableStreamDefaultControllerError(controller, error);\n  }\n}\n\nfunction WritableStreamDefaultControllerProcessClose(controller) {\n  const stream = controller._controlledWritableStream;\n\n  WritableStreamMarkCloseRequestInFlight(stream);\n\n  DequeueValue(controller);\n  assert(controller._queue.length === 0);\n\n  const sinkClosePromise = controller._closeAlgorithm();\n  WritableStreamDefaultControllerClearAlgorithms(controller);\n  sinkClosePromise.then(\n    () => {\n      WritableStreamFinishInFlightClose(stream);\n    },\n    reason => {\n      WritableStreamFinishInFlightCloseWithError(stream, reason);\n    }\n  )\n  .catch(rethrowAssertionErrorRejection);\n}\n\nfunction WritableStreamDefaultControllerProcessWrite(controller, chunk) {\n  const stream = controller._controlledWritableStream;\n\n  WritableStreamMarkFirstWriteRequestInFlight(stream);\n\n  const sinkWritePromise = controller._writeAlgorithm(chunk);\n  sinkWritePromise.then(\n    () => {\n      WritableStreamFinishInFlightWrite(stream);\n\n      const state = stream._state;\n      assert(state === 'writable' || state === 'erroring');\n\n      DequeueValue(controller);\n\n      if (WritableStreamCloseQueuedOrInFlight(stream) === false && state === 'writable') {\n        const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n        WritableStreamUpdateBackpressure(stream, backpressure);\n      }\n\n      WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    },\n    reason => {\n      if (stream._state === 'writable') {\n        WritableStreamDefaultControllerClearAlgorithms(controller);\n      }\n      WritableStreamFinishInFlightWriteWithError(stream, reason);\n    }\n  )\n  .catch(rethrowAssertionErrorRejection);\n}\n\nfunction WritableStreamDefaultControllerGetBackpressure(controller) {\n  const desiredSize = WritableStreamDefaultControllerGetDesiredSize(controller);\n  return desiredSize <= 0;\n}\n\n// A client of WritableStreamDefaultController may use these functions directly to bypass state check.\n\nfunction WritableStreamDefaultControllerError(controller, error) {\n  const stream = controller._controlledWritableStream;\n\n  assert(stream._state === 'writable');\n\n  WritableStreamDefaultControllerClearAlgorithms(controller);\n  WritableStreamStartErroring(stream, error);\n}\n\n// Helper functions for the WritableStream.\n\nfunction streamBrandCheckException(name) {\n  return new TypeError(`WritableStream.prototype.${name} can only be used on a WritableStream`);\n}\n\n// Helper functions for the WritableStreamDefaultWriter.\n\nfunction defaultWriterBrandCheckException(name) {\n  return new TypeError(\n    `WritableStreamDefaultWriter.prototype.${name} can only be used on a WritableStreamDefaultWriter`);\n}\n\nfunction defaultWriterLockException(name) {\n  return new TypeError('Cannot ' + name + ' a stream using a released writer');\n}\n\nfunction defaultWriterClosedPromiseInitialize(writer) {\n  writer._closedPromise = new Promise((resolve, reject) => {\n    writer._closedPromise_resolve = resolve;\n    writer._closedPromise_reject = reject;\n    writer._closedPromiseState = 'pending';\n  });\n}\n\nfunction defaultWriterClosedPromiseInitializeAsRejected(writer, reason) {\n  writer._closedPromise = Promise.reject(reason);\n  writer._closedPromise_resolve = undefined;\n  writer._closedPromise_reject = undefined;\n  writer._closedPromiseState = 'rejected';\n}\n\nfunction defaultWriterClosedPromiseInitializeAsResolved(writer) {\n  writer._closedPromise = Promise.resolve(undefined);\n  writer._closedPromise_resolve = undefined;\n  writer._closedPromise_reject = undefined;\n  writer._closedPromiseState = 'resolved';\n}\n\nfunction defaultWriterClosedPromiseReject(writer, reason) {\n  assert(writer._closedPromise_resolve !== undefined);\n  assert(writer._closedPromise_reject !== undefined);\n  assert(writer._closedPromiseState === 'pending');\n\n  writer._closedPromise_reject(reason);\n  writer._closedPromise_resolve = undefined;\n  writer._closedPromise_reject = undefined;\n  writer._closedPromiseState = 'rejected';\n}\n\nfunction defaultWriterClosedPromiseResetToRejected(writer, reason) {\n  assert(writer._closedPromise_resolve === undefined);\n  assert(writer._closedPromise_reject === undefined);\n  assert(writer._closedPromiseState !== 'pending');\n\n  writer._closedPromise = Promise.reject(reason);\n  writer._closedPromiseState = 'rejected';\n}\n\nfunction defaultWriterClosedPromiseResolve(writer) {\n  assert(writer._closedPromise_resolve !== undefined);\n  assert(writer._closedPromise_reject !== undefined);\n  assert(writer._closedPromiseState === 'pending');\n\n  writer._closedPromise_resolve(undefined);\n  writer._closedPromise_resolve = undefined;\n  writer._closedPromise_reject = undefined;\n  writer._closedPromiseState = 'resolved';\n}\n\nfunction defaultWriterReadyPromiseInitialize(writer) {\n  verbose('defaultWriterReadyPromiseInitialize()');\n  writer._readyPromise = new Promise((resolve, reject) => {\n    writer._readyPromise_resolve = resolve;\n    writer._readyPromise_reject = reject;\n  });\n  writer._readyPromiseState = 'pending';\n}\n\nfunction defaultWriterReadyPromiseInitializeAsRejected(writer, reason) {\n  verbose('defaultWriterReadyPromiseInitializeAsRejected(writer, %o)', reason);\n  writer._readyPromise = Promise.reject(reason);\n  writer._readyPromise_resolve = undefined;\n  writer._readyPromise_reject = undefined;\n  writer._readyPromiseState = 'rejected';\n}\n\nfunction defaultWriterReadyPromiseInitializeAsResolved(writer) {\n  verbose('defaultWriterReadyPromiseInitializeAsResolved()');\n  writer._readyPromise = Promise.resolve(undefined);\n  writer._readyPromise_resolve = undefined;\n  writer._readyPromise_reject = undefined;\n  writer._readyPromiseState = 'fulfilled';\n}\n\nfunction defaultWriterReadyPromiseReject(writer, reason) {\n  verbose('defaultWriterReadyPromiseReject(writer, %o)', reason);\n  assert(writer._readyPromise_resolve !== undefined);\n  assert(writer._readyPromise_reject !== undefined);\n\n  writer._readyPromise_reject(reason);\n  writer._readyPromise_resolve = undefined;\n  writer._readyPromise_reject = undefined;\n  writer._readyPromiseState = 'rejected';\n}\n\nfunction defaultWriterReadyPromiseReset(writer) {\n  verbose('defaultWriterReadyPromiseReset()');\n  assert(writer._readyPromise_resolve === undefined);\n  assert(writer._readyPromise_reject === undefined);\n\n  writer._readyPromise = new Promise((resolve, reject) => {\n    writer._readyPromise_resolve = resolve;\n    writer._readyPromise_reject = reject;\n  });\n  writer._readyPromiseState = 'pending';\n}\n\nfunction defaultWriterReadyPromiseResetToRejected(writer, reason) {\n  verbose('defaultWriterReadyPromiseResetToRejected(writer, %o)', reason);\n  assert(writer._readyPromise_resolve === undefined);\n  assert(writer._readyPromise_reject === undefined);\n\n  writer._readyPromise = Promise.reject(reason);\n  writer._readyPromiseState = 'rejected';\n}\n\nfunction defaultWriterReadyPromiseResolve(writer) {\n  verbose('defaultWriterReadyPromiseResolve()');\n  assert(writer._readyPromise_resolve !== undefined);\n  assert(writer._readyPromise_reject !== undefined);\n\n  writer._readyPromise_resolve(undefined);\n  writer._readyPromise_resolve = undefined;\n  writer._readyPromise_reject = undefined;\n  writer._readyPromiseState = 'fulfilled';\n}\n","'use strict';\n/* global AbortSignal:false */\n\nconst assert = require('better-assert');\nconst { ArrayBufferCopy, CreateAlgorithmFromUnderlyingMethod, IsFiniteNonNegativeNumber, InvokeOrNoop,\n        IsDetachedBuffer, TransferArrayBuffer, ValidateAndNormalizeHighWaterMark, IsNonNegativeNumber,\n        MakeSizeAlgorithmFromSizeFunction, createArrayFromList, typeIsObject, WaitForAllPromise } =\n      require('./helpers.js');\nconst { rethrowAssertionErrorRejection } = require('./utils.js');\nconst { DequeueValue, EnqueueValueWithSize, ResetQueue } = require('./queue-with-sizes.js');\nconst { AcquireWritableStreamDefaultWriter, IsWritableStream, IsWritableStreamLocked,\n        WritableStreamAbort, WritableStreamDefaultWriterCloseWithErrorPropagation,\n        WritableStreamDefaultWriterRelease, WritableStreamDefaultWriterWrite, WritableStreamCloseQueuedOrInFlight } =\n      require('./writable-stream.js');\n\nconst CancelSteps = Symbol('[[CancelSteps]]');\nconst PullSteps = Symbol('[[PullSteps]]');\n\nclass ReadableStream {\n  constructor(underlyingSource = {}, strategy = {}) {\n    InitializeReadableStream(this);\n\n    const size = strategy.size;\n    let highWaterMark = strategy.highWaterMark;\n\n    const type = underlyingSource.type;\n    const typeString = String(type);\n    if (typeString === 'bytes') {\n      if (size !== undefined) {\n        throw new RangeError('The strategy for a byte stream cannot have a size function');\n      }\n\n      if (highWaterMark === undefined) {\n        highWaterMark = 0;\n      }\n      highWaterMark = ValidateAndNormalizeHighWaterMark(highWaterMark);\n\n      SetUpReadableByteStreamControllerFromUnderlyingSource(this, underlyingSource, highWaterMark);\n    } else if (type === undefined) {\n      const sizeAlgorithm = MakeSizeAlgorithmFromSizeFunction(size);\n\n      if (highWaterMark === undefined) {\n        highWaterMark = 1;\n      }\n      highWaterMark = ValidateAndNormalizeHighWaterMark(highWaterMark);\n\n      SetUpReadableStreamDefaultControllerFromUnderlyingSource(this, underlyingSource, highWaterMark, sizeAlgorithm);\n    } else {\n      throw new RangeError('Invalid type is specified');\n    }\n  }\n\n  get locked() {\n    if (IsReadableStream(this) === false) {\n      throw streamBrandCheckException('locked');\n    }\n\n    return IsReadableStreamLocked(this);\n  }\n\n  cancel(reason) {\n    if (IsReadableStream(this) === false) {\n      return Promise.reject(streamBrandCheckException('cancel'));\n    }\n\n    if (IsReadableStreamLocked(this) === true) {\n      return Promise.reject(new TypeError('Cannot cancel a stream that already has a reader'));\n    }\n\n    return ReadableStreamCancel(this, reason);\n  }\n\n  getReader({ mode } = {}) {\n    if (IsReadableStream(this) === false) {\n      throw streamBrandCheckException('getReader');\n    }\n\n    if (mode === undefined) {\n      return AcquireReadableStreamDefaultReader(this);\n    }\n\n    mode = String(mode);\n\n    if (mode === 'byob') {\n      return AcquireReadableStreamBYOBReader(this);\n    }\n\n    throw new RangeError('Invalid mode is specified');\n  }\n\n  pipeThrough({ writable, readable }, { preventClose, preventAbort, preventCancel, signal } = {}) {\n    if (IsReadableStream(this) === false) {\n      throw streamBrandCheckException('pipeThrough');\n    }\n\n    if (IsWritableStream(writable) === false) {\n      throw new TypeError('writable argument to pipeThrough must be a WritableStream');\n    }\n\n    if (IsReadableStream(readable) === false) {\n      throw new TypeError('readable argument to pipeThrough must be a ReadableStream');\n    }\n\n    preventClose = Boolean(preventClose);\n    preventAbort = Boolean(preventAbort);\n    preventCancel = Boolean(preventCancel);\n\n    if (signal !== undefined && !isAbortSignal(signal)) {\n      throw new TypeError('ReadableStream.prototype.pipeThrough\\'s signal option must be an AbortSignal');\n    }\n\n    if (IsReadableStreamLocked(this) === true) {\n      throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream');\n    }\n    if (IsWritableStreamLocked(writable) === true) {\n      throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream');\n    }\n\n    const promise = ReadableStreamPipeTo(this, writable, preventClose, preventAbort, preventCancel, signal);\n\n    promise.catch(() => {});\n\n    return readable;\n  }\n\n  pipeTo(dest, { preventClose, preventAbort, preventCancel, signal } = {}) {\n    if (IsReadableStream(this) === false) {\n      return Promise.reject(streamBrandCheckException('pipeTo'));\n    }\n    if (IsWritableStream(dest) === false) {\n      return Promise.reject(\n          new TypeError('ReadableStream.prototype.pipeTo\\'s first argument must be a WritableStream'));\n    }\n\n    preventClose = Boolean(preventClose);\n    preventAbort = Boolean(preventAbort);\n    preventCancel = Boolean(preventCancel);\n\n    if (signal !== undefined && !isAbortSignal(signal)) {\n      return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo\\'s signal option must be an AbortSignal'));\n    }\n\n    if (IsReadableStreamLocked(this) === true) {\n      return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream'));\n    }\n    if (IsWritableStreamLocked(dest) === true) {\n      return Promise.reject(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream'));\n    }\n\n    return ReadableStreamPipeTo(this, dest, preventClose, preventAbort, preventCancel, signal);\n  }\n\n  tee() {\n    if (IsReadableStream(this) === false) {\n      throw streamBrandCheckException('tee');\n    }\n\n    const branches = ReadableStreamTee(this, false);\n    return createArrayFromList(branches);\n  }\n}\n\nmodule.exports = {\n  CreateReadableByteStream,\n  CreateReadableStream,\n  ReadableStream,\n  IsReadableStreamDisturbed,\n  ReadableStreamDefaultControllerClose,\n  ReadableStreamDefaultControllerEnqueue,\n  ReadableStreamDefaultControllerError,\n  ReadableStreamDefaultControllerGetDesiredSize,\n  ReadableStreamDefaultControllerHasBackpressure,\n  ReadableStreamDefaultControllerCanCloseOrEnqueue\n};\n\n// Abstract operations for the ReadableStream.\n\nfunction AcquireReadableStreamBYOBReader(stream) {\n  return new ReadableStreamBYOBReader(stream);\n}\n\nfunction AcquireReadableStreamDefaultReader(stream) {\n  return new ReadableStreamDefaultReader(stream);\n}\n\n// Throws if and only if startAlgorithm throws.\nfunction CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark = 1,\n                              sizeAlgorithm = () => 1) {\n  assert(IsNonNegativeNumber(highWaterMark) === true);\n\n  const stream = Object.create(ReadableStream.prototype);\n  InitializeReadableStream(stream);\n\n  const controller = Object.create(ReadableStreamDefaultController.prototype);\n\n  SetUpReadableStreamDefaultController(\n      stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm\n  );\n\n  return stream;\n}\n\n// Throws if and only if startAlgorithm throws.\nfunction CreateReadableByteStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark = 0,\n                                  autoAllocateChunkSize = undefined) {\n  assert(IsNonNegativeNumber(highWaterMark) === true);\n  if (autoAllocateChunkSize !== undefined) {\n    assert(Number.isInteger(autoAllocateChunkSize) === true);\n    assert(autoAllocateChunkSize > 0);\n  }\n\n  const stream = Object.create(ReadableStream.prototype);\n  InitializeReadableStream(stream);\n\n  const controller = Object.create(ReadableByteStreamController.prototype);\n\n  SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark,\n                                    autoAllocateChunkSize);\n\n  return stream;\n}\n\nfunction InitializeReadableStream(stream) {\n  stream._state = 'readable';\n  stream._reader = undefined;\n  stream._storedError = undefined;\n  stream._disturbed = false;\n}\n\nfunction IsReadableStream(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_readableStreamController')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsReadableStreamDisturbed(stream) {\n  assert(IsReadableStream(stream) === true);\n\n  return stream._disturbed;\n}\n\nfunction IsReadableStreamLocked(stream) {\n  assert(IsReadableStream(stream) === true);\n\n  if (stream._reader === undefined) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamPipeTo(source, dest, preventClose, preventAbort, preventCancel, signal) {\n  assert(IsReadableStream(source) === true);\n  assert(IsWritableStream(dest) === true);\n  assert(typeof preventClose === 'boolean');\n  assert(typeof preventAbort === 'boolean');\n  assert(typeof preventCancel === 'boolean');\n  assert(signal === undefined || isAbortSignal(signal));\n  assert(IsReadableStreamLocked(source) === false);\n  assert(IsWritableStreamLocked(dest) === false);\n\n  const reader = AcquireReadableStreamDefaultReader(source);\n  const writer = AcquireWritableStreamDefaultWriter(dest);\n\n  let shuttingDown = false;\n\n  // This is used to keep track of the spec's requirement that we wait for ongoing writes during shutdown.\n  let currentWrite = Promise.resolve();\n\n  return new Promise((resolve, reject) => {\n    let abortAlgorithm;\n    if (signal !== undefined) {\n      abortAlgorithm = () => {\n        const error = new DOMException('Aborted', 'AbortError');\n        const actions = [];\n        if (preventAbort === false) {\n          actions.push(() => {\n            if (dest._state === 'writable') {\n              return WritableStreamAbort(dest, error);\n            }\n            return Promise.resolve();\n          });\n        }\n        if (preventCancel === false) {\n          actions.push(() => {\n            if (source._state === 'readable') {\n              return ReadableStreamCancel(source, error);\n            }\n            return Promise.resolve();\n          });\n        }\n        shutdownWithAction(() => WaitForAllPromise(actions.map(action => action()), results => results), true, error);\n      };\n\n      if (signal.aborted === true) {\n        abortAlgorithm();\n        return;\n      }\n\n      signal.addEventListener('abort', abortAlgorithm);\n    }\n\n    // Using reader and writer, read all chunks from this and write them to dest\n    // - Backpressure must be enforced\n    // - Shutdown must stop all activity\n    function pipeLoop() {\n      return new Promise((resolveLoop, rejectLoop) => {\n        function next(done) {\n          if (done) {\n            resolveLoop();\n          } else {\n            pipeStep().then(next, rejectLoop);\n          }\n        }\n\n        next(false);\n      });\n    }\n\n    function pipeStep() {\n      if (shuttingDown === true) {\n        return Promise.resolve(true);\n      }\n\n      return writer._readyPromise.then(() => {\n        return ReadableStreamDefaultReaderRead(reader).then(({ value, done }) => {\n          if (done === true) {\n            return true;\n          }\n\n          currentWrite = WritableStreamDefaultWriterWrite(writer, value).catch(() => {});\n          return false;\n        });\n      });\n    }\n\n    // Errors must be propagated forward\n    isOrBecomesErrored(source, reader._closedPromise, storedError => {\n      if (preventAbort === false) {\n        shutdownWithAction(() => WritableStreamAbort(dest, storedError), true, storedError);\n      } else {\n        shutdown(true, storedError);\n      }\n    });\n\n    // Errors must be propagated backward\n    isOrBecomesErrored(dest, writer._closedPromise, storedError => {\n      if (preventCancel === false) {\n        shutdownWithAction(() => ReadableStreamCancel(source, storedError), true, storedError);\n      } else {\n        shutdown(true, storedError);\n      }\n    });\n\n    // Closing must be propagated forward\n    isOrBecomesClosed(source, reader._closedPromise, () => {\n      if (preventClose === false) {\n        shutdownWithAction(() => WritableStreamDefaultWriterCloseWithErrorPropagation(writer));\n      } else {\n        shutdown();\n      }\n    });\n\n    // Closing must be propagated backward\n    if (WritableStreamCloseQueuedOrInFlight(dest) === true || dest._state === 'closed') {\n      const destClosed = new TypeError('the destination writable stream closed before all data could be piped to it');\n\n      if (preventCancel === false) {\n        shutdownWithAction(() => ReadableStreamCancel(source, destClosed), true, destClosed);\n      } else {\n        shutdown(true, destClosed);\n      }\n    }\n\n    pipeLoop().catch(err => {\n      currentWrite = Promise.resolve();\n      rethrowAssertionErrorRejection(err);\n    });\n\n    function waitForWritesToFinish() {\n      // Another write may have started while we were waiting on this currentWrite, so we have to be sure to wait\n      // for that too.\n      const oldCurrentWrite = currentWrite;\n      return currentWrite.then(() => oldCurrentWrite !== currentWrite ? waitForWritesToFinish() : undefined);\n    }\n\n    function isOrBecomesErrored(stream, promise, action) {\n      if (stream._state === 'errored') {\n        action(stream._storedError);\n      } else {\n        promise.catch(action).catch(rethrowAssertionErrorRejection);\n      }\n    }\n\n    function isOrBecomesClosed(stream, promise, action) {\n      if (stream._state === 'closed') {\n        action();\n      } else {\n        promise.then(action).catch(rethrowAssertionErrorRejection);\n      }\n    }\n\n    function shutdownWithAction(action, originalIsError, originalError) {\n      if (shuttingDown === true) {\n        return;\n      }\n      shuttingDown = true;\n\n      if (dest._state === 'writable' && WritableStreamCloseQueuedOrInFlight(dest) === false) {\n        waitForWritesToFinish().then(doTheRest);\n      } else {\n        doTheRest();\n      }\n\n      function doTheRest() {\n        action().then(\n            () => finalize(originalIsError, originalError),\n            newError => finalize(true, newError)\n        )\n            .catch(rethrowAssertionErrorRejection);\n      }\n    }\n\n    function shutdown(isError, error) {\n      if (shuttingDown === true) {\n        return;\n      }\n      shuttingDown = true;\n\n      if (dest._state === 'writable' && WritableStreamCloseQueuedOrInFlight(dest) === false) {\n        waitForWritesToFinish().then(() => finalize(isError, error)).catch(rethrowAssertionErrorRejection);\n      } else {\n        finalize(isError, error);\n      }\n    }\n\n    function finalize(isError, error) {\n      WritableStreamDefaultWriterRelease(writer);\n      ReadableStreamReaderGenericRelease(reader);\n\n      if (signal !== undefined) {\n        signal.removeEventListener('abort', abortAlgorithm);\n      }\n      if (isError) {\n        reject(error);\n      } else {\n        resolve(undefined);\n      }\n    }\n  });\n}\n\nfunction ReadableStreamTee(stream, cloneForBranch2) {\n  assert(IsReadableStream(stream) === true);\n  assert(typeof cloneForBranch2 === 'boolean');\n\n  const reader = AcquireReadableStreamDefaultReader(stream);\n\n  let closedOrErrored = false;\n  let canceled1 = false;\n  let canceled2 = false;\n  let reason1;\n  let reason2;\n  let branch1;\n  let branch2;\n\n  let resolveCancelPromise;\n  const cancelPromise = new Promise(resolve => {\n    resolveCancelPromise = resolve;\n  });\n\n  function pullAlgorithm() {\n    return ReadableStreamDefaultReaderRead(reader).then(result => {\n      assert(typeIsObject(result));\n      const value = result.value;\n      const done = result.done;\n      assert(typeof done === 'boolean');\n\n      if (done === true && closedOrErrored === false) {\n        if (canceled1 === false) {\n          ReadableStreamDefaultControllerClose(branch1._readableStreamController);\n        }\n        if (canceled2 === false) {\n          ReadableStreamDefaultControllerClose(branch2._readableStreamController);\n        }\n        closedOrErrored = true;\n      }\n\n      if (closedOrErrored === true) {\n        return;\n      }\n\n      const value1 = value;\n      const value2 = value;\n\n      // There is no way to access the cloning code right now in the reference implementation.\n      // If we add one then we'll need an implementation for serializable objects.\n      // if (canceled2 === false && cloneForBranch2 === true) {\n      //   value2 = StructuredDeserialize(StructuredSerialize(value2));\n      // }\n\n      if (canceled1 === false) {\n        ReadableStreamDefaultControllerEnqueue(branch1._readableStreamController, value1);\n      }\n\n      if (canceled2 === false) {\n        ReadableStreamDefaultControllerEnqueue(branch2._readableStreamController, value2);\n      }\n    });\n  }\n\n  function cancel1Algorithm(reason) {\n    canceled1 = true;\n    reason1 = reason;\n    if (canceled2 === true) {\n      const compositeReason = createArrayFromList([reason1, reason2]);\n      const cancelResult = ReadableStreamCancel(stream, compositeReason);\n      resolveCancelPromise(cancelResult);\n    }\n    return cancelPromise;\n  }\n\n  function cancel2Algorithm(reason) {\n    canceled2 = true;\n    reason2 = reason;\n    if (canceled1 === true) {\n      const compositeReason = createArrayFromList([reason1, reason2]);\n      const cancelResult = ReadableStreamCancel(stream, compositeReason);\n      resolveCancelPromise(cancelResult);\n    }\n    return cancelPromise;\n  }\n\n  function startAlgorithm() {}\n\n  branch1 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel1Algorithm);\n  branch2 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel2Algorithm);\n\n  reader._closedPromise.catch(r => {\n    if (closedOrErrored === true) {\n      return;\n    }\n\n    ReadableStreamDefaultControllerError(branch1._readableStreamController, r);\n    ReadableStreamDefaultControllerError(branch2._readableStreamController, r);\n    closedOrErrored = true;\n  });\n\n  return [branch1, branch2];\n}\n\n// ReadableStream API exposed for controllers.\n\nfunction ReadableStreamAddReadIntoRequest(stream, forAuthorCode) {\n  assert(IsReadableStreamBYOBReader(stream._reader) === true);\n  assert(stream._state === 'readable' || stream._state === 'closed');\n\n  const promise = new Promise((resolve, reject) => {\n    const readIntoRequest = {\n      _resolve: resolve,\n      _reject: reject,\n      _forAuthorCode: forAuthorCode\n    };\n\n    stream._reader._readIntoRequests.push(readIntoRequest);\n  });\n\n  return promise;\n}\n\nfunction ReadableStreamAddReadRequest(stream, forAuthorCode) {\n  assert(IsReadableStreamDefaultReader(stream._reader) === true);\n  assert(stream._state === 'readable');\n\n  const promise = new Promise((resolve, reject) => {\n    const readRequest = {\n      _resolve: resolve,\n      _reject: reject,\n      _forAuthorCode: forAuthorCode\n    };\n\n    stream._reader._readRequests.push(readRequest);\n  });\n\n  return promise;\n}\n\nfunction ReadableStreamCancel(stream, reason) {\n  stream._disturbed = true;\n\n  if (stream._state === 'closed') {\n    return Promise.resolve(undefined);\n  }\n  if (stream._state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n\n  ReadableStreamClose(stream);\n\n  const sourceCancelPromise = stream._readableStreamController[CancelSteps](reason);\n  return sourceCancelPromise.then(() => undefined);\n}\n\nfunction ReadableStreamClose(stream) {\n  assert(stream._state === 'readable');\n\n  stream._state = 'closed';\n\n  const reader = stream._reader;\n\n  if (reader === undefined) {\n    return undefined;\n  }\n\n  if (IsReadableStreamDefaultReader(reader) === true) {\n    for (const { _resolve, _forAuthorCode } of reader._readRequests) {\n      _resolve(ReadableStreamCreateReadResult(undefined, true, _forAuthorCode));\n    }\n    reader._readRequests = [];\n  }\n\n  defaultReaderClosedPromiseResolve(reader);\n\n  return undefined;\n}\n\nfunction ReadableStreamCreateReadResult(value, done, forAuthorCode) {\n  let prototype = null;\n  if (forAuthorCode === true) {\n    prototype = Object.prototype;\n  }\n  assert(typeof done === 'boolean');\n  const obj = Object.create(prototype);\n  Object.defineProperty(obj, 'value', { value, enumerable: true, writable: true, configurable: true });\n  Object.defineProperty(obj, 'done', { value: done, enumerable: true, writable: true, configurable: true });\n  return obj;\n}\n\nfunction ReadableStreamError(stream, e) {\n  assert(IsReadableStream(stream) === true);\n  assert(stream._state === 'readable');\n\n  stream._state = 'errored';\n  stream._storedError = e;\n\n  const reader = stream._reader;\n\n  if (reader === undefined) {\n    return undefined;\n  }\n\n  if (IsReadableStreamDefaultReader(reader) === true) {\n    for (const readRequest of reader._readRequests) {\n      readRequest._reject(e);\n    }\n\n    reader._readRequests = [];\n  } else {\n    assert(IsReadableStreamBYOBReader(reader));\n\n    for (const readIntoRequest of reader._readIntoRequests) {\n      readIntoRequest._reject(e);\n    }\n\n    reader._readIntoRequests = [];\n  }\n\n  defaultReaderClosedPromiseReject(reader, e);\n  reader._closedPromise.catch(() => {});\n}\n\nfunction ReadableStreamFulfillReadIntoRequest(stream, chunk, done) {\n  const reader = stream._reader;\n\n  assert(reader._readIntoRequests.length > 0);\n\n  const readIntoRequest = reader._readIntoRequests.shift();\n  readIntoRequest._resolve(ReadableStreamCreateReadResult(chunk, done, readIntoRequest._forAuthorCode));\n}\n\nfunction ReadableStreamFulfillReadRequest(stream, chunk, done) {\n  const reader = stream._reader;\n\n  assert(reader._readRequests.length > 0);\n\n  const readRequest = reader._readRequests.shift();\n  readRequest._resolve(ReadableStreamCreateReadResult(chunk, done, readRequest._forAuthorCode));\n}\n\nfunction ReadableStreamGetNumReadIntoRequests(stream) {\n  return stream._reader._readIntoRequests.length;\n}\n\nfunction ReadableStreamGetNumReadRequests(stream) {\n  return stream._reader._readRequests.length;\n}\n\nfunction ReadableStreamHasBYOBReader(stream) {\n  const reader = stream._reader;\n\n  if (reader === undefined) {\n    return false;\n  }\n\n  if (IsReadableStreamBYOBReader(reader) === false) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamHasDefaultReader(stream) {\n  const reader = stream._reader;\n\n  if (reader === undefined) {\n    return false;\n  }\n\n  if (IsReadableStreamDefaultReader(reader) === false) {\n    return false;\n  }\n\n  return true;\n}\n\n// Readers\n\nclass ReadableStreamDefaultReader {\n  constructor(stream) {\n    if (IsReadableStream(stream) === false) {\n      throw new TypeError('ReadableStreamDefaultReader can only be constructed with a ReadableStream instance');\n    }\n    if (IsReadableStreamLocked(stream) === true) {\n      throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n    }\n\n    ReadableStreamReaderGenericInitialize(this, stream);\n\n    this._readRequests = [];\n  }\n\n  get closed() {\n    if (IsReadableStreamDefaultReader(this) === false) {\n      return Promise.reject(defaultReaderBrandCheckException('closed'));\n    }\n\n    return this._closedPromise;\n  }\n\n  cancel(reason) {\n    if (IsReadableStreamDefaultReader(this) === false) {\n      return Promise.reject(defaultReaderBrandCheckException('cancel'));\n    }\n\n    if (this._ownerReadableStream === undefined) {\n      return Promise.reject(readerLockException('cancel'));\n    }\n\n    return ReadableStreamReaderGenericCancel(this, reason);\n  }\n\n  read() {\n    if (IsReadableStreamDefaultReader(this) === false) {\n      return Promise.reject(defaultReaderBrandCheckException('read'));\n    }\n\n    if (this._ownerReadableStream === undefined) {\n      return Promise.reject(readerLockException('read from'));\n    }\n\n    return ReadableStreamDefaultReaderRead(this, true);\n  }\n\n  releaseLock() {\n    if (IsReadableStreamDefaultReader(this) === false) {\n      throw defaultReaderBrandCheckException('releaseLock');\n    }\n\n    if (this._ownerReadableStream === undefined) {\n      return;\n    }\n\n    if (this._readRequests.length > 0) {\n      throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n    }\n\n    ReadableStreamReaderGenericRelease(this);\n  }\n}\n\nclass ReadableStreamBYOBReader {\n  constructor(stream) {\n    if (!IsReadableStream(stream)) {\n      throw new TypeError('ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a ' +\n          'byte source');\n    }\n    if (IsReadableByteStreamController(stream._readableStreamController) === false) {\n      throw new TypeError('Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte ' +\n          'source');\n    }\n    if (IsReadableStreamLocked(stream)) {\n      throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n    }\n\n    ReadableStreamReaderGenericInitialize(this, stream);\n\n    this._readIntoRequests = [];\n  }\n\n  get closed() {\n    if (!IsReadableStreamBYOBReader(this)) {\n      return Promise.reject(byobReaderBrandCheckException('closed'));\n    }\n\n    return this._closedPromise;\n  }\n\n  cancel(reason) {\n    if (!IsReadableStreamBYOBReader(this)) {\n      return Promise.reject(byobReaderBrandCheckException('cancel'));\n    }\n\n    if (this._ownerReadableStream === undefined) {\n      return Promise.reject(readerLockException('cancel'));\n    }\n\n    return ReadableStreamReaderGenericCancel(this, reason);\n  }\n\n  read(view) {\n    if (!IsReadableStreamBYOBReader(this)) {\n      return Promise.reject(byobReaderBrandCheckException('read'));\n    }\n\n    if (this._ownerReadableStream === undefined) {\n      return Promise.reject(readerLockException('read from'));\n    }\n\n    if (!ArrayBuffer.isView(view)) {\n      return Promise.reject(new TypeError('view must be an array buffer view'));\n    }\n\n    if (IsDetachedBuffer(view.buffer) === true) {\n      return Promise.reject(new TypeError('Cannot read into a view onto a detached ArrayBuffer'));\n    }\n\n    if (view.byteLength === 0) {\n      return Promise.reject(new TypeError('view must have non-zero byteLength'));\n    }\n\n    return ReadableStreamBYOBReaderRead(this, view, true);\n  }\n\n  releaseLock() {\n    if (!IsReadableStreamBYOBReader(this)) {\n      throw byobReaderBrandCheckException('releaseLock');\n    }\n\n    if (this._ownerReadableStream === undefined) {\n      return;\n    }\n\n    if (this._readIntoRequests.length > 0) {\n      throw new TypeError('Tried to release a reader lock when that reader has pending read() calls un-settled');\n    }\n\n    ReadableStreamReaderGenericRelease(this);\n  }\n}\n\n// Abstract operations for the readers.\n\nfunction IsReadableStreamBYOBReader(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_readIntoRequests')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsReadableStreamDefaultReader(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_readRequests')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamReaderGenericInitialize(reader, stream) {\n  reader._ownerReadableStream = stream;\n  stream._reader = reader;\n\n  if (stream._state === 'readable') {\n    defaultReaderClosedPromiseInitialize(reader);\n  } else if (stream._state === 'closed') {\n    defaultReaderClosedPromiseInitializeAsResolved(reader);\n  } else {\n    assert(stream._state === 'errored');\n\n    defaultReaderClosedPromiseInitializeAsRejected(reader, stream._storedError);\n    reader._closedPromise.catch(() => {});\n  }\n}\n\n// A client of ReadableStreamDefaultReader and ReadableStreamBYOBReader may use these functions directly to bypass state\n// check.\n\nfunction ReadableStreamReaderGenericCancel(reader, reason) {\n  const stream = reader._ownerReadableStream;\n  assert(stream !== undefined);\n  return ReadableStreamCancel(stream, reason);\n}\n\nfunction ReadableStreamReaderGenericRelease(reader) {\n  assert(reader._ownerReadableStream !== undefined);\n  assert(reader._ownerReadableStream._reader === reader);\n\n  if (reader._ownerReadableStream._state === 'readable') {\n    defaultReaderClosedPromiseReject(\n        reader,\n        new TypeError('Reader was released and can no longer be used to monitor the stream\\'s closedness'));\n  } else {\n    defaultReaderClosedPromiseResetToRejected(\n        reader,\n        new TypeError('Reader was released and can no longer be used to monitor the stream\\'s closedness'));\n  }\n  reader._closedPromise.catch(() => {});\n\n  reader._ownerReadableStream._reader = undefined;\n  reader._ownerReadableStream = undefined;\n}\n\nfunction ReadableStreamBYOBReaderRead(reader, view, forAuthorCode = false) {\n  const stream = reader._ownerReadableStream;\n\n  assert(stream !== undefined);\n\n  stream._disturbed = true;\n\n  if (stream._state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n\n  // Controllers must implement this.\n  return ReadableByteStreamControllerPullInto(stream._readableStreamController, view, forAuthorCode);\n}\n\nfunction ReadableStreamDefaultReaderRead(reader, forAuthorCode = false) {\n  const stream = reader._ownerReadableStream;\n\n  assert(stream !== undefined);\n\n  stream._disturbed = true;\n\n  if (stream._state === 'closed') {\n    return Promise.resolve(ReadableStreamCreateReadResult(undefined, true, forAuthorCode));\n  }\n\n  if (stream._state === 'errored') {\n    return Promise.reject(stream._storedError);\n  }\n\n  assert(stream._state === 'readable');\n\n  return stream._readableStreamController[PullSteps](forAuthorCode);\n}\n\n// Controllers\n\nclass ReadableStreamDefaultController {\n  constructor() {\n    throw new TypeError();\n  }\n\n  get desiredSize() {\n    if (IsReadableStreamDefaultController(this) === false) {\n      throw defaultControllerBrandCheckException('desiredSize');\n    }\n\n    return ReadableStreamDefaultControllerGetDesiredSize(this);\n  }\n\n  close() {\n    if (IsReadableStreamDefaultController(this) === false) {\n      throw defaultControllerBrandCheckException('close');\n    }\n\n    if (ReadableStreamDefaultControllerCanCloseOrEnqueue(this) === false) {\n      throw new TypeError('The stream is not in a state that permits close');\n    }\n\n    ReadableStreamDefaultControllerClose(this);\n  }\n\n  enqueue(chunk) {\n    if (IsReadableStreamDefaultController(this) === false) {\n      throw defaultControllerBrandCheckException('enqueue');\n    }\n\n    if (ReadableStreamDefaultControllerCanCloseOrEnqueue(this) === false) {\n      throw new TypeError('The stream is not in a state that permits enqueue');\n    }\n\n    return ReadableStreamDefaultControllerEnqueue(this, chunk);\n  }\n\n  error(e) {\n    if (IsReadableStreamDefaultController(this) === false) {\n      throw defaultControllerBrandCheckException('error');\n    }\n\n    ReadableStreamDefaultControllerError(this, e);\n  }\n\n  [CancelSteps](reason) {\n    ResetQueue(this);\n    const result = this._cancelAlgorithm(reason);\n    ReadableStreamDefaultControllerClearAlgorithms(this);\n    return result;\n  }\n\n  [PullSteps](forAuthorCode) {\n    const stream = this._controlledReadableStream;\n\n    if (this._queue.length > 0) {\n      const chunk = DequeueValue(this);\n\n      if (this._closeRequested === true && this._queue.length === 0) {\n        ReadableStreamDefaultControllerClearAlgorithms(this);\n        ReadableStreamClose(stream);\n      } else {\n        ReadableStreamDefaultControllerCallPullIfNeeded(this);\n      }\n\n      return Promise.resolve(ReadableStreamCreateReadResult(chunk, false, forAuthorCode));\n    }\n\n    const pendingPromise = ReadableStreamAddReadRequest(stream, forAuthorCode);\n    ReadableStreamDefaultControllerCallPullIfNeeded(this);\n    return pendingPromise;\n  }\n}\n\n// Abstract operations for the ReadableStreamDefaultController.\n\nfunction IsReadableStreamDefaultController(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableStream')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamDefaultControllerCallPullIfNeeded(controller) {\n  const shouldPull = ReadableStreamDefaultControllerShouldCallPull(controller);\n  if (shouldPull === false) {\n    return undefined;\n  }\n\n  if (controller._pulling === true) {\n    controller._pullAgain = true;\n    return undefined;\n  }\n\n  assert(controller._pullAgain === false);\n\n  controller._pulling = true;\n\n  const pullPromise = controller._pullAlgorithm();\n  pullPromise.then(\n    () => {\n      controller._pulling = false;\n\n      if (controller._pullAgain === true) {\n        controller._pullAgain = false;\n        return ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n      }\n      return undefined;\n    },\n    e => {\n      ReadableStreamDefaultControllerError(controller, e);\n    }\n  )\n  .catch(rethrowAssertionErrorRejection);\n\n  return undefined;\n}\n\nfunction ReadableStreamDefaultControllerShouldCallPull(controller) {\n  const stream = controller._controlledReadableStream;\n\n  if (ReadableStreamDefaultControllerCanCloseOrEnqueue(controller) === false) {\n    return false;\n  }\n\n  if (controller._started === false) {\n    return false;\n  }\n\n  if (IsReadableStreamLocked(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n    return true;\n  }\n\n  const desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n  assert(desiredSize !== null);\n  if (desiredSize > 0) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction ReadableStreamDefaultControllerClearAlgorithms(controller) {\n  controller._pullAlgorithm = undefined;\n  controller._cancelAlgorithm = undefined;\n  controller._strategySizeAlgorithm = undefined;\n}\n\n// A client of ReadableStreamDefaultController may use these functions directly to bypass state check.\n\nfunction ReadableStreamDefaultControllerClose(controller) {\n  const stream = controller._controlledReadableStream;\n\n  assert(ReadableStreamDefaultControllerCanCloseOrEnqueue(controller) === true);\n\n  controller._closeRequested = true;\n\n  if (controller._queue.length === 0) {\n    ReadableStreamDefaultControllerClearAlgorithms(controller);\n    ReadableStreamClose(stream);\n  }\n}\n\nfunction ReadableStreamDefaultControllerEnqueue(controller, chunk) {\n  const stream = controller._controlledReadableStream;\n\n  assert(ReadableStreamDefaultControllerCanCloseOrEnqueue(controller) === true);\n\n  if (IsReadableStreamLocked(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n    ReadableStreamFulfillReadRequest(stream, chunk, false);\n  } else {\n    let chunkSize;\n    try {\n      chunkSize = controller._strategySizeAlgorithm(chunk);\n    } catch (chunkSizeE) {\n      ReadableStreamDefaultControllerError(controller, chunkSizeE);\n      throw chunkSizeE;\n    }\n\n    try {\n      EnqueueValueWithSize(controller, chunk, chunkSize);\n    } catch (enqueueE) {\n      ReadableStreamDefaultControllerError(controller, enqueueE);\n      throw enqueueE;\n    }\n  }\n\n  ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n\n  return undefined;\n}\n\nfunction ReadableStreamDefaultControllerError(controller, e) {\n  const stream = controller._controlledReadableStream;\n\n  if (stream._state !== 'readable') {\n    return;\n  }\n\n  ResetQueue(controller);\n\n  ReadableStreamDefaultControllerClearAlgorithms(controller);\n  ReadableStreamError(stream, e);\n}\n\nfunction ReadableStreamDefaultControllerGetDesiredSize(controller) {\n  const stream = controller._controlledReadableStream;\n  const state = stream._state;\n\n  if (state === 'errored') {\n    return null;\n  }\n  if (state === 'closed') {\n    return 0;\n  }\n\n  return controller._strategyHWM - controller._queueTotalSize;\n}\n\n// This is used in the implementation of TransformStream.\nfunction ReadableStreamDefaultControllerHasBackpressure(controller) {\n  if (ReadableStreamDefaultControllerShouldCallPull(controller) === true) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableStreamDefaultControllerCanCloseOrEnqueue(controller) {\n  const state = controller._controlledReadableStream._state;\n\n  if (controller._closeRequested === false && state === 'readable') {\n    return true;\n  }\n\n  return false;\n}\n\nfunction SetUpReadableStreamDefaultController(\n  stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm) {\n  assert(stream._readableStreamController === undefined);\n\n  controller._controlledReadableStream = stream;\n\n  controller._queue = undefined;\n  controller._queueTotalSize = undefined;\n  ResetQueue(controller);\n\n  controller._started = false;\n  controller._closeRequested = false;\n  controller._pullAgain = false;\n  controller._pulling = false;\n\n  controller._strategySizeAlgorithm = sizeAlgorithm;\n  controller._strategyHWM = highWaterMark;\n\n  controller._pullAlgorithm = pullAlgorithm;\n  controller._cancelAlgorithm = cancelAlgorithm;\n\n  stream._readableStreamController = controller;\n\n  const startResult = startAlgorithm();\n  Promise.resolve(startResult).then(\n    () => {\n      controller._started = true;\n\n      assert(controller._pulling === false);\n      assert(controller._pullAgain === false);\n\n      ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n    },\n    r => {\n      ReadableStreamDefaultControllerError(controller, r);\n    }\n  )\n  .catch(rethrowAssertionErrorRejection);\n}\n\nfunction SetUpReadableStreamDefaultControllerFromUnderlyingSource(stream, underlyingSource, highWaterMark,\n                                                                  sizeAlgorithm) {\n  assert(underlyingSource !== undefined);\n\n  const controller = Object.create(ReadableStreamDefaultController.prototype);\n\n  function startAlgorithm() {\n    return InvokeOrNoop(underlyingSource, 'start', [controller]);\n  }\n\n  const pullAlgorithm = CreateAlgorithmFromUnderlyingMethod(underlyingSource, 'pull', 0, [controller]);\n  const cancelAlgorithm = CreateAlgorithmFromUnderlyingMethod(underlyingSource, 'cancel', 1, []);\n\n  SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm,\n                                       highWaterMark, sizeAlgorithm);\n}\n\nclass ReadableStreamBYOBRequest {\n  constructor() {\n    throw new TypeError('ReadableStreamBYOBRequest cannot be used directly');\n  }\n\n  get view() {\n    if (IsReadableStreamBYOBRequest(this) === false) {\n      throw byobRequestBrandCheckException('view');\n    }\n\n    return this._view;\n  }\n\n  respond(bytesWritten) {\n    if (IsReadableStreamBYOBRequest(this) === false) {\n      throw byobRequestBrandCheckException('respond');\n    }\n\n    if (this._associatedReadableByteStreamController === undefined) {\n      throw new TypeError('This BYOB request has been invalidated');\n    }\n\n    if (IsDetachedBuffer(this._view.buffer) === true) {\n      throw new TypeError('The BYOB request\\'s buffer has been detached and so cannot be used as a response');\n    }\n\n    ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, bytesWritten);\n  }\n\n  respondWithNewView(view) {\n    if (IsReadableStreamBYOBRequest(this) === false) {\n      throw byobRequestBrandCheckException('respond');\n    }\n\n    if (this._associatedReadableByteStreamController === undefined) {\n      throw new TypeError('This BYOB request has been invalidated');\n    }\n\n    if (!ArrayBuffer.isView(view)) {\n      throw new TypeError('You can only respond with array buffer views');\n    }\n\n    if (IsDetachedBuffer(view.buffer) === true) {\n      throw new TypeError('The supplied view\\'s buffer has been detached and so cannot be used as a response');\n    }\n\n    ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, view);\n  }\n}\n\nclass ReadableByteStreamController {\n  constructor() {\n    throw new TypeError('ReadableByteStreamController constructor cannot be used directly');\n  }\n\n  get byobRequest() {\n    if (IsReadableByteStreamController(this) === false) {\n      throw byteStreamControllerBrandCheckException('byobRequest');\n    }\n\n    if (this._byobRequest === undefined && this._pendingPullIntos.length > 0) {\n      const firstDescriptor = this._pendingPullIntos[0];\n      const view = new Uint8Array(firstDescriptor.buffer,\n                                  firstDescriptor.byteOffset + firstDescriptor.bytesFilled,\n                                  firstDescriptor.byteLength - firstDescriptor.bytesFilled);\n\n      const byobRequest = Object.create(ReadableStreamBYOBRequest.prototype);\n      SetUpReadableStreamBYOBRequest(byobRequest, this, view);\n      this._byobRequest = byobRequest;\n    }\n\n    return this._byobRequest;\n  }\n\n  get desiredSize() {\n    if (IsReadableByteStreamController(this) === false) {\n      throw byteStreamControllerBrandCheckException('desiredSize');\n    }\n\n    return ReadableByteStreamControllerGetDesiredSize(this);\n  }\n\n  close() {\n    if (IsReadableByteStreamController(this) === false) {\n      throw byteStreamControllerBrandCheckException('close');\n    }\n\n    if (this._closeRequested === true) {\n      throw new TypeError('The stream has already been closed; do not close it again!');\n    }\n\n    const state = this._controlledReadableByteStream._state;\n    if (state !== 'readable') {\n      throw new TypeError(`The stream (in ${state} state) is not in the readable state and cannot be closed`);\n    }\n\n    ReadableByteStreamControllerClose(this);\n  }\n\n  enqueue(chunk) {\n    if (IsReadableByteStreamController(this) === false) {\n      throw byteStreamControllerBrandCheckException('enqueue');\n    }\n\n    if (this._closeRequested === true) {\n      throw new TypeError('stream is closed or draining');\n    }\n\n    const state = this._controlledReadableByteStream._state;\n    if (state !== 'readable') {\n      throw new TypeError(`The stream (in ${state} state) is not in the readable state and cannot be enqueued to`);\n    }\n\n    if (!ArrayBuffer.isView(chunk)) {\n      throw new TypeError('You can only enqueue array buffer views when using a ReadableByteStreamController');\n    }\n\n    if (IsDetachedBuffer(chunk.buffer) === true) {\n      throw new TypeError('Cannot enqueue a view onto a detached ArrayBuffer');\n    }\n\n    ReadableByteStreamControllerEnqueue(this, chunk);\n  }\n\n  error(e) {\n    if (IsReadableByteStreamController(this) === false) {\n      throw byteStreamControllerBrandCheckException('error');\n    }\n\n    ReadableByteStreamControllerError(this, e);\n  }\n\n  [CancelSteps](reason) {\n    if (this._pendingPullIntos.length > 0) {\n      const firstDescriptor = this._pendingPullIntos[0];\n      firstDescriptor.bytesFilled = 0;\n    }\n\n    ResetQueue(this);\n\n    const result = this._cancelAlgorithm(reason);\n    ReadableByteStreamControllerClearAlgorithms(this);\n    return result;\n  }\n\n  [PullSteps](forAuthorCode) {\n    const stream = this._controlledReadableByteStream;\n    assert(ReadableStreamHasDefaultReader(stream) === true);\n\n    if (this._queueTotalSize > 0) {\n      assert(ReadableStreamGetNumReadRequests(stream) === 0);\n\n      const entry = this._queue.shift();\n      this._queueTotalSize -= entry.byteLength;\n\n      ReadableByteStreamControllerHandleQueueDrain(this);\n\n      let view;\n      try {\n        view = new Uint8Array(entry.buffer, entry.byteOffset, entry.byteLength);\n      } catch (viewE) {\n        return Promise.reject(viewE);\n      }\n\n      return Promise.resolve(ReadableStreamCreateReadResult(view, false, forAuthorCode));\n    }\n\n    const autoAllocateChunkSize = this._autoAllocateChunkSize;\n    if (autoAllocateChunkSize !== undefined) {\n      let buffer;\n      try {\n        buffer = new ArrayBuffer(autoAllocateChunkSize);\n      } catch (bufferE) {\n        return Promise.reject(bufferE);\n      }\n\n      const pullIntoDescriptor = {\n        buffer,\n        byteOffset: 0,\n        byteLength: autoAllocateChunkSize,\n        bytesFilled: 0,\n        elementSize: 1,\n        ctor: Uint8Array,\n        readerType: 'default'\n      };\n\n      this._pendingPullIntos.push(pullIntoDescriptor);\n    }\n\n    const promise = ReadableStreamAddReadRequest(stream, forAuthorCode);\n\n    ReadableByteStreamControllerCallPullIfNeeded(this);\n\n    return promise;\n  }\n}\n\n// Abstract operations for the ReadableByteStreamController.\n\nfunction IsReadableByteStreamController(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableByteStream')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction IsReadableStreamBYOBRequest(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_associatedReadableByteStreamController')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction ReadableByteStreamControllerCallPullIfNeeded(controller) {\n  const shouldPull = ReadableByteStreamControllerShouldCallPull(controller);\n  if (shouldPull === false) {\n    return undefined;\n  }\n\n  if (controller._pulling === true) {\n    controller._pullAgain = true;\n    return undefined;\n  }\n\n  assert(controller._pullAgain === false);\n\n  controller._pulling = true;\n\n  // TODO: Test controller argument\n  const pullPromise = controller._pullAlgorithm();\n  pullPromise.then(\n    () => {\n      controller._pulling = false;\n\n      if (controller._pullAgain === true) {\n        controller._pullAgain = false;\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n      }\n    },\n    e => {\n      ReadableByteStreamControllerError(controller, e);\n    }\n  )\n  .catch(rethrowAssertionErrorRejection);\n\n  return undefined;\n}\n\nfunction ReadableByteStreamControllerClearPendingPullIntos(controller) {\n  ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n  controller._pendingPullIntos = [];\n}\n\nfunction ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor) {\n  assert(stream._state !== 'errored');\n\n  let done = false;\n  if (stream._state === 'closed') {\n    assert(pullIntoDescriptor.bytesFilled === 0);\n    done = true;\n  }\n\n  const filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n  if (pullIntoDescriptor.readerType === 'default') {\n    ReadableStreamFulfillReadRequest(stream, filledView, done);\n  } else {\n    assert(pullIntoDescriptor.readerType === 'byob');\n    ReadableStreamFulfillReadIntoRequest(stream, filledView, done);\n  }\n}\n\nfunction ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor) {\n  const bytesFilled = pullIntoDescriptor.bytesFilled;\n  const elementSize = pullIntoDescriptor.elementSize;\n\n  assert(bytesFilled <= pullIntoDescriptor.byteLength);\n  assert(bytesFilled % elementSize === 0);\n\n  return new pullIntoDescriptor.ctor(\n      pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, bytesFilled / elementSize);\n}\n\nfunction ReadableByteStreamControllerEnqueueChunkToQueue(controller, buffer, byteOffset, byteLength) {\n  controller._queue.push({ buffer, byteOffset, byteLength });\n  controller._queueTotalSize += byteLength;\n}\n\nfunction ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) {\n  const elementSize = pullIntoDescriptor.elementSize;\n\n  const currentAlignedBytes = pullIntoDescriptor.bytesFilled - pullIntoDescriptor.bytesFilled % elementSize;\n\n  const maxBytesToCopy = Math.min(controller._queueTotalSize,\n                                  pullIntoDescriptor.byteLength - pullIntoDescriptor.bytesFilled);\n  const maxBytesFilled = pullIntoDescriptor.bytesFilled + maxBytesToCopy;\n  const maxAlignedBytes = maxBytesFilled - maxBytesFilled % elementSize;\n\n  let totalBytesToCopyRemaining = maxBytesToCopy;\n  let ready = false;\n  if (maxAlignedBytes > currentAlignedBytes) {\n    totalBytesToCopyRemaining = maxAlignedBytes - pullIntoDescriptor.bytesFilled;\n    ready = true;\n  }\n\n  const queue = controller._queue;\n\n  while (totalBytesToCopyRemaining > 0) {\n    const headOfQueue = queue[0];\n\n    const bytesToCopy = Math.min(totalBytesToCopyRemaining, headOfQueue.byteLength);\n\n    const destStart = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n    ArrayBufferCopy(pullIntoDescriptor.buffer, destStart, headOfQueue.buffer, headOfQueue.byteOffset, bytesToCopy);\n\n    if (headOfQueue.byteLength === bytesToCopy) {\n      queue.shift();\n    } else {\n      headOfQueue.byteOffset += bytesToCopy;\n      headOfQueue.byteLength -= bytesToCopy;\n    }\n    controller._queueTotalSize -= bytesToCopy;\n\n    ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesToCopy, pullIntoDescriptor);\n\n    totalBytesToCopyRemaining -= bytesToCopy;\n  }\n\n  if (ready === false) {\n    assert(controller._queueTotalSize === 0);\n    assert(pullIntoDescriptor.bytesFilled > 0);\n    assert(pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize);\n  }\n\n  return ready;\n}\n\nfunction ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, size, pullIntoDescriptor) {\n  assert(controller._pendingPullIntos.length === 0 || controller._pendingPullIntos[0] === pullIntoDescriptor);\n\n  ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n  pullIntoDescriptor.bytesFilled += size;\n}\n\nfunction ReadableByteStreamControllerHandleQueueDrain(controller) {\n  assert(controller._controlledReadableByteStream._state === 'readable');\n\n  if (controller._queueTotalSize === 0 && controller._closeRequested === true) {\n    ReadableByteStreamControllerClearAlgorithms(controller);\n    ReadableStreamClose(controller._controlledReadableByteStream);\n  } else {\n    ReadableByteStreamControllerCallPullIfNeeded(controller);\n  }\n}\n\nfunction ReadableByteStreamControllerInvalidateBYOBRequest(controller) {\n  if (controller._byobRequest === undefined) {\n    return;\n  }\n\n  controller._byobRequest._associatedReadableByteStreamController = undefined;\n  controller._byobRequest._view = undefined;\n  controller._byobRequest = undefined;\n}\n\nfunction ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller) {\n  assert(controller._closeRequested === false);\n\n  while (controller._pendingPullIntos.length > 0) {\n    if (controller._queueTotalSize === 0) {\n      return;\n    }\n\n    const pullIntoDescriptor = controller._pendingPullIntos[0];\n\n    if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) === true) {\n      ReadableByteStreamControllerShiftPendingPullInto(controller);\n\n      ReadableByteStreamControllerCommitPullIntoDescriptor(\n        controller._controlledReadableByteStream,\n        pullIntoDescriptor\n      );\n    }\n  }\n}\n\nfunction ReadableByteStreamControllerPullInto(controller, view, forAuthorCode) {\n  const stream = controller._controlledReadableByteStream;\n\n  let elementSize = 1;\n  if (view.constructor !== DataView) {\n    elementSize = view.constructor.BYTES_PER_ELEMENT;\n  }\n\n  const ctor = view.constructor;\n\n  const buffer = TransferArrayBuffer(view.buffer);\n  const pullIntoDescriptor = {\n    buffer,\n    byteOffset: view.byteOffset,\n    byteLength: view.byteLength,\n    bytesFilled: 0,\n    elementSize,\n    ctor,\n    readerType: 'byob'\n  };\n\n  if (controller._pendingPullIntos.length > 0) {\n    controller._pendingPullIntos.push(pullIntoDescriptor);\n\n    // No ReadableByteStreamControllerCallPullIfNeeded() call since:\n    // - No change happens on desiredSize\n    // - The source has already been notified of that there's at least 1 pending read(view)\n\n    return ReadableStreamAddReadIntoRequest(stream, forAuthorCode);\n  }\n\n  if (stream._state === 'closed') {\n    const emptyView = new view.constructor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, 0);\n    return Promise.resolve(ReadableStreamCreateReadResult(emptyView, true, forAuthorCode));\n  }\n\n  if (controller._queueTotalSize > 0) {\n    if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) === true) {\n      const filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n\n      ReadableByteStreamControllerHandleQueueDrain(controller);\n\n      return Promise.resolve(ReadableStreamCreateReadResult(filledView, false, forAuthorCode));\n    }\n\n    if (controller._closeRequested === true) {\n      const e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n      ReadableByteStreamControllerError(controller, e);\n\n      return Promise.reject(e);\n    }\n  }\n\n  controller._pendingPullIntos.push(pullIntoDescriptor);\n\n  const promise = ReadableStreamAddReadIntoRequest(stream, forAuthorCode);\n\n  ReadableByteStreamControllerCallPullIfNeeded(controller);\n\n  return promise;\n}\n\nfunction ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor) {\n  firstDescriptor.buffer = TransferArrayBuffer(firstDescriptor.buffer);\n\n  assert(firstDescriptor.bytesFilled === 0);\n\n  const stream = controller._controlledReadableByteStream;\n  if (ReadableStreamHasBYOBReader(stream) === true) {\n    while (ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n      const pullIntoDescriptor = ReadableByteStreamControllerShiftPendingPullInto(controller);\n      ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor);\n    }\n  }\n}\n\nfunction ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, pullIntoDescriptor) {\n  if (pullIntoDescriptor.bytesFilled + bytesWritten > pullIntoDescriptor.byteLength) {\n    throw new RangeError('bytesWritten out of range');\n  }\n\n  ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesWritten, pullIntoDescriptor);\n\n  if (pullIntoDescriptor.bytesFilled < pullIntoDescriptor.elementSize) {\n    // TODO: Figure out whether we should detach the buffer or not here.\n    return;\n  }\n\n  ReadableByteStreamControllerShiftPendingPullInto(controller);\n\n  const remainderSize = pullIntoDescriptor.bytesFilled % pullIntoDescriptor.elementSize;\n  if (remainderSize > 0) {\n    const end = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n    const remainder = pullIntoDescriptor.buffer.slice(end - remainderSize, end);\n    ReadableByteStreamControllerEnqueueChunkToQueue(controller, remainder, 0, remainder.byteLength);\n  }\n\n  pullIntoDescriptor.buffer = TransferArrayBuffer(pullIntoDescriptor.buffer);\n  pullIntoDescriptor.bytesFilled -= remainderSize;\n  ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n\n  ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n}\n\nfunction ReadableByteStreamControllerRespondInternal(controller, bytesWritten) {\n  const firstDescriptor = controller._pendingPullIntos[0];\n\n  const stream = controller._controlledReadableByteStream;\n\n  if (stream._state === 'closed') {\n    if (bytesWritten !== 0) {\n      throw new TypeError('bytesWritten must be 0 when calling respond() on a closed stream');\n    }\n\n    ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor);\n  } else {\n    assert(stream._state === 'readable');\n\n    ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, firstDescriptor);\n  }\n\n  ReadableByteStreamControllerCallPullIfNeeded(controller);\n}\n\nfunction ReadableByteStreamControllerShiftPendingPullInto(controller) {\n  const descriptor = controller._pendingPullIntos.shift();\n  ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n  return descriptor;\n}\n\nfunction ReadableByteStreamControllerShouldCallPull(controller) {\n  const stream = controller._controlledReadableByteStream;\n\n  if (stream._state !== 'readable') {\n    return false;\n  }\n\n  if (controller._closeRequested === true) {\n    return false;\n  }\n\n  if (controller._started === false) {\n    return false;\n  }\n\n  if (ReadableStreamHasDefaultReader(stream) === true && ReadableStreamGetNumReadRequests(stream) > 0) {\n    return true;\n  }\n\n  if (ReadableStreamHasBYOBReader(stream) === true && ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n    return true;\n  }\n\n  const desiredSize = ReadableByteStreamControllerGetDesiredSize(controller);\n  assert(desiredSize !== null);\n  if (desiredSize > 0) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction ReadableByteStreamControllerClearAlgorithms(controller) {\n  controller._pullAlgorithm = undefined;\n  controller._cancelAlgorithm = undefined;\n}\n\n// A client of ReadableByteStreamController may use these functions directly to bypass state check.\n\nfunction ReadableByteStreamControllerClose(controller) {\n  const stream = controller._controlledReadableByteStream;\n\n  assert(controller._closeRequested === false);\n  assert(stream._state === 'readable');\n\n  if (controller._queueTotalSize > 0) {\n    controller._closeRequested = true;\n\n    return;\n  }\n\n  if (controller._pendingPullIntos.length > 0) {\n    const firstPendingPullInto = controller._pendingPullIntos[0];\n    if (firstPendingPullInto.bytesFilled > 0) {\n      const e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n      ReadableByteStreamControllerError(controller, e);\n\n      throw e;\n    }\n  }\n\n  ReadableByteStreamControllerClearAlgorithms(controller);\n  ReadableStreamClose(stream);\n}\n\nfunction ReadableByteStreamControllerEnqueue(controller, chunk) {\n  const stream = controller._controlledReadableByteStream;\n\n  assert(controller._closeRequested === false);\n  assert(stream._state === 'readable');\n\n  const buffer = chunk.buffer;\n  const byteOffset = chunk.byteOffset;\n  const byteLength = chunk.byteLength;\n  const transferredBuffer = TransferArrayBuffer(buffer);\n\n  if (ReadableStreamHasDefaultReader(stream) === true) {\n    if (ReadableStreamGetNumReadRequests(stream) === 0) {\n      ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n    } else {\n      assert(controller._queue.length === 0);\n\n      const transferredView = new Uint8Array(transferredBuffer, byteOffset, byteLength);\n      ReadableStreamFulfillReadRequest(stream, transferredView, false);\n    }\n  } else if (ReadableStreamHasBYOBReader(stream) === true) {\n    // TODO: Ideally in this branch detaching should happen only if the buffer is not consumed fully.\n    ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n    ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n  } else {\n    assert(IsReadableStreamLocked(stream) === false);\n    ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n  }\n\n  ReadableByteStreamControllerCallPullIfNeeded(controller);\n}\n\nfunction ReadableByteStreamControllerError(controller, e) {\n  const stream = controller._controlledReadableByteStream;\n\n  if (stream._state !== 'readable') {\n    return;\n  }\n\n  ReadableByteStreamControllerClearPendingPullIntos(controller);\n\n  ResetQueue(controller);\n  ReadableByteStreamControllerClearAlgorithms(controller);\n  ReadableStreamError(stream, e);\n}\n\nfunction ReadableByteStreamControllerGetDesiredSize(controller) {\n  const stream = controller._controlledReadableByteStream;\n  const state = stream._state;\n\n  if (state === 'errored') {\n    return null;\n  }\n  if (state === 'closed') {\n    return 0;\n  }\n\n  return controller._strategyHWM - controller._queueTotalSize;\n}\n\nfunction ReadableByteStreamControllerRespond(controller, bytesWritten) {\n  bytesWritten = Number(bytesWritten);\n  if (IsFiniteNonNegativeNumber(bytesWritten) === false) {\n    throw new RangeError('bytesWritten must be a finite');\n  }\n\n  assert(controller._pendingPullIntos.length > 0);\n\n  ReadableByteStreamControllerRespondInternal(controller, bytesWritten);\n}\n\nfunction ReadableByteStreamControllerRespondWithNewView(controller, view) {\n  assert(controller._pendingPullIntos.length > 0);\n\n  const firstDescriptor = controller._pendingPullIntos[0];\n\n  if (firstDescriptor.byteOffset + firstDescriptor.bytesFilled !== view.byteOffset) {\n    throw new RangeError('The region specified by view does not match byobRequest');\n  }\n  if (firstDescriptor.byteLength !== view.byteLength) {\n    throw new RangeError('The buffer of view has different capacity than byobRequest');\n  }\n\n  firstDescriptor.buffer = view.buffer;\n\n  ReadableByteStreamControllerRespondInternal(controller, view.byteLength);\n}\n\nfunction SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm,\n                                           highWaterMark, autoAllocateChunkSize) {\n  assert(stream._readableStreamController === undefined);\n  if (autoAllocateChunkSize !== undefined) {\n    assert(Number.isInteger(autoAllocateChunkSize) === true);\n    assert(autoAllocateChunkSize > 0);\n  }\n\n  controller._controlledReadableByteStream = stream;\n\n  controller._pullAgain = false;\n  controller._pulling = false;\n\n  ReadableByteStreamControllerClearPendingPullIntos(controller);\n\n  // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n  controller._queue = controller._queueTotalSize = undefined;\n  ResetQueue(controller);\n\n  controller._closeRequested = false;\n  controller._started = false;\n\n  controller._strategyHWM = ValidateAndNormalizeHighWaterMark(highWaterMark);\n\n  controller._pullAlgorithm = pullAlgorithm;\n  controller._cancelAlgorithm = cancelAlgorithm;\n\n  controller._autoAllocateChunkSize = autoAllocateChunkSize;\n\n  controller._pendingPullIntos = [];\n\n  stream._readableStreamController = controller;\n\n  const startResult = startAlgorithm();\n  Promise.resolve(startResult).then(\n      () => {\n        controller._started = true;\n\n        assert(controller._pulling === false);\n        assert(controller._pullAgain === false);\n\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n      },\n      r => {\n        ReadableByteStreamControllerError(controller, r);\n      }\n  )\n      .catch(rethrowAssertionErrorRejection);\n}\n\nfunction SetUpReadableByteStreamControllerFromUnderlyingSource(stream, underlyingByteSource, highWaterMark) {\n  assert(underlyingByteSource !== undefined);\n\n  const controller = Object.create(ReadableByteStreamController.prototype);\n\n  function startAlgorithm() {\n    return InvokeOrNoop(underlyingByteSource, 'start', [controller]);\n  }\n\n  const pullAlgorithm = CreateAlgorithmFromUnderlyingMethod(underlyingByteSource, 'pull', 0, [controller]);\n  const cancelAlgorithm = CreateAlgorithmFromUnderlyingMethod(underlyingByteSource, 'cancel', 1, []);\n\n  let autoAllocateChunkSize = underlyingByteSource.autoAllocateChunkSize;\n  if (autoAllocateChunkSize !== undefined) {\n    autoAllocateChunkSize = Number(autoAllocateChunkSize);\n    if (Number.isInteger(autoAllocateChunkSize) === false || autoAllocateChunkSize <= 0) {\n      throw new RangeError('autoAllocateChunkSize must be a positive integer');\n    }\n  }\n\n  SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark,\n                                    autoAllocateChunkSize);\n}\n\nfunction SetUpReadableStreamBYOBRequest(request, controller, view) {\n  assert(IsReadableByteStreamController(controller) === true);\n  assert(typeof view === 'object');\n  assert(ArrayBuffer.isView(view) === true);\n  assert(IsDetachedBuffer(view.buffer) === false);\n  request._associatedReadableByteStreamController = controller;\n  request._view = view;\n}\n\n// Helper functions for the ReadableStream.\n\nfunction isAbortSignal(value) {\n  if (typeof value !== 'object' || value === null) {\n    return false;\n  }\n\n  // Use the brand check to distinguish a real AbortSignal from a fake one.\n  const aborted = Object.getOwnPropertyDescriptor(AbortSignal.prototype, 'aborted').get;\n  try {\n    aborted.call(value);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction streamBrandCheckException(name) {\n  return new TypeError(`ReadableStream.prototype.${name} can only be used on a ReadableStream`);\n}\n\n// Helper functions for the readers.\n\nfunction readerLockException(name) {\n  return new TypeError('Cannot ' + name + ' a stream using a released reader');\n}\n\n// Helper functions for the ReadableStreamDefaultReader.\n\nfunction defaultReaderBrandCheckException(name) {\n  return new TypeError(\n    `ReadableStreamDefaultReader.prototype.${name} can only be used on a ReadableStreamDefaultReader`);\n}\n\nfunction defaultReaderClosedPromiseInitialize(reader) {\n  reader._closedPromise = new Promise((resolve, reject) => {\n    reader._closedPromise_resolve = resolve;\n    reader._closedPromise_reject = reject;\n  });\n}\n\nfunction defaultReaderClosedPromiseInitializeAsRejected(reader, reason) {\n  reader._closedPromise = Promise.reject(reason);\n  reader._closedPromise_resolve = undefined;\n  reader._closedPromise_reject = undefined;\n}\n\nfunction defaultReaderClosedPromiseInitializeAsResolved(reader) {\n  reader._closedPromise = Promise.resolve(undefined);\n  reader._closedPromise_resolve = undefined;\n  reader._closedPromise_reject = undefined;\n}\n\nfunction defaultReaderClosedPromiseReject(reader, reason) {\n  assert(reader._closedPromise_resolve !== undefined);\n  assert(reader._closedPromise_reject !== undefined);\n\n  reader._closedPromise_reject(reason);\n  reader._closedPromise_resolve = undefined;\n  reader._closedPromise_reject = undefined;\n}\n\nfunction defaultReaderClosedPromiseResetToRejected(reader, reason) {\n  assert(reader._closedPromise_resolve === undefined);\n  assert(reader._closedPromise_reject === undefined);\n\n  reader._closedPromise = Promise.reject(reason);\n}\n\nfunction defaultReaderClosedPromiseResolve(reader) {\n  assert(reader._closedPromise_resolve !== undefined);\n  assert(reader._closedPromise_reject !== undefined);\n\n  reader._closedPromise_resolve(undefined);\n  reader._closedPromise_resolve = undefined;\n  reader._closedPromise_reject = undefined;\n}\n\n// Helper functions for the ReadableStreamDefaultReader.\n\nfunction byobReaderBrandCheckException(name) {\n  return new TypeError(\n    `ReadableStreamBYOBReader.prototype.${name} can only be used on a ReadableStreamBYOBReader`);\n}\n\n// Helper functions for the ReadableStreamDefaultController.\n\nfunction defaultControllerBrandCheckException(name) {\n  return new TypeError(\n    `ReadableStreamDefaultController.prototype.${name} can only be used on a ReadableStreamDefaultController`);\n}\n\n// Helper functions for the ReadableStreamBYOBRequest.\n\nfunction byobRequestBrandCheckException(name) {\n  return new TypeError(\n    `ReadableStreamBYOBRequest.prototype.${name} can only be used on a ReadableStreamBYOBRequest`);\n}\n\n// Helper functions for the ReadableByteStreamController.\n\nfunction byteStreamControllerBrandCheckException(name) {\n  return new TypeError(\n    `ReadableByteStreamController.prototype.${name} can only be used on a ReadableByteStreamController`);\n}\n","'use strict';\nconst { createDataProperty } = require('./helpers.js');\n\nmodule.exports = class ByteLengthQueuingStrategy {\n  constructor({ highWaterMark }) {\n    createDataProperty(this, 'highWaterMark', highWaterMark);\n  }\n\n  size(chunk) {\n    return chunk.byteLength;\n  }\n};\n","'use strict';\nconst { createDataProperty } = require('./helpers.js');\n\nmodule.exports = class CountQueuingStrategy {\n  constructor({ highWaterMark }) {\n    createDataProperty(this, 'highWaterMark', highWaterMark);\n  }\n\n  size() {\n    return 1;\n  }\n};\n","'use strict';\nconst assert = require('better-assert');\n\n// Calls to verbose() are purely for debugging the reference implementation and tests. They are not part of the standard\n// and do not appear in the standard text.\nconst verbose = require('debug')('streams:transform-stream:verbose');\nconst { InvokeOrNoop, CreateAlgorithmFromUnderlyingMethod, PromiseCall, typeIsObject,\n        ValidateAndNormalizeHighWaterMark, IsNonNegativeNumber,\n        MakeSizeAlgorithmFromSizeFunction } = require('./helpers.js');\nconst { CreateReadableStream, ReadableStreamDefaultControllerClose, ReadableStreamDefaultControllerEnqueue,\n        ReadableStreamDefaultControllerError, ReadableStreamDefaultControllerGetDesiredSize,\n        ReadableStreamDefaultControllerHasBackpressure,\n        ReadableStreamDefaultControllerCanCloseOrEnqueue } = require('./readable-stream.js');\nconst { CreateWritableStream, WritableStreamDefaultControllerErrorIfNeeded } = require('./writable-stream.js');\n\n// Class TransformStream\n\nclass TransformStream {\n  constructor(transformer = {}, writableStrategy = {}, readableStrategy = {}) {\n    const writableSizeFunction = writableStrategy.size;\n    let writableHighWaterMark = writableStrategy.highWaterMark;\n    const readableSizeFunction = readableStrategy.size;\n    let readableHighWaterMark = readableStrategy.highWaterMark;\n\n    const writableType = transformer.writableType;\n\n    if (writableType !== undefined) {\n      throw new RangeError('Invalid writable type specified');\n    }\n\n    const writableSizeAlgorithm = MakeSizeAlgorithmFromSizeFunction(writableSizeFunction);\n    if (writableHighWaterMark === undefined) {\n      writableHighWaterMark = 1;\n    }\n    writableHighWaterMark = ValidateAndNormalizeHighWaterMark(writableHighWaterMark);\n\n    const readableType = transformer.readableType;\n\n    if (readableType !== undefined) {\n      throw new RangeError('Invalid readable type specified');\n    }\n\n    const readableSizeAlgorithm = MakeSizeAlgorithmFromSizeFunction(readableSizeFunction);\n    if (readableHighWaterMark === undefined) {\n      readableHighWaterMark = 0;\n    }\n    readableHighWaterMark = ValidateAndNormalizeHighWaterMark(readableHighWaterMark);\n\n    let startPromise_resolve;\n    const startPromise = new Promise(resolve => {\n      startPromise_resolve = resolve;\n    });\n\n    InitializeTransformStream(this, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark,\n                              readableSizeAlgorithm);\n    SetUpTransformStreamDefaultControllerFromTransformer(this, transformer);\n\n    const startResult = InvokeOrNoop(transformer, 'start', [this._transformStreamController]);\n    startPromise_resolve(startResult);\n  }\n\n  get readable() {\n    if (IsTransformStream(this) === false) {\n      throw streamBrandCheckException('readable');\n    }\n\n    return this._readable;\n  }\n\n  get writable() {\n    if (IsTransformStream(this) === false) {\n      throw streamBrandCheckException('writable');\n    }\n\n    return this._writable;\n  }\n}\n\n// Transform Stream Abstract Operations\n\nfunction CreateTransformStream(startAlgorithm, transformAlgorithm, flushAlgorithm, writableHighWaterMark = 1,\n                               writableSizeAlgorithm = () => 1, readableHighWaterMark = 0,\n                               readableSizeAlgorithm = () => 1) {\n  assert(IsNonNegativeNumber(writableHighWaterMark));\n  assert(IsNonNegativeNumber(readableHighWaterMark));\n\n  const stream = Object.create(TransformStream.prototype);\n\n  let startPromise_resolve;\n  const startPromise = new Promise(resolve => {\n    startPromise_resolve = resolve;\n  });\n\n  InitializeTransformStream(stream, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark,\n                            readableSizeAlgorithm);\n\n  const controller = Object.create(TransformStreamDefaultController.prototype);\n\n  SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm);\n\n  const startResult = startAlgorithm();\n  startPromise_resolve(startResult);\n  return stream;\n}\n\nfunction InitializeTransformStream(stream, startPromise, writableHighWaterMark, writableSizeAlgorithm,\n                                   readableHighWaterMark, readableSizeAlgorithm) {\n  function startAlgorithm() {\n    return startPromise;\n  }\n\n  function writeAlgorithm(chunk) {\n    return TransformStreamDefaultSinkWriteAlgorithm(stream, chunk);\n  }\n\n  function abortAlgorithm(reason) {\n    return TransformStreamDefaultSinkAbortAlgorithm(stream, reason);\n  }\n\n  function closeAlgorithm() {\n    return TransformStreamDefaultSinkCloseAlgorithm(stream);\n  }\n\n  stream._writable = CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm,\n                                          writableHighWaterMark, writableSizeAlgorithm);\n\n  function pullAlgorithm() {\n    return TransformStreamDefaultSourcePullAlgorithm(stream);\n  }\n\n  function cancelAlgorithm(reason) {\n    TransformStreamErrorWritableAndUnblockWrite(stream, reason);\n    return Promise.resolve();\n  }\n\n  stream._readable = CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, readableHighWaterMark,\n                                          readableSizeAlgorithm);\n\n  // The [[backpressure]] slot is set to undefined so that it can be initialised by TransformStreamSetBackpressure.\n  stream._backpressure = undefined;\n  stream._backpressureChangePromise = undefined;\n  stream._backpressureChangePromise_resolve = undefined;\n  TransformStreamSetBackpressure(stream, true);\n\n  // Used by IsWritableStream() which is called by SetUpTransformStreamDefaultController().\n  stream._transformStreamController = undefined;\n}\n\nfunction IsTransformStream(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_transformStreamController')) {\n    return false;\n  }\n\n  return true;\n}\n\n// This is a no-op if both sides are already errored.\nfunction TransformStreamError(stream, e) {\n  verbose('TransformStreamError()');\n\n  ReadableStreamDefaultControllerError(stream._readable._readableStreamController, e);\n  TransformStreamErrorWritableAndUnblockWrite(stream, e);\n}\n\nfunction TransformStreamErrorWritableAndUnblockWrite(stream, e) {\n  TransformStreamDefaultControllerClearAlgorithms(stream._transformStreamController);\n  WritableStreamDefaultControllerErrorIfNeeded(stream._writable._writableStreamController, e);\n  if (stream._backpressure === true) {\n    // Pretend that pull() was called to permit any pending write() calls to complete. TransformStreamSetBackpressure()\n    // cannot be called from enqueue() or pull() once the ReadableStream is errored, so this will will be the final time\n    // _backpressure is set.\n    TransformStreamSetBackpressure(stream, false);\n  }\n}\n\nfunction TransformStreamSetBackpressure(stream, backpressure) {\n  verbose(`TransformStreamSetBackpressure() [backpressure = ${backpressure}]`);\n\n  // Passes also when called during construction.\n  assert(stream._backpressure !== backpressure);\n\n  if (stream._backpressureChangePromise !== undefined) {\n    stream._backpressureChangePromise_resolve();\n  }\n\n  stream._backpressureChangePromise = new Promise(resolve => {\n    stream._backpressureChangePromise_resolve = resolve;\n  });\n\n  stream._backpressure = backpressure;\n}\n\n// Class TransformStreamDefaultController\n\nclass TransformStreamDefaultController {\n  constructor() {\n    throw new TypeError('TransformStreamDefaultController instances cannot be created directly');\n  }\n\n  get desiredSize() {\n    if (IsTransformStreamDefaultController(this) === false) {\n      throw defaultControllerBrandCheckException('desiredSize');\n    }\n\n    const readableController = this._controlledTransformStream._readable._readableStreamController;\n    return ReadableStreamDefaultControllerGetDesiredSize(readableController);\n  }\n\n  enqueue(chunk) {\n    if (IsTransformStreamDefaultController(this) === false) {\n      throw defaultControllerBrandCheckException('enqueue');\n    }\n\n    TransformStreamDefaultControllerEnqueue(this, chunk);\n  }\n\n  error(reason) {\n    if (IsTransformStreamDefaultController(this) === false) {\n      throw defaultControllerBrandCheckException('error');\n    }\n\n    TransformStreamDefaultControllerError(this, reason);\n  }\n\n  terminate() {\n    if (IsTransformStreamDefaultController(this) === false) {\n      throw defaultControllerBrandCheckException('terminate');\n    }\n\n    TransformStreamDefaultControllerTerminate(this);\n  }\n}\n\n// Transform Stream Default Controller Abstract Operations\n\nfunction IsTransformStreamDefaultController(x) {\n  if (!typeIsObject(x)) {\n    return false;\n  }\n\n  if (!Object.prototype.hasOwnProperty.call(x, '_controlledTransformStream')) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm) {\n  assert(IsTransformStream(stream) === true);\n  assert(stream._transformStreamController === undefined);\n\n  controller._controlledTransformStream = stream;\n  stream._transformStreamController = controller;\n\n  controller._transformAlgorithm = transformAlgorithm;\n  controller._flushAlgorithm = flushAlgorithm;\n}\n\nfunction SetUpTransformStreamDefaultControllerFromTransformer(stream, transformer) {\n  assert(transformer !== undefined);\n\n  const controller = Object.create(TransformStreamDefaultController.prototype);\n\n  let transformAlgorithm = chunk => {\n    try {\n      TransformStreamDefaultControllerEnqueue(controller, chunk);\n      return Promise.resolve();\n    } catch (transformResultE) {\n      return Promise.reject(transformResultE);\n    }\n  };\n  const transformMethod = transformer.transform;\n  if (transformMethod !== undefined) {\n    if (typeof transformMethod !== 'function') {\n      throw new TypeError('transform is not a method');\n    }\n    transformAlgorithm = chunk => PromiseCall(transformMethod, transformer, [chunk, controller]);\n  }\n\n  const flushAlgorithm = CreateAlgorithmFromUnderlyingMethod(transformer, 'flush', 0, [controller]);\n\n  SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm);\n}\n\nfunction TransformStreamDefaultControllerClearAlgorithms(controller) {\n  controller._transformAlgorithm = undefined;\n  controller._flushAlgorithm = undefined;\n}\n\nfunction TransformStreamDefaultControllerEnqueue(controller, chunk) {\n  verbose('TransformStreamDefaultControllerEnqueue()');\n\n  const stream = controller._controlledTransformStream;\n  const readableController = stream._readable._readableStreamController;\n  if (ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController) === false) {\n    throw new TypeError('Readable side is not in a state that permits enqueue');\n  }\n\n  // We throttle transform invocations based on the backpressure of the ReadableStream, but we still\n  // accept TransformStreamDefaultControllerEnqueue() calls.\n\n  try {\n    ReadableStreamDefaultControllerEnqueue(readableController, chunk);\n  } catch (e) {\n    // This happens when readableStrategy.size() throws.\n    TransformStreamErrorWritableAndUnblockWrite(stream, e);\n\n    throw stream._readable._storedError;\n  }\n\n  const backpressure = ReadableStreamDefaultControllerHasBackpressure(readableController);\n  if (backpressure !== stream._backpressure) {\n    assert(backpressure === true);\n    TransformStreamSetBackpressure(stream, true);\n  }\n}\n\nfunction TransformStreamDefaultControllerError(controller, e) {\n  TransformStreamError(controller._controlledTransformStream, e);\n}\n\nfunction TransformStreamDefaultControllerPerformTransform(controller, chunk) {\n  const transformPromise = controller._transformAlgorithm(chunk);\n  return transformPromise.catch(r => {\n    TransformStreamError(controller._controlledTransformStream, r);\n    throw r;\n  });\n}\n\nfunction TransformStreamDefaultControllerTerminate(controller) {\n  verbose('TransformStreamDefaultControllerTerminate()');\n\n  const stream = controller._controlledTransformStream;\n  const readableController = stream._readable._readableStreamController;\n\n  if (ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController) === true) {\n    ReadableStreamDefaultControllerClose(readableController);\n  }\n\n  const error = new TypeError('TransformStream terminated');\n  TransformStreamErrorWritableAndUnblockWrite(stream, error);\n}\n\n// TransformStreamDefaultSink Algorithms\n\nfunction TransformStreamDefaultSinkWriteAlgorithm(stream, chunk) {\n  verbose('TransformStreamDefaultSinkWriteAlgorithm()');\n\n  assert(stream._writable._state === 'writable');\n\n  const controller = stream._transformStreamController;\n\n  if (stream._backpressure === true) {\n    const backpressureChangePromise = stream._backpressureChangePromise;\n    assert(backpressureChangePromise !== undefined);\n    return backpressureChangePromise\n        .then(() => {\n          const writable = stream._writable;\n          const state = writable._state;\n          if (state === 'erroring') {\n            throw writable._storedError;\n          }\n          assert(state === 'writable');\n          return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n        });\n  }\n\n  return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n}\n\nfunction TransformStreamDefaultSinkAbortAlgorithm(stream, reason) {\n  // abort() is not called synchronously, so it is possible for abort() to be called when the stream is already\n  // errored.\n  TransformStreamError(stream, reason);\n  return Promise.resolve();\n}\n\nfunction TransformStreamDefaultSinkCloseAlgorithm(stream) {\n  verbose('TransformStreamDefaultSinkCloseAlgorithm()');\n\n  // stream._readable cannot change after construction, so caching it across a call to user code is safe.\n  const readable = stream._readable;\n\n  const controller = stream._transformStreamController;\n  const flushPromise = controller._flushAlgorithm();\n  TransformStreamDefaultControllerClearAlgorithms(controller);\n\n  // Return a promise that is fulfilled with undefined on success.\n  return flushPromise.then(() => {\n    if (readable._state === 'errored') {\n      throw readable._storedError;\n    }\n    const readableController = readable._readableStreamController;\n    if (ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController) === true) {\n      ReadableStreamDefaultControllerClose(readableController);\n    }\n  }).catch(r => {\n    TransformStreamError(stream, r);\n    throw readable._storedError;\n  });\n}\n\n// TransformStreamDefaultSource Algorithms\n\nfunction TransformStreamDefaultSourcePullAlgorithm(stream) {\n  verbose('TransformStreamDefaultSourcePullAlgorithm()');\n\n  // Invariant. Enforced by the promises returned by start() and pull().\n  assert(stream._backpressure === true);\n\n  assert(stream._backpressureChangePromise !== undefined);\n\n  TransformStreamSetBackpressure(stream, false);\n\n  // Prevent the next pull() call until there is backpressure.\n  return stream._backpressureChangePromise;\n}\n\nmodule.exports = { CreateTransformStream, TransformStream };\n\n// Helper functions for the TransformStreamDefaultController.\n\nfunction defaultControllerBrandCheckException(name) {\n  return new TypeError(\n    `TransformStreamDefaultController.prototype.${name} can only be used on a TransformStreamDefaultController`);\n}\n\n// Helper functions for the TransformStream.\n\nfunction streamBrandCheckException(name) {\n  return new TypeError(\n    `TransformStream.prototype.${name} can only be used on a TransformStream`);\n}\n"],"names":["Symbol","Number.isNaN","assert","require$$0","require$$1","rethrowAssertionErrorRejection","require$$2","DequeueValue","EnqueueValueWithSize","PeekQueueValue","ResetQueue","require$$3","CreateAlgorithmFromUnderlyingMethod","IsFiniteNonNegativeNumber","InvokeOrNoop","IsDetachedBuffer","TransferArrayBuffer","ValidateAndNormalizeHighWaterMark","IsNonNegativeNumber","MakeSizeAlgorithmFromSizeFunction","typeIsObject","AcquireWritableStreamDefaultWriter","IsWritableStream","IsWritableStreamLocked","WritableStreamAbort","WritableStreamDefaultWriterCloseWithErrorPropagation","WritableStreamDefaultWriterRelease","WritableStreamDefaultWriterWrite","WritableStreamCloseQueuedOrInFlight","streamBrandCheckException","Number.isInteger","createDataProperty","verbose","CreateReadableStream","ReadableStreamDefaultControllerClose","ReadableStreamDefaultControllerEnqueue","ReadableStreamDefaultControllerError","ReadableStreamDefaultControllerGetDesiredSize","ReadableStreamDefaultControllerHasBackpressure","ReadableStreamDefaultControllerCanCloseOrEnqueue","CreateWritableStream","WritableStreamDefaultControllerErrorIfNeeded","defaultControllerBrandCheckException"],"mappings":"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"}