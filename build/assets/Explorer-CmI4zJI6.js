const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ace-BiPPJQXt.js","assets/index-Dz03sNwL.js","assets/index-CRHAWbUi.css","assets/ext-language_tools-CWDtga1u.js","assets/theme-monokai-BRKvPg7D.js","assets/mode-sql-BbqKEU3E.js"])))=>i.map(i=>d[i]);
import{a as Ie,R as F,B as Ae,u as Ke,F as We,f as Je,b as Ee,h as qe,A as Ye,C as Ge,s as ze,p as Qe,i as Ne,k as Ze,l as xe,m as ve,n as Xe,o as et,q as tt,t as it,v as Ce,_ as we,d as Te,H as st,w as Le,x as at,E as rt}from"./index-Dz03sNwL.js";const Re={111:1,112:1,113:1,114:1,117:1,118:1,121:2,122:2,123:2,124:2,131:3,132:3,133:3,134:3,135:3,136:3,137:3,138:3,141:19,142:19,143:19,144:19,145:19,151:5,152:5,153:5,154:5,155:5,156:5,161:6,162:6,163:6,171:7,172:7,181:8,182:8,183:8,184:8,185:8,186:8,187:8,188:8,191:9,192:9,193:9,200:10,201:10,202:10,203:10,204:10,211:11,212:11,213:11,214:11,221:12,222:12,223:18,224:12,225:17,227:20,231:13,232:25,235:13,236:13,241:14,242:14,251:15,261:16,271:3,272:3,273:3,274:3,346:38,347:38};var $e={exports:{}};var nt=$e.exports,Ve;function lt(){return Ve||(Ve=1,(function(N,f){((x,c)=>{N.exports=c()})(nt,function x(){var c=typeof self<"u"?self:typeof window<"u"?window:c!==void 0?c:{},u,B=!c.document&&!!c.postMessage,b=c.IS_PAPA_WORKER||!1,P={},C=0,_={};function A(o){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(l){var m=pe(l);m.chunkSize=parseInt(m.chunkSize),l.step||l.chunk||(m.chunkSize=null),this._handle=new ee(m),(this._handle.streamer=this)._config=m}).call(this,o),this.parseChunk=function(l,m){var v=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<v){let D=this._config.newline;D||(y=this._config.quoteChar||'"',D=this._handle.guessLineEndings(l,y)),l=[...l.split(D).slice(v)].join(D)}this.isFirstChunk&&j(this._config.beforeFirstChunk)&&(y=this._config.beforeFirstChunk(l))!==void 0&&(l=y),this.isFirstChunk=!1,this._halted=!1;var v=this._partialLine+l,y=(this._partialLine="",this._handle.parse(v,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(l=y.meta.cursor,v=(this._finished||(this._partialLine=v.substring(l-this._baseIndex),this._baseIndex=l),y&&y.data&&(this._rowCount+=y.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),b)c.postMessage({results:y,workerId:_.WORKER_ID,finished:v});else if(j(this._config.chunk)&&!m){if(this._config.chunk(y,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=y=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(y.data),this._completeResults.errors=this._completeResults.errors.concat(y.errors),this._completeResults.meta=y.meta),this._completed||!v||!j(this._config.complete)||y&&y.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),v||y&&y.meta.paused||this._nextChunk(),y}this._halted=!0},this._sendError=function(l){j(this._config.error)?this._config.error(l):b&&this._config.error&&c.postMessage({workerId:_.WORKER_ID,error:l,finished:!1})}}function p(o){var l;(o=o||{}).chunkSize||(o.chunkSize=_.RemoteChunkSize),A.call(this,o),this._nextChunk=B?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(m){this._input=m,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(l=new XMLHttpRequest,this._config.withCredentials&&(l.withCredentials=this._config.withCredentials),B||(l.onload=ue(this._chunkLoaded,this),l.onerror=ue(this._chunkError,this)),l.open(this._config.downloadRequestBody?"POST":"GET",this._input,!B),this._config.downloadRequestHeaders){var m,v=this._config.downloadRequestHeaders;for(m in v)l.setRequestHeader(m,v[m])}var y;this._config.chunkSize&&(y=this._start+this._config.chunkSize-1,l.setRequestHeader("Range","bytes="+this._start+"-"+y));try{l.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}B&&l.status===0&&this._chunkError()}},this._chunkLoaded=function(){l.readyState===4&&(l.status<200||400<=l.status?this._chunkError():(this._start+=this._config.chunkSize||l.responseText.length,this._finished=!this._config.chunkSize||this._start>=(m=>(m=m.getResponseHeader("Content-Range"))!==null?parseInt(m.substring(m.lastIndexOf("/")+1)):-1)(l),this.parseChunk(l.responseText)))},this._chunkError=function(m){m=l.statusText||m,this._sendError(new Error(m))}}function H(o){(o=o||{}).chunkSize||(o.chunkSize=_.LocalChunkSize),A.call(this,o);var l,m,v=typeof FileReader<"u";this.stream=function(y){this._input=y,m=y.slice||y.webkitSlice||y.mozSlice,v?((l=new FileReader).onload=ue(this._chunkLoaded,this),l.onerror=ue(this._chunkError,this)):l=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var y=this._input,D=(this._config.chunkSize&&(D=Math.min(this._start+this._config.chunkSize,this._input.size),y=m.call(y,this._start,D)),l.readAsText(y,this._config.encoding));v||this._chunkLoaded({target:{result:D}})},this._chunkLoaded=function(y){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(y.target.result)},this._chunkError=function(){this._sendError(l.error)}}function R(o){var l;A.call(this,o=o||{}),this.stream=function(m){return l=m,this._nextChunk()},this._nextChunk=function(){var m,v;if(!this._finished)return m=this._config.chunkSize,l=m?(v=l.substring(0,m),l.substring(m)):(v=l,""),this._finished=!l,this.parseChunk(v)}}function ie(o){A.call(this,o=o||{});var l=[],m=!0,v=!1;this.pause=function(){A.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){A.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(y){this._input=y,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){v&&l.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),l.length?this.parseChunk(l.shift()):m=!0},this._streamData=ue(function(y){try{l.push(typeof y=="string"?y:y.toString(this._config.encoding)),m&&(m=!1,this._checkIsFinished(),this.parseChunk(l.shift()))}catch(D){this._streamError(D)}},this),this._streamError=ue(function(y){this._streamCleanUp(),this._sendError(y)},this),this._streamEnd=ue(function(){this._streamCleanUp(),v=!0,this._streamData("")},this),this._streamCleanUp=ue(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ee(o){var l,m,v,y,D=Math.pow(2,53),E=-D,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,k=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,V=this,te=0,O=0,le=!1,I=!1,U=[],M={data:[],errors:[],meta:{}};function T(L){return o.skipEmptyLines==="greedy"?L.join("").trim()==="":L.length===1&&L[0].length===0}function G(){if(M&&v&&(he("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+_.DefaultDelimiter+"'"),v=!1),o.skipEmptyLines&&(M.data=M.data.filter(function(e){return!T(e)})),Q()){let e=function(s,t){j(o.transformHeader)&&(s=o.transformHeader(s,t)),U.push(s)};if(M)if(Array.isArray(M.data[0])){for(var L=0;Q()&&L<M.data.length;L++)M.data[L].forEach(e);M.data.splice(0,1)}else M.data.forEach(e)}function q(e,s){for(var t=o.header?{}:[],r=0;r<e.length;r++){var a=r,i=e[r],i=((n,d)=>(g=>(o.dynamicTypingFunction&&o.dynamicTyping[g]===void 0&&(o.dynamicTyping[g]=o.dynamicTypingFunction(g)),(o.dynamicTyping[g]||o.dynamicTyping)===!0))(n)?d==="true"||d==="TRUE"||d!=="false"&&d!=="FALSE"&&((g=>{if(K.test(g)&&(g=parseFloat(g),E<g&&g<D))return 1})(d)?parseFloat(d):k.test(d)?new Date(d):d===""?null:d):d)(a=o.header?r>=U.length?"__parsed_extra":U[r]:a,i=o.transform?o.transform(i,a):i);a==="__parsed_extra"?(t[a]=t[a]||[],t[a].push(i)):t[a]=i}return o.header&&(r>U.length?he("FieldMismatch","TooManyFields","Too many fields: expected "+U.length+" fields but parsed "+r,O+s):r<U.length&&he("FieldMismatch","TooFewFields","Too few fields: expected "+U.length+" fields but parsed "+r,O+s)),t}var h;M&&(o.header||o.dynamicTyping||o.transform)&&(h=1,!M.data.length||Array.isArray(M.data[0])?(M.data=M.data.map(q),h=M.data.length):M.data=q(M.data,0),o.header&&M.meta&&(M.meta.fields=U),O+=h)}function Q(){return o.header&&U.length===0}function he(L,q,h,e){L={type:L,code:q,message:h},e!==void 0&&(L.row=e),M.errors.push(L)}j(o.step)&&(y=o.step,o.step=function(L){M=L,Q()?G():(G(),M.data.length!==0&&(te+=L.data.length,o.preview&&te>o.preview?m.abort():(M.data=M.data[0],y(M,V))))}),this.parse=function(L,q,h){var e=o.quoteChar||'"',e=(o.newline||(o.newline=this.guessLineEndings(L,e)),v=!1,o.delimiter?j(o.delimiter)&&(o.delimiter=o.delimiter(L),M.meta.delimiter=o.delimiter):((e=((s,t,r,a,i)=>{var n,d,g,w;i=i||[",","	","|",";",_.RECORD_SEP,_.UNIT_SEP];for(var $=0;$<i.length;$++){for(var S,Y=i[$],z=0,Z=0,W=0,ae=(g=void 0,new de({comments:a,delimiter:Y,newline:t,preview:10}).parse(s)),oe=0;oe<ae.data.length;oe++)r&&T(ae.data[oe])?W++:(S=ae.data[oe].length,Z+=S,g===void 0?g=S:0<S&&(z+=Math.abs(S-g),g=S));0<ae.data.length&&(Z/=ae.data.length-W),(d===void 0||z<=d)&&(w===void 0||w<Z)&&1.99<Z&&(d=z,n=Y,w=Z)}return{successful:!!(o.delimiter=n),bestDelimiter:n}})(L,o.newline,o.skipEmptyLines,o.comments,o.delimitersToGuess)).successful?o.delimiter=e.bestDelimiter:(v=!0,o.delimiter=_.DefaultDelimiter),M.meta.delimiter=o.delimiter),pe(o));return o.preview&&o.header&&e.preview++,l=L,m=new de(e),M=m.parse(l,q,h),G(),le?{meta:{paused:!0}}:M||{meta:{paused:!1}}},this.paused=function(){return le},this.pause=function(){le=!0,m.abort(),l=j(o.chunk)?"":l.substring(m.getCharIndex())},this.resume=function(){V.streamer._halted?(le=!1,V.streamer.parseChunk(l,!0)):setTimeout(V.resume,3)},this.aborted=function(){return I},this.abort=function(){I=!0,m.abort(),M.meta.aborted=!0,j(o.complete)&&o.complete(M),l=""},this.guessLineEndings=function(s,e){s=s.substring(0,1048576);var e=new RegExp(ne(e)+"([^]*?)"+ne(e),"gm"),h=(s=s.replace(e,"")).split("\r"),e=s.split(`
`),s=1<e.length&&e[0].length<h[0].length;if(h.length===1||s)return`
`;for(var t=0,r=0;r<h.length;r++)h[r][0]===`
`&&t++;return t>=h.length/2?`\r
`:"\r"}}function ne(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function de(o){var l=(o=o||{}).delimiter,m=o.newline,v=o.comments,y=o.step,D=o.preview,E=o.fastMode,K=null,k=!1,V=o.quoteChar==null?'"':o.quoteChar,te=V;if(o.escapeChar!==void 0&&(te=o.escapeChar),(typeof l!="string"||-1<_.BAD_DELIMITERS.indexOf(l))&&(l=","),v===l)throw new Error("Comment character same as delimiter");v===!0?v="#":(typeof v!="string"||-1<_.BAD_DELIMITERS.indexOf(v))&&(v=!1),m!==`
`&&m!=="\r"&&m!==`\r
`&&(m=`
`);var O=0,le=!1;this.parse=function(I,U,M){if(typeof I!="string")throw new Error("Input must be a string");var T=I.length,G=l.length,Q=m.length,he=v.length,L=j(y),q=[],h=[],e=[],s=O=0;if(!I)return z();if(E||E!==!1&&I.indexOf(V)===-1){for(var t=I.split(m),r=0;r<t.length;r++){if(e=t[r],O+=e.length,r!==t.length-1)O+=m.length;else if(M)return z();if(!v||e.substring(0,he)!==v){if(L){if(q=[],w(e.split(l)),Z(),le)return z()}else w(e.split(l));if(D&&D<=r)return q=q.slice(0,D),z(!0)}}return z()}for(var a=I.indexOf(l,O),i=I.indexOf(m,O),n=new RegExp(ne(te)+ne(V),"g"),d=I.indexOf(V,O);;)if(I[O]===V)for(d=O,O++;;){if((d=I.indexOf(V,d+1))===-1)return M||h.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:q.length,index:O}),S();if(d===T-1)return S(I.substring(O,d).replace(n,V));if(V===te&&I[d+1]===te)d++;else if(V===te||d===0||I[d-1]!==te){a!==-1&&a<d+1&&(a=I.indexOf(l,d+1));var g=$((i=i!==-1&&i<d+1?I.indexOf(m,d+1):i)===-1?a:Math.min(a,i));if(I.substr(d+1+g,G)===l){e.push(I.substring(O,d).replace(n,V)),I[O=d+1+g+G]!==V&&(d=I.indexOf(V,O)),a=I.indexOf(l,O),i=I.indexOf(m,O);break}if(g=$(i),I.substring(d+1+g,d+1+g+Q)===m){if(e.push(I.substring(O,d).replace(n,V)),Y(d+1+g+Q),a=I.indexOf(l,O),d=I.indexOf(V,O),L&&(Z(),le))return z();if(D&&q.length>=D)return z(!0);break}h.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:q.length,index:O}),d++}}else if(v&&e.length===0&&I.substring(O,O+he)===v){if(i===-1)return z();O=i+Q,i=I.indexOf(m,O),a=I.indexOf(l,O)}else if(a!==-1&&(a<i||i===-1))e.push(I.substring(O,a)),O=a+G,a=I.indexOf(l,O);else{if(i===-1)break;if(e.push(I.substring(O,i)),Y(i+Q),L&&(Z(),le))return z();if(D&&q.length>=D)return z(!0)}return S();function w(W){q.push(W),s=O}function $(W){var ae=0;return ae=W!==-1&&(W=I.substring(d+1,W))&&W.trim()===""?W.length:ae}function S(W){return M||(W===void 0&&(W=I.substring(O)),e.push(W),O=T,w(e),L&&Z()),z()}function Y(W){O=W,w(e),e=[],i=I.indexOf(m,O)}function z(W){if(o.header&&!U&&q.length&&!k){var ae=q[0],oe=Object.create(null),fe=new Set(ae);let _e=!1;for(let ye=0;ye<ae.length;ye++){let ce=ae[ye];if(oe[ce=j(o.transformHeader)?o.transformHeader(ce,ye):ce]){let De,ke=oe[ce];for(;De=ce+"_"+ke,ke++,fe.has(De););fe.add(De),ae[ye]=De,oe[ce]++,_e=!0,(K=K===null?{}:K)[De]=ce}else oe[ce]=1,ae[ye]=ce;fe.add(ce)}_e&&console.warn("Duplicate headers found and renamed."),k=!0}return{data:q,errors:h,meta:{delimiter:l,linebreak:m,aborted:le,truncated:!!W,cursor:s+(U||0),renamedHeaders:K}}}function Z(){y(z()),q=[],h=[]}},this.abort=function(){le=!0},this.getCharIndex=function(){return O}}function me(o){var l=o.data,m=P[l.workerId],v=!1;if(l.error)m.userError(l.error,l.file);else if(l.results&&l.results.data){var y={abort:function(){v=!0,re(l.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ge,resume:ge};if(j(m.userStep)){for(var D=0;D<l.results.data.length&&(m.userStep({data:l.results.data[D],errors:l.results.errors,meta:l.results.meta},y),!v);D++);delete l.results}else j(m.userChunk)&&(m.userChunk(l.results,y,l.file),delete l.results)}l.finished&&!v&&re(l.workerId,l.results)}function re(o,l){var m=P[o];j(m.userComplete)&&m.userComplete(l),m.terminate(),delete P[o]}function ge(){throw new Error("Not implemented.")}function pe(o){if(typeof o!="object"||o===null)return o;var l,m=Array.isArray(o)?[]:{};for(l in o)m[l]=pe(o[l]);return m}function ue(o,l){return function(){o.apply(l,arguments)}}function j(o){return typeof o=="function"}return _.parse=function(o,l){var m=(l=l||{}).dynamicTyping||!1;if(j(m)&&(l.dynamicTypingFunction=m,m={}),l.dynamicTyping=m,l.transform=!!j(l.transform)&&l.transform,!l.worker||!_.WORKERS_SUPPORTED)return m=null,_.NODE_STREAM_INPUT,typeof o=="string"?(o=(v=>v.charCodeAt(0)!==65279?v:v.slice(1))(o),m=new(l.download?p:R)(l)):o.readable===!0&&j(o.read)&&j(o.on)?m=new ie(l):(c.File&&o instanceof File||o instanceof Object)&&(m=new H(l)),m.stream(o);(m=(()=>{var v;return!!_.WORKERS_SUPPORTED&&(v=(()=>{var y=c.URL||c.webkitURL||null,D=x.toString();return _.BLOB_URL||(_.BLOB_URL=y.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))})(),(v=new c.Worker(v)).onmessage=me,v.id=C++,P[v.id]=v)})()).userStep=l.step,m.userChunk=l.chunk,m.userComplete=l.complete,m.userError=l.error,l.step=j(l.step),l.chunk=j(l.chunk),l.complete=j(l.complete),l.error=j(l.error),delete l.worker,m.postMessage({input:o,config:l,workerId:m.id})},_.unparse=function(o,l){var m=!1,v=!0,y=",",D=`\r
`,E='"',K=E+E,k=!1,V=null,te=!1,O=((()=>{if(typeof l=="object"){if(typeof l.delimiter!="string"||_.BAD_DELIMITERS.filter(function(U){return l.delimiter.indexOf(U)!==-1}).length||(y=l.delimiter),typeof l.quotes!="boolean"&&typeof l.quotes!="function"&&!Array.isArray(l.quotes)||(m=l.quotes),typeof l.skipEmptyLines!="boolean"&&typeof l.skipEmptyLines!="string"||(k=l.skipEmptyLines),typeof l.newline=="string"&&(D=l.newline),typeof l.quoteChar=="string"&&(E=l.quoteChar),typeof l.header=="boolean"&&(v=l.header),Array.isArray(l.columns)){if(l.columns.length===0)throw new Error("Option columns is empty");V=l.columns}l.escapeChar!==void 0&&(K=l.escapeChar+E),l.escapeFormulae instanceof RegExp?te=l.escapeFormulae:typeof l.escapeFormulae=="boolean"&&l.escapeFormulae&&(te=/^[=+\-@\t\r].*$/)}})(),new RegExp(ne(E),"g"));if(typeof o=="string"&&(o=JSON.parse(o)),Array.isArray(o)){if(!o.length||Array.isArray(o[0]))return le(null,o,k);if(typeof o[0]=="object")return le(V||Object.keys(o[0]),o,k)}else if(typeof o=="object")return typeof o.data=="string"&&(o.data=JSON.parse(o.data)),Array.isArray(o.data)&&(o.fields||(o.fields=o.meta&&o.meta.fields||V),o.fields||(o.fields=Array.isArray(o.data[0])?o.fields:typeof o.data[0]=="object"?Object.keys(o.data[0]):[]),Array.isArray(o.data[0])||typeof o.data[0]=="object"||(o.data=[o.data])),le(o.fields||[],o.data||[],k);throw new Error("Unable to serialize unrecognized input");function le(U,M,T){var G="",Q=(typeof U=="string"&&(U=JSON.parse(U)),typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(U)&&0<U.length),he=!Array.isArray(M[0]);if(Q&&v){for(var L=0;L<U.length;L++)0<L&&(G+=y),G+=I(U[L],L);0<M.length&&(G+=D)}for(var q=0;q<M.length;q++){var h=(Q?U:M[q]).length,e=!1,s=Q?Object.keys(M[q]).length===0:M[q].length===0;if(T&&!Q&&(e=T==="greedy"?M[q].join("").trim()==="":M[q].length===1&&M[q][0].length===0),T==="greedy"&&Q){for(var t=[],r=0;r<h;r++){var a=he?U[r]:r;t.push(M[q][a])}e=t.join("").trim()===""}if(!e){for(var i=0;i<h;i++){0<i&&!s&&(G+=y);var n=Q&&he?U[i]:i;G+=I(M[q][n],i)}q<M.length-1&&(!T||0<h&&!s)&&(G+=D)}}return G}function I(U,M){var T,G;return U==null?"":U.constructor===Date?JSON.stringify(U).slice(1,25):(G=!1,te&&typeof U=="string"&&te.test(U)&&(U="'"+U,G=!0),T=U.toString().replace(O,K),(G=G||m===!0||typeof m=="function"&&m(U,M)||Array.isArray(m)&&m[M]||((Q,he)=>{for(var L=0;L<he.length;L++)if(-1<Q.indexOf(he[L]))return!0;return!1})(T,_.BAD_DELIMITERS)||-1<T.indexOf(y)||T.charAt(0)===" "||T.charAt(T.length-1)===" ")?E+T+E:T)}},_.RECORD_SEP="",_.UNIT_SEP="",_.BYTE_ORDER_MARK="\uFEFF",_.BAD_DELIMITERS=["\r",`
`,'"',_.BYTE_ORDER_MARK],_.WORKERS_SUPPORTED=!B&&!!c.Worker,_.NODE_STREAM_INPUT=1,_.LocalChunkSize=10485760,_.RemoteChunkSize=5242880,_.DefaultDelimiter=",",_.Parser=de,_.ParserHandle=ee,_.NetworkStreamer=p,_.FileStreamer=H,_.StringStreamer=R,_.ReadableStreamStreamer=ie,c.jQuery&&((u=c.jQuery).fn.parse=function(o){var l=o.config||{},m=[];return this.each(function(D){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&c.FileReader)||!this.files||this.files.length===0)return!0;for(var E=0;E<this.files.length;E++)m.push({file:this.files[E],inputElem:this,instanceConfig:u.extend({},l)})}),v(),this;function v(){if(m.length===0)j(o.complete)&&o.complete();else{var D,E,K,k,V=m[0];if(j(o.before)){var te=o.before(V.file,V.inputElem);if(typeof te=="object"){if(te.action==="abort")return D="AbortError",E=V.file,K=V.inputElem,k=te.reason,void(j(o.error)&&o.error({name:D},E,K,k));if(te.action==="skip")return void y();typeof te.config=="object"&&(V.instanceConfig=u.extend(V.instanceConfig,te.config))}else if(te==="skip")return void y()}var O=V.instanceConfig.complete;V.instanceConfig.complete=function(le){j(O)&&O(le,V.file,V.inputElem),y()},_.parse(V.file,V.instanceConfig)}}function y(){m.splice(0,1),v()}}),b&&(c.onmessage=function(o){o=o.data,_.WORKER_ID===void 0&&o&&(_.WORKER_ID=o.workerId),typeof o.input=="string"?c.postMessage({workerId:_.WORKER_ID,results:_.parse(o.input,o.config),finished:!0}):(c.File&&o.input instanceof File||o.input instanceof Object)&&(o=_.parse(o.input,o.config))&&c.postMessage({workerId:_.WORKER_ID,results:o,finished:!0})}),(p.prototype=Object.create(A.prototype)).constructor=p,(H.prototype=Object.create(A.prototype)).constructor=H,(R.prototype=Object.create(R.prototype)).constructor=R,(ie.prototype=Object.create(A.prototype)).constructor=ie,_})})($e)),$e.exports}var ot=lt();const ht=Ie(ot);function J(N,f){if(!f)return"";const x=N[0],c=N[1];if(Array.isArray(f)){const u=f.map(b=>b.value),B=[];return f.length?(u.forEach(b=>{B.push(`${x}${b}${c}`)}),`AND (${B.join(" OR ")})`):""}return`AND ${x}${f.value!==void 0?f.value:f}${c}`}function se(N){return Array.isArray(N)&&N.length>0}const je=[7119388,2586976,6209166,8254400,7391077,7732977,8260983,8291895,8599101,350190,39,7390454,8131728,8605863,8721219,6209804,8597976,2163,1838315,15],dt=N=>{const{select:f,group:x,minPatch:c,maxPatch:u,hero:B,player:b,league:P,playerPurchased:C,minDuration:_,maxDuration:A,side:p,result:H,team:R,organization:ie,laneRole:ee,region:ne,minDate:de,maxDate:me,order:re,tier:ge,having:pe,limit:ue,isTiTeam:j,megaWin:o,minGoldAdvantage:l,maxGoldAdvantage:m}=N;let v,y=[],D=[];if(Array.isArray(x)?y=x:y.push(x),Array.isArray(f)?D=f:D.push(f),D=D.filter(E=>E!==void 0),y=y.filter(E=>E!==void 0),y.forEach(E=>{E.json_each&&D.push(E)}),y=y.filter(E=>!E.json_each),D.forEach((E,K)=>{if(E&&E.groupValue){const k={value:E.groupKey,groupKeySelect:E.groupKeySelect,alias:E.alias,key:`key${K.toString()}`};if(E.groupKey==="key"){const V=E;k.value=`key${K.toString()}.key`,V.value=`key${K.toString()}.key`,V.join=`${E.join} key${K.toString()}`,V.groupValue=`key${K.toString()}.${E.groupValue}`}y.push(k)}}),se(D)&&D.some(E=>E.template==="picks_bans"))v=`SELECT
hero_id, 
count(1) total,
sum(is_pick::int) picks, 
sum((NOT is_pick)::int) bans,
sum((is_pick IS TRUE AND ord < 8)::int) first_pick, 
sum((is_pick IS FALSE AND ord < 8)::int) first_ban,
sum((is_pick IS TRUE AND ord >= 8 AND ord < 16)::int) second_pick, 
sum((is_pick IS FALSE AND ord >= 8 AND ord < 16)::int) second_ban,
sum((is_pick IS TRUE AND ord >= 16)::int) third_pick, 
sum((is_pick IS FALSE AND ord >= 16)::int) third_ban,
sum((radiant = radiant_win)::int)::float/count(1) winrate,
sum((radiant = radiant_win AND is_pick IS TRUE)::int)::float/NULLIF(sum(is_pick::int), 0) pick_winrate,
sum((radiant = radiant_win AND is_pick IS FALSE)::int)::float/NULLIF(sum((NOT is_pick)::int), 0) ban_winrate
FROM picks_bans
JOIN matches using(match_id)
JOIN match_patch using(match_id)
JOIN leagues using(leagueid)
JOIN team_match using(match_id)
JOIN teams using(team_id)
WHERE TRUE
${se(D)&&D.find(E=>E.where)!==void 0?D.find(E=>E.where).where:""}
${J`team_id = ${ie}`}
${J`match_patch.patch >= '${c}'`}
${J`match_patch.patch <= '${u}'`}
${J`matches.leagueid = ${P}`}
${J`matches.duration >= ${_}`}
${J`matches.duration <= ${A}`}
${J`team_match.radiant = ${p}`}
${J`(team_match.radiant = matches.radiant_win) = ${H}`}
${J`matches.cluster IN (${ne})`}
${de?.[0]?J`matches.start_time >= extract(epoch from timestamp '${de[0]}')`:""}
${me?.[0]?J`matches.start_time <= extract(epoch from timestamp '${me[0]}')`:""}
${J`leagues.tier = '${ge}'`}
${j?.[0]?`AND teams.team_id IN (${je.join(",")})`:""}
${o?.[0]?"AND ((matches.barracks_status_radiant = 0 AND matches.radiant_win) OR (matches.barracks_status_dire = 0 AND NOT matches.radiant_win))":""}
${m?.[0]?`AND @ matches.radiant_gold_adv[array_upper(matches.radiant_gold_adv, 1)] <= ${m[0].value}`:""}
${l?.[0]?`AND @ matches.radiant_gold_adv[array_upper(matches.radiant_gold_adv, 1)] >= ${l[0].value}`:""}
GROUP BY hero_id
ORDER BY total ${re?.[0]?.value??"DESC"}`;else{const E={},K={};se(y)&&y.forEach(k=>{K[k.key]=`${k.value}${k.bucket?` / ${k.bucket} * ${k.bucket}`:""}`}),se(D)&&D.forEach(k=>{E[k.key]=k.groupValue||k&&k.value||1}),v=`SELECT
    ${se(D)?D.map(k=>k.distinct&&!se(y)?`DISTINCT ON (${k.value})`:"").join(""):""}    ${se(y)?y.map(k=>[`${k.groupKeySelect||K[k.key]} ${k.alias||""},`].filter(Boolean).join(`,
`)).join(""):""}
${se(y)&&se(D)&&D.map(k=>[k&&k.countValue||"",k&&k.avgPerMatch?`sum(${E[k.key]})::numeric/count(distinct matches.match_id) "AVG ${k.text}"`:`${k&&k.avg?k.avg:`avg(${E[k.key]})`} "AVG ${k.text}"`,"count(distinct matches.match_id) count","sum(case when (player_matches.player_slot < 128) = radiant_win then 1 else 0 end)::float/count(1) winrate",`((sum(case when (player_matches.player_slot < 128) = radiant_win then 1 else 0 end)::float/count(1)) 
+ 1.96 * 1.96 / (2 * count(1)) 
- 1.96 * sqrt((((sum(case when (player_matches.player_slot < 128) = radiant_win then 1 else 0 end)::float/count(1)) * (1 - (sum(case when (player_matches.player_slot < 128) = radiant_win then 1 else 0 end)::float/count(1))) + 1.96 * 1.96 / (4 * count(1))) / count(1))))
/ (1 + 1.96 * 1.96 / count(1)) winrate_wilson`,`sum(${E[k.key]}) sum`,`min(${E[k.key]}) min`,`max(${E[k.key]}) max`,`stddev(${E[k.key]}::numeric) stddev
  `].filter(Boolean).join(`,
`))||""}
${se(y)?"":[se(D)?D.map(k=>`${k.value} ${k.alias||""}`):"","matches.match_id","matches.start_time","((player_matches.player_slot < 128) = matches.radiant_win) win","player_matches.hero_id","player_matches.account_id","leagues.name leaguename"].filter(Boolean).join(`,
`)}
FROM matches
JOIN match_patch using(match_id)
JOIN leagues using(leagueid)
JOIN player_matches using(match_id)
JOIN heroes on heroes.id = player_matches.hero_id
LEFT JOIN notable_players ON notable_players.account_id = player_matches.account_id
LEFT JOIN teams using(team_id)
${ie||y!==null&&y.length>0&&y[0]&&y.some(k=>k.key==="organization")?"JOIN team_match ON matches.match_id = team_match.match_id AND (player_matches.player_slot < 128) = team_match.radiant JOIN teams teams2 ON team_match.team_id = teams2.team_id":""}
${se(D)?D.map(k=>k.joinFn?k.joinFn(N):"").join(""):""}
${se(D)?D.map(k=>k.join?k.join:"").join(""):""}
WHERE TRUE
${se(D)?D.map(k=>`AND ${k.value} IS NOT NULL `).join(""):""}
${J`match_patch.patch >= '${c}'`}
${J`match_patch.patch <= '${u}'`}
${J`player_matches.hero_id = ${B}`}
${J`player_matches.account_id = ${b}`}
${J`matches.leagueid = ${P}`}
${J`(player_matches.purchase->>'${C}')::int > 0`}
${J`matches.duration >= ${_}`}
${J`matches.duration <= ${A}`}
${J`(player_matches.player_slot < 128) = ${p}`}
${J`((player_matches.player_slot < 128) = matches.radiant_win) = ${H}`}
${J`notable_players.team_id = ${R}`}
${J`team_match.team_id = ${ie} AND (player_matches.player_slot < 128) = team_match.radiant`}
${J`player_matches.lane_role = ${ee}`}
${J`matches.cluster IN (${ne})`}
${de?.[0]?J`matches.start_time >= extract(epoch from timestamp '${de[0]}')`:""}
${me?.[0]?J`matches.start_time <= extract(epoch from timestamp '${me[0]}')`:""}
${J`leagues.tier = '${ge}'`}
${j?.[0]?`AND teams.team_id IN (${je.join(",")})`:""}
${o?.[0]?"AND ((matches.barracks_status_radiant = 0 AND matches.radiant_win) OR (matches.barracks_status_dire = 0 AND NOT matches.radiant_win))":""}
${m?.[0]?`AND @ matches.radiant_gold_adv[array_upper(matches.radiant_gold_adv, 1)] <= ${m[0].value}`:""}
${l?.[0]?`AND @ matches.radiant_gold_adv[array_upper(matches.radiant_gold_adv, 1)] >= ${l[0].value}`:""}
${se(y)?"GROUP BY":""}${se(y)&&y.map(k=>` ${K[k.key]}`)||""}
${se(y)?`HAVING count(distinct matches.match_id) >= ${pe?.[0].value??"1"}`:""}
ORDER BY ${[`${se(y)&&se(D)&&D.map(k=>`"AVG ${k.text}" ${re?.[0]?.value??"DESC"}`)||se(D)&&D.map(k=>`${k.value} ${re?.[0]?.value??"DESC"}`).join(",")||"matches.match_id DESC"}`,se(y)?"count DESC":""].filter(Boolean).join(",")} NULLS LAST
LIMIT ${ue?.[0]?.value??200}`}return v.replace(/\n{2,}/g,`
`)},Me=({defaultSelected:N,label:f,format:x,href:c,download:u,onClick:B,context:b})=>{let P;return B?P=B:x?P=()=>{b.setState({...b.state,builder:{...b.state.builder,format:x}},b.syncWindowHistory)}:P=C=>C,F.createElement(Ae,{style:{margin:"5px"},href:c??"",download:u,onClick:P},f)},ut=({showToggle:N,showEditor:f,toggleEditor:x,children:c})=>{const u=Ke();return F.createElement("div",null,F.createElement("div",{style:{width:"180px",margin:"10px"}},F.createElement("div",null),N&&F.createElement(We,{control:F.createElement(Je,{defaultChecked:f,onChange:x}),label:u.explorer_toggle_sql})),F.createElement("div",{style:{display:f?"none":"flex",flexDirection:"row",flexWrap:"wrap",gap:"8px"}},c),F.createElement("div",{style:{display:f?"block":"none"}},F.createElement("div",{id:"editor",style:{height:100,width:"100%"}})))};var Se={exports:{}},ct=Se.exports,He;function pt(){return He||(He=1,(function(N,f){(function(x,c){N.exports=c()})(ct,(function(){return(function(){var x={d:function(h,e){for(var s in e)x.o(e,s)&&!x.o(h,s)&&Object.defineProperty(h,s,{enumerable:!0,get:e[s]})},o:function(h,e){return Object.prototype.hasOwnProperty.call(h,e)}},c={};x.d(c,{default:function(){return L}});var u={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},B={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:u.days,minView:u.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,fixedHeight:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function b(h){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof h=="string"?e.querySelector(h):h}function P(){let{tagName:h="div",className:e="",innerHtml:s="",id:t="",attrs:r={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=document.createElement(h);return e&&a.classList.add(...e.split(" ")),t&&(a.id=t),s&&(a.innerHTML=s),r&&C(a,r),a}function C(h,e){for(let[s,t]of Object.entries(e))t!==void 0&&h.setAttribute(s,t);return h}function _(h){return new Date(h.getFullYear(),h.getMonth()+1,0).getDate()}function A(h){let e=h.getHours(),{hours:s,dayPeriod:t}=p(e);return{year:h.getFullYear(),month:h.getMonth(),fullMonth:h.getMonth()+1<10?"0"+(h.getMonth()+1):h.getMonth()+1,date:h.getDate(),fullDate:h.getDate()<10?"0"+h.getDate():h.getDate(),day:h.getDay(),hours:e,fullHours:H(e),hours12:s,dayPeriod:t,fullHours12:H(s),minutes:h.getMinutes(),fullMinutes:h.getMinutes()<10?"0"+h.getMinutes():h.getMinutes()}}function p(h){return{dayPeriod:h>11?"pm":"am",hours:h%12==0?12:h%12}}function H(h){return h<10?"0"+h:h}function R(h){let e=10*Math.floor(h.getFullYear()/10);return[e,e+9]}function ie(){let h=[];for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.forEach((r=>{if(typeof r=="object")for(let a in r)r[a]&&h.push(a);else r&&h.push(r)})),h.join(" ")}function ee(h,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.days;if(!h||!e)return!1;let t=A(h),r=A(e);return{[u.days]:t.date===r.date&&t.month===r.month&&t.year===r.year,[u.months]:t.month===r.month&&t.year===r.year,[u.years]:t.year===r.year}[s]}function ne(h,e,s){let t=me(h,!1).getTime(),r=me(e,!1).getTime();return s?t>=r:t>r}function de(h,e){return!ne(h,e,!0)}function me(h){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=new Date(h.getTime());return typeof e!="boolean"||e||(function(t){t.setHours(0,0,0,0)})(s),s}function re(h,e,s){h.length?h.forEach((t=>{t.addEventListener(e,s)})):h.addEventListener(e,s)}function ge(h,e){return!(!h||h===document||h instanceof DocumentFragment)&&(h.matches(e)?h:ge(h.parentNode,e))}function pe(h,e,s){return h>s?s:h<e?e:h}function ue(h){for(var e=arguments.length,s=new Array(e>1?e-1:0),t=1;t<e;t++)s[t-1]=arguments[t];return s.filter((r=>r)).forEach((r=>{for(let[a,i]of Object.entries(r))if(i!==void 0&&i.toString()==="[object Object]"){let n=h[a]!==void 0?h[a].toString():void 0,d=i.toString(),g=Array.isArray(i)?[]:{};h[a]=h[a]?n!==d?g:h[a]:g,ue(h[a],i)}else h[a]=i})),h}function j(h){let e=h;return h instanceof Date||(typeof h=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(h)&&(h+="T00:00:00"),e=new Date(h)),isNaN(e.getTime())&&(console.log(`Unable to convert value "${h}" to Date object`),e=!1),e}function o(h){let e="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+e+")("+h+")($|<|"+e+")","g")}function l(h,e,s){return(e=(function(t){var r=(function(a,i){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var d=n.call(a,"string");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t);return typeof r=="symbol"?r:String(r)})(e))in h?Object.defineProperty(h,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):h[e]=s,h}class m{constructor(){let{type:e,date:s,dp:t,opts:r,body:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};l(this,"focus",(()=>{this.$cell.classList.add("-focus-"),this.focused=!0})),l(this,"removeFocus",(()=>{this.$cell.classList.remove("-focus-"),this.focused=!1})),l(this,"select",(()=>{this.$cell.classList.add("-selected-"),this.selected=!0})),l(this,"removeSelect",(()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1})),l(this,"onChangeSelectedDate",(()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())})),l(this,"onChangeFocusDate",(i=>{if(!i)return void(this.focused&&this.removeFocus());let n=ee(i,this.date,this.type);n?this.focus():!n&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()})),l(this,"render",(()=>(this.$cell.innerHTML=this._getHtml(),this._handleClasses(),this.$cell))),this.type=e,this.singleType=this.type.slice(0,-1),this.date=s,this.dp=t,this.opts=r,this.body=a,this.customData=!1,this.init()}init(){var e,s;let{onRenderCell:t}=this.opts;t&&(this.customData=t({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),(e=this.customData)!==null&&e!==void 0&&e.disabled?this.dp.disableDate(this.date):((s=this.customData)===null||s===void 0?void 0:s.disabled)===!1&&this.dp.enableDate(this.date)}_bindDatepickerEvents(){this.dp.on(u.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(u.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(u.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(u.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var e;let{year:s,month:t,fullMonth:r,date:a,fullDate:i}=A(this.date),n=((e=this.customData)===null||e===void 0?void 0:e.attrs)||{};this.$cell=P({attrs:{"data-year":s,"data-month":t,"data-date":a,"data-iso-date":`${s}-${r}-${i}`,...n}}),this.$cell.adpCell=this}_getClassName(){var e;let s=new Date,{selectOtherMonths:t,selectOtherYears:r}=this.opts,{minDate:a,maxDate:i,isDateDisabled:n}=this.dp,{day:d}=A(this.date),g=this._isOutOfMinMaxRange(),w=n(this.date),$=ie("air-datepicker-cell",`-${this.singleType}-`,{"-current-":ee(s,this.date,this.type),"-min-date-":a&&ee(a,this.date,this.type),"-max-date-":i&&ee(i,this.date,this.type)}),S="";switch(this.type){case u.days:S=ie({"-weekend-":this.dp.isWeekend(d),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!t||g||w});break;case u.months:S=ie({"-disabled-":g});break;case u.years:S=ie({"-other-decade-":this.isOtherDecade,"-disabled-":g||this.isOtherDecade&&!r})}return ie($,S,(e=this.customData)===null||e===void 0?void 0:e.classes).split(" ")}_getHtml(){var e;let{year:s,month:t,date:r}=A(this.date),{showOtherMonths:a,showOtherYears:i}=this.opts;if((e=this.customData)!==null&&e!==void 0&&e.html)return this.customData.html;switch(this.type){case u.days:return!a&&this.isOtherMonth?"":r;case u.months:return this.dp.locale[this.opts.monthsField][t];case u.years:return!i&&this.isOtherDecade?"":s}}_isOutOfMinMaxRange(){let{minDate:e,maxDate:s}=this.dp,{type:t,date:r}=this,{month:a,year:i,date:n}=A(r),d=t===u.days,g=t===u.years,w=!!e&&new Date(i,g?e.getMonth():a,d?n:e.getDate()),$=!!s&&new Date(i,g?s.getMonth():a,d?n:s.getDate());return e&&s?de(w,e)||ne($,s):e?de(w,e):s?ne($,s):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){const{selectedDates:e,focusDate:s,rangeDateTo:t,rangeDateFrom:r}=this.dp,a=e.length;if(this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),!a)return;let i=r,n=t;if(a===1&&s){const S=ne(s,e[0]);i=S?e[0]:s,n=S?s:e[0]}let d=ie({"-in-range-":i&&n&&(g=this.date,w=i,$=n,ne(g,w)&&de(g,$)),"-range-from-":i&&ee(this.date,i,this.type),"-range-to-":n&&ee(this.date,n,this.type)});var g,w,$;d&&this.$cell.classList.add(...d.split(" "))}_handleSelectedStatus(){let e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){ee(this.dp.focusDate,this.date,this.type)&&this.focus()}_handleClasses(){this.$cell.setAttribute("class",""),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),this.dp.opts.range&&this._handleRangeStatus()),this.$cell.classList.add(...this._getClassName())}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function v(h,e,s){return(e=(function(t){var r=(function(a,i){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var d=n.call(a,"string");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t);return typeof r=="symbol"?r:String(r)})(e))in h?Object.defineProperty(h,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):h[e]=s,h}let y={[u.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${u.days}-"></div>`,[u.months]:`<div class="air-datepicker-body--cells -${u.months}-"></div>`,[u.years]:`<div class="air-datepicker-body--cells -${u.years}-"></div>`};const D=".air-datepicker-cell";class E{constructor(e){let{dp:s,type:t,opts:r}=e;v(this,"handleClick",(a=>{let i=a.target.closest(D).adpCell;if(i.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let n=this.dp._checkIfDateIsSelected(i.date,i.type);n?this.dp._handleAlreadySelectedDates(n,i.date):this.dp.selectDate(i.date)})),v(this,"handleDayNameClick",(a=>{let i=a.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(i),datepicker:this.dp})})),v(this,"onChangeCurrentView",(a=>{a!==this.type?this.hide():(this.show(),this.render())})),v(this,"onMouseOverCell",(a=>{let i=ge(a.target,D);this.dp.setFocusDate(!!i&&i.adpCell.date)})),v(this,"onMouseOutCell",(()=>{this.dp.setFocusDate(!1)})),v(this,"onClickBody",(a=>{let{onClickDayName:i}=this.opts,n=a.target;n.closest(D)&&this.handleClick(a),i&&n.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(a)})),v(this,"onMouseDown",(a=>{this.pressed=!0;let i=ge(a.target,D),n=i&&i.adpCell;ee(n.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),ee(n.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)})),v(this,"onMouseMove",(a=>{if(!this.pressed||!this.dp.isMinViewReached)return;a.preventDefault();let i=ge(a.target,D),n=i&&i.adpCell,{selectedDates:d,rangeDateTo:g,rangeDateFrom:w}=this.dp;if(!n||n.isDisabled)return;let{date:$}=n;if(d.length===2){if(this.rangeFromFocused&&!ne($,g)){let{hours:S,minutes:Y}=A(w);$.setHours(S),$.setMinutes(Y),this.dp.rangeDateFrom=$,this.dp.replaceDate(w,$)}if(this.rangeToFocused&&!de($,w)){let{hours:S,minutes:Y}=A(g);$.setHours(S),$.setMinutes(Y),this.dp.rangeDateTo=$,this.dp.replaceDate(g,$)}}})),v(this,"onMouseUp",(()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1})),v(this,"onChangeViewDate",((a,i)=>{if(!this.isVisible)return;let n=R(a),d=R(i);switch(this.dp.currentView){case u.days:if(ee(a,i,u.months))return;break;case u.months:if(ee(a,i,u.years))return;break;case u.years:if(n[0]===d[0]&&n[1]===d[1])return}this.render()})),v(this,"render",(()=>{this.destroyCells(),this._generateCells(),this.cells.forEach((a=>{this.$cells.appendChild(a.render())}))})),this.dp=s,this.type=t,this.opts=r,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===u.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:e,dynamicRange:s}=this.opts;re(this.$el,"mouseover",this.onMouseOverCell),re(this.$el,"mouseout",this.onMouseOutCell),re(this.$el,"click",this.onClickBody),e&&s&&(re(this.$el,"mousedown",this.onMouseDown),re(this.$el,"mousemove",this.onMouseMove),re(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(u.eventChangeViewDate,this.onChangeViewDate),this.dp.on(u.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=P({className:`air-datepicker-body -${this.type}-`,innerHtml:y[this.type]}),this.$names=b(".air-datepicker-body--day-names",this.$el),this.$cells=b(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,s="",t=this.dp.isWeekend,{onClickDayName:r}=this.opts,a=e,i=0;for(;i<7;){let n=a%7;s+=`<div class="${ie("air-datepicker-body--day-name",{[u.cssClassWeekend]:t(n),"-clickable-":!!r})}" data-day-index='${n}'>${this.dp.locale.daysMin[n]}</div>`,i++,a++}return s}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(e){let{type:s,dp:t,opts:r}=this;return new m({type:s,dp:t,opts:r,date:e,body:this})}_generateCells(){E.getDatesFunction(this.type)(this.dp,(e=>{this.cells.push(this._generateCell(e))}))}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach((e=>e.destroy())),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(u.eventChangeViewDate,this.onChangeViewDate),this.dp.off(u.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(e,s){let{viewDate:t,opts:{fixedHeight:r},locale:{firstDay:a}}=e,i=_(t),{year:n,month:d}=A(t),g=new Date(n,d,1),w=new Date(n,d,i),$=g.getDay()-a,S=6-w.getDay()+a;$=$<0?$+7:$,S=S>6?S-7:S;let Y=(function(_e,ye){let{year:ce,month:De,date:ke}=A(_e);return new Date(ce,De,ke-ye)})(g,$),z=i+$+S,Z=Y.getDate(),{year:W,month:ae}=A(Y),oe=0;r&&(z=42);const fe=[];for(;oe<z;){let _e=new Date(W,ae,Z+oe);s&&s(_e),fe.push(_e),oe++}return fe}static getMonthsDates(e,s){let{year:t}=e.parsedViewDate,r=0,a=[];for(;r<12;){const i=new Date(t,r);a.push(i),s&&s(i),r++}return a}static getYearsDates(e,s){let t=R(e.viewDate),r=t[0]-1,a=t[1]+1,i=r,n=[];for(;i<=a;){const d=new Date(i,0);n.push(d),s&&s(d),i++}return n}static getDatesFunction(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.days;return{[u.days]:E.getDaysDates,[u.months]:E.getMonthsDates,[u.years]:E.getYearsDates}[e]}}function K(h,e,s){return(e=(function(t){var r=(function(a,i){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var d=n.call(a,"string");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t);return typeof r=="symbol"?r:String(r)})(e))in h?Object.defineProperty(h,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):h[e]=s,h}class k{constructor(e){let{dp:s,opts:t}=e;K(this,"onClickNav",(r=>{let a=ge(r.target,".air-datepicker-nav--action");if(!a)return;let i=a.dataset.action;this.dp[i]()})),K(this,"onChangeViewDate",(()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()})),K(this,"onChangeCurrentView",(()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()})),K(this,"onClickNavTitle",(()=>{this.dp.isFinalView||this.dp.up()})),K(this,"update",(()=>{let{prevHtml:r,nextHtml:a}=this.opts;this.$prev.innerHTML=r,this.$next.innerHTML=a,this._resetNavStatus(),this.render(),this.handleNavStatus()})),K(this,"renderDelay",(()=>{setTimeout(this.render)})),K(this,"render",(()=>{this.$title.innerHTML=this._getTitle(),(function(r,a){for(let i in a)a[i]?r.classList.add(i):r.classList.remove(i)})(this.$title,{"-disabled-":this.dp.isFinalView})})),this.dp=s,this.opts=t,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=b(".air-datepicker-nav--title",this.$el),this.$prev=b('[data-action="prev"]',this.$el),this.$next=b('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(u.eventChangeViewDate,this.onChangeViewDate),this.dp.on(u.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(u.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(u.eventChangeTime,this.render))}destroy(){this.dp.off(u.eventChangeViewDate,this.onChangeViewDate),this.dp.off(u.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(u.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(u.eventChangeTime,this.render))}_createElement(){this.$el=P({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:e,opts:s}=this,t=s.navTitles[e.currentView];return typeof t=="function"?t(e):e.formatDate(e.viewDate,t)}handleNavStatus(){let{disableNavWhenOutOfRange:e}=this.opts,{minDate:s,maxDate:t}=this.dp;if(!s&&!t||!e)return;let{year:r,month:a}=this.dp.parsedViewDate,i=!!s&&A(s),n=!!t&&A(t);switch(this.dp.currentView){case u.days:s&&i.month>=a&&i.year>=r&&this._disableNav("prev"),t&&n.month<=a&&n.year<=r&&this._disableNav("next");break;case u.months:s&&i.year>=r&&this._disableNav("prev"),t&&n.year<=r&&this._disableNav("next");break;case u.years:{let d=R(this.dp.viewDate);s&&i.year>=d[0]&&this._disableNav("prev"),t&&n.year<=d[1]&&this._disableNav("next");break}}}_disableNav(e){b('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(e){for(var s=arguments.length,t=new Array(s>1?s-1:0),r=1;r<s;r++)t[r-1]=arguments[r];e.length?e.forEach((a=>{a.classList.remove(...t)})):e.classList.remove(...t)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:e,nextHtml:s}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${e}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${s}</div>`}get isNavIsFunction(){let{navTitles:e}=this.opts;return Object.keys(e).find((s=>typeof e[s]=="function"))}}var V={today:{content:h=>h.locale.today,onClick:h=>h.setViewDate(new Date)},clear:{content:h=>h.locale.clear,onClick:h=>h.clear()}};class te{constructor(e){let{dp:s,opts:t}=e;this.dp=s,this.opts=t,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=P({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:e}=this.opts;Array.isArray(e)||(e=[e]),e.forEach((s=>{let t=s;typeof s=="string"&&V[s]&&(t=V[s]);let r=this.createButton(t);t.onClick&&this.attachEventToButton(r,t.onClick),this.$el.appendChild(r)}))}attachEventToButton(e,s){e.addEventListener("click",(()=>{s(this.dp)}))}createButton(e){let{content:s,className:t,tagName:r="button",attrs:a={}}=e;return P({tagName:r,innerHtml:`<span tabindex='-1'>${typeof s=="function"?s(this.dp):s}</span>`,className:ie("air-datepicker-button",t),attrs:a})}render(){this.generateButtons()}}function O(h,e,s){return(e=(function(t){var r=(function(a,i){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var d=n.call(a,"string");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t);return typeof r=="symbol"?r:String(r)})(e))in h?Object.defineProperty(h,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):h[e]=s,h}class le{constructor(){let{opts:e,dp:s}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};O(this,"toggleTimepickerIsActive",(r=>{this.dp.timepickerIsActive=r})),O(this,"onChangeSelectedDate",(r=>{let{date:a,updateTime:i=!1}=r;a&&(this.setMinMaxTime(a),this.setCurrentTime(!!i&&a),this.addTimeToDate(a))})),O(this,"onChangeLastSelectedDate",(r=>{r&&(this.setTime(r),this.render())})),O(this,"onChangeInputRange",(r=>{let a=r.target;this[a.getAttribute("name")]=a.value,this.updateText(),this.dp.trigger(u.eventChangeTime,{hours:this.hours,minutes:this.minutes})})),O(this,"onMouseEnterLeave",(r=>{let a=r.target.getAttribute("name"),i=this.$minutesText;a==="hours"&&(i=this.$hoursText),i.classList.toggle("-focus-")})),O(this,"onFocus",(()=>{this.toggleTimepickerIsActive(!0)})),O(this,"onBlur",(()=>{this.toggleTimepickerIsActive(!1)})),this.opts=e,this.dp=s;let{timeFormat:t}=this.dp.locale;t&&(t.match(o("h"))||t.match(o("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(u.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(u.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),re(this.$ranges,e,this.onChangeInputRange),re(this.$ranges,"mouseenter",this.onMouseEnterLeave),re(this.$ranges,"mouseleave",this.onMouseEnterLeave),re(this.$ranges,"focus",this.onFocus),re(this.$ranges,"mousedown",this.onFocus),re(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=P({className:ie("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(u.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(u.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:e,hours:s,displayHours:t,minutes:r,minHours:a,minMinutes:i,maxHours:n,maxMinutes:d,dayPeriod:g,opts:{hoursStep:w,minutesStep:$}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${H(t)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${H(r)}</span>   `+(e?`<span class='air-datepicker-time--current-ampm'>${g}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${s}" min="${a}" max="${n}" step="${w}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${r}" min="${i}" max="${d}" step="${$}"/>   </div></div>`}defineDOM(){let e=s=>b(s,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}setTime(e){this.setMinMaxTime(e),this.setCurrentTime(e)}addTimeToDate(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}setMinMaxTime(e){if(this.setMinMaxTimeFromOptions(),e){let{minDate:s,maxDate:t}=this.dp;s&&ee(e,s)&&this.setMinTimeFromMinDate(s),t&&ee(e,t)&&this.setMaxTimeFromMaxDate(t)}}setCurrentTime(e){let{hours:s,minutes:t}=e?A(e):this;this.hours=pe(s,this.minHours,this.maxHours),this.minutes=pe(t,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:e,minMinutes:s,maxHours:t,maxMinutes:r}=this.opts;this.minHours=pe(e,0,23),this.minMinutes=pe(s,0,59),this.maxHours=pe(t,0,23),this.maxMinutes=pe(r,0,59)}setMinTimeFromMinDate(e){let{lastSelectedDate:s}=this.dp;this.minHours=e.getHours(),s&&s.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}setMaxTimeFromMaxDate(e){let{lastSelectedDate:s}=this.dp;this.maxHours=e.getHours(),s&&s.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}updateSliders(){C(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,C(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=H(this.displayHours),this.$minutesText.innerHTML=H(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(e){this._hours=e;let{hours:s,dayPeriod:t}=p(e);this.displayHours=this.ampm?s:e,this.dayPeriod=t}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function I(h,e,s){return(e=(function(t){var r=(function(a,i){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var d=n.call(a,"string");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t);return typeof r=="symbol"?r:String(r)})(e))in h?Object.defineProperty(h,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):h[e]=s,h}class U{constructor(e){let{dp:s,opts:t}=e;I(this,"pressedKeys",new Set),I(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],r=>r.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],r=>r.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],r=>r.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],r=>r.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],r=>r.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],r=>r.year-=10],[["Control","Shift","ArrowUp"],(r,a)=>a.up()]])),I(this,"handleHotKey",(r=>{let a=this.hotKeys.get(r),i=A(this.getInitialFocusDate());a(i,this.dp);let{year:n,month:d,date:g}=i,w=_(new Date(n,d));w<g&&(g=w);let $=this.dp.getClampedDate(new Date(n,d,g));this.dp.setFocusDate($,{viewDateTransition:!0})})),I(this,"isHotKeyPressed",(()=>{let r=!1,a=this.pressedKeys.size,i=n=>this.pressedKeys.has(n);for(let[n]of this.hotKeys){if(r)break;if(Array.isArray(n[0]))n.forEach((d=>{r||a!==d.length||(r=d.every(i)&&n)}));else{if(a!==n.length)continue;r=n.every(i)&&n}}return r})),I(this,"isArrow",(r=>r>=37&&r<=40)),I(this,"onKeyDown",(r=>{if(!this.dp.visible&&!this.dp.treatAsInline)return;let{key:a,which:i}=r,{dp:n,dp:{focusDate:d},opts:g}=this;this.registerKey(a);let w=this.isHotKeyPressed();if(w)return r.preventDefault(),void this.handleHotKey(w);if(this.isArrow(i))return r.preventDefault(),void this.focusNextCell(a);if(a==="Enter"){if(n.currentView!==g.minView)return void n.down();if(d){let $=n._checkIfDateIsSelected(d);return void($?n._handleAlreadySelectedDates($,d):n.selectDate(d))}}a==="Escape"&&this.dp.hide()})),I(this,"onKeyUp",(r=>{this.removeKey(r.key)})),this.dp=s,this.opts=t,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:e}=this.dp;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:e}=this.dp;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:e,currentView:s,selectedDates:t,parsedViewDate:{year:r,month:a}}=this.dp,i=e||t[t.length-1];if(!i)switch(s){case u.days:i=new Date(r,a,new Date().getDate());break;case u.months:i=new Date(r,a,1);break;case u.years:i=new Date(r,0,1)}return i}focusNextCell(e){let s=this.getInitialFocusDate(),{currentView:t}=this.dp,{days:r,months:a,years:i}=u,n=A(s),d=n.year,g=n.month,w=n.date;switch(e){case"ArrowLeft":t===r&&(w-=1),t===a&&(g-=1),t===i&&(d-=1);break;case"ArrowUp":t===r&&(w-=7),t===a&&(g-=3),t===i&&(d-=4);break;case"ArrowRight":t===r&&(w+=1),t===a&&(g+=1),t===i&&(d+=1);break;case"ArrowDown":t===r&&(w+=7),t===a&&(g+=3),t===i&&(d+=4)}let $=this.dp.getClampedDate(new Date(d,g,w));this.dp.setFocusDate($,{viewDateTransition:!0})}registerKey(e){this.pressedKeys.add(e)}removeKey(e){this.pressedKeys.delete(e)}}let M={on(h,e){this.__events||(this.__events={}),this.__events[h]?this.__events[h].push(e):this.__events[h]=[e]},off(h,e){this.__events&&this.__events[h]&&(this.__events[h]=this.__events[h].filter((s=>s!==e)))},removeAllEvents(){this.__events={}},trigger(h){for(var e=arguments.length,s=new Array(e>1?e-1:0),t=1;t<e;t++)s[t-1]=arguments[t];this.__events&&this.__events[h]&&this.__events[h].forEach((r=>{r(...s)}))}};function T(h,e,s){return(e=(function(t){var r=(function(a,i){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var d=n.call(a,"string");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(t);return typeof r=="symbol"?r:String(r)})(e))in h?Object.defineProperty(h,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):h[e]=s,h}let G="",Q="",he=!1;class L{static buildGlobalContainer(e){he=!0,G=P({className:e,id:e}),b("body").appendChild(G)}constructor(e,s){var t=this;if(T(this,"viewIndexes",[u.days,u.months,u.years]),T(this,"next",(()=>{let{year:i,month:n}=this.parsedViewDate;switch(this.currentView){case u.days:this.setViewDate(new Date(i,n+1,1));break;case u.months:this.setViewDate(new Date(i+1,n,1));break;case u.years:this.setViewDate(new Date(i+10,0,1))}})),T(this,"prev",(()=>{let{year:i,month:n}=this.parsedViewDate;switch(this.currentView){case u.days:this.setViewDate(new Date(i,n-1,1));break;case u.months:this.setViewDate(new Date(i-1,n,1));break;case u.years:this.setViewDate(new Date(i-10,0,1))}})),T(this,"_finishHide",(()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)})),T(this,"setPosition",(function(i){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(i=i||t.opts.position)=="function")return void(t.customHide=i({$datepicker:t.$datepicker,$target:t.$el,$pointer:t.$pointer,isViewChange:n,done:t._finishHide}));let d,g,{isMobile:w}=t.opts,$=t.$el.getBoundingClientRect(),S=t.$el.getBoundingClientRect(),Y=t.$datepicker.offsetParent,z=t.$el.offsetParent,Z=t.$datepicker.getBoundingClientRect(),W=i.split(" "),ae=window.scrollY,oe=window.scrollX,fe=t.opts.offset,_e=W[0],ye=W[1];if(w)t.$datepicker.style.cssText="left: 50%; top: 50%";else{if(Y===z&&Y!==document.body&&(S={top:t.$el.offsetTop,left:t.$el.offsetLeft,width:$.width,height:t.$el.offsetHeight},ae=0,oe=0),Y!==z&&Y!==document.body){let ce=Y.getBoundingClientRect();S={top:$.top-ce.top,left:$.left-ce.left,width:$.width,height:$.height},ae=0,oe=0}switch(_e){case"top":d=S.top-Z.height-fe;break;case"right":g=S.left+S.width+fe;break;case"bottom":d=S.top+S.height+fe;break;case"left":g=S.left-Z.width-fe}switch(ye){case"top":d=S.top;break;case"right":g=S.left+S.width-Z.width;break;case"bottom":d=S.top+S.height-Z.height;break;case"left":g=S.left;break;case"center":/left|right/.test(_e)?d=S.top+S.height/2-Z.height/2:g=S.left+S.width/2-Z.width/2}t.$datepicker.style.cssText=`left: ${g+oe}px; top: ${d+ae}px`}})),T(this,"_setInputValue",(()=>{let{opts:i,$altField:n,locale:{dateFormat:d}}=this,{altFieldDateFormat:g,altField:w}=i;w&&n&&(n.value=this._getInputValue(g)),this.$el.value=this._getInputValue(d),this.$el.dispatchEvent(new Event("change"))})),T(this,"_getInputValue",(i=>{let{selectedDates:n,opts:d}=this,{multipleDates:g,multipleDatesSeparator:w}=d;if(!n.length)return"";let $=typeof i=="function",S=$?i(g?n:n[0]):n.map((Y=>this.formatDate(Y,i)));return S=$?S:S.join(w),S})),T(this,"_checkIfDateIsSelected",(function(i){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.days,d=!1;return t.selectedDates.some((g=>{let w=ee(i,g,n);return d=w&&g,w})),d})),T(this,"_scheduleCallAfterTransition",(i=>{this._cancelScheduledCall(),i&&i(!1),this._onTransitionEnd=()=>{i&&i(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})})),T(this,"_cancelScheduledCall",(()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)})),T(this,"setViewDate",(i=>{if(!((i=j(i))instanceof Date)||ee(i,this.viewDate))return;let n=this.viewDate;this.viewDate=i;let{onChangeViewDate:d}=this.opts;if(d){let{month:g,year:w}=this.parsedViewDate;d({month:g,year:w,decade:this.curDecade})}this.trigger(u.eventChangeViewDate,i,n)})),T(this,"setFocusDate",(function(i){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!i||(i=j(i))instanceof Date)&&(t.focusDate=i,t.trigger(u.eventChangeFocusDate,i,n))})),T(this,"setCurrentView",(function(i){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t.viewIndexes.includes(i)){if(t.currentView=i,t.elIsInput&&t.visible&&t.setPosition(void 0,!0),t.trigger(u.eventChangeCurrentView,i),!t.views[i]){let d=t.views[i]=new E({dp:t,opts:t.opts,type:i});t.shouldUpdateDOM&&t.$content.appendChild(d.$el)}t.opts.onChangeView&&!n.silent&&t.opts.onChangeView(i)}})),T(this,"_updateLastSelectedDate",(i=>{this.lastSelectedDate=i,this.trigger(u.eventChangeLastSelectedDate,i)})),T(this,"destroy",(()=>{if(this.isDestroyed)return;let{showEvent:i,isMobile:n}=this.opts,d=this.$datepicker.parentNode;d&&d.removeChild(this.$datepicker),this.$el.removeEventListener(i,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),n&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts={},this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=[],this.rangeDateFrom=null,this.rangeDateTo=null,this.isDestroyed=!0})),T(this,"update",(function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=ue({},t.opts),{silent:g}=n;ue(t.opts,i);let{timepicker:w,buttons:$,range:S,selectedDates:Y,isMobile:z}=t.opts,Z=t.visible||t.treatAsInline;t._createMinMaxDates(),t._limitViewDateByMaxMinDates(),t._handleLocale(),Y&&(t.selectedDates=[],t.selectDate(Y,{silent:g})),i.view&&t.setCurrentView(i.view,{silent:g}),t._setInputValue(),d.range&&!S?(t.rangeDateTo=!1,t.rangeDateFrom=!1):!d.range&&S&&t.selectedDates.length&&(t.rangeDateFrom=t.selectedDates[0],t.rangeDateTo=t.selectedDates[1]),d.timepicker&&!w?(Z&&t.timepicker.destroy(),t.timepicker=!1,t.$timepicker.parentNode.removeChild(t.$timepicker)):!d.timepicker&&w&&t._addTimepicker(),!d.buttons&&$?t._addButtons():d.buttons&&!$?(t.buttons.destroy(),t.$buttons.parentNode.removeChild(t.$buttons)):Z&&d.buttons&&$&&t.buttons.clearHtml().render(),!d.isMobile&&z?(t.treatAsInline||Q||t._createMobileOverlay(),t._addMobileAttributes(),t.visible&&t._showMobileOverlay()):d.isMobile&&!z&&(t._removeMobileAttributes(),t.visible&&(Q.classList.remove("-active-"),typeof t.opts.position!="function"&&t.setPosition())),Z&&(t.nav.update(),t.views[t.currentView].render(),t.currentView===u.days&&t.views[t.currentView].renderDayNames())})),T(this,"disableDate",((i,n)=>{(Array.isArray(i)?i:[i]).forEach((d=>{let g=j(d);if(!g)return;let w=n?"delete":"add";this.disabledDates[w](this.formatDate(g,"yyyy-MM-dd"));let $=this.getCell(g,this.currentViewSingular);$&&$.adpCell.render()}),[])})),T(this,"enableDate",(i=>{this.disableDate(i,!0)})),T(this,"isDateDisabled",(i=>{let n=j(i);return this.disabledDates.has(this.formatDate(n,"yyyy-MM-dd"))})),T(this,"isOtherMonth",(i=>{let{month:n}=A(i);return n!==this.parsedViewDate.month})),T(this,"isOtherYear",(i=>{let{year:n}=A(i);return n!==this.parsedViewDate.year})),T(this,"isOtherDecade",(i=>{let{year:n}=A(i),[d,g]=R(this.viewDate);return n<d||n>g})),T(this,"_onChangeSelectedDate",(i=>{let{silent:n}=i;setTimeout((()=>{this._setInputValue(),this.opts.onSelect&&!n&&this._triggerOnSelect()}))})),T(this,"_onChangeFocusedDate",(function(i){let{viewDateTransition:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!i)return;let d=!1;n&&(d=t.isOtherMonth(i)||t.isOtherYear(i)||t.isOtherDecade(i)),d&&t.setViewDate(i),t.opts.onFocus&&t.opts.onFocus({datepicker:t,date:i})})),T(this,"_onChangeTime",(i=>{let{hours:n,minutes:d}=i,g=new Date,{lastSelectedDate:w,opts:{onSelect:$}}=this,S=w;w||(S=g);let Y=this.getCell(S,this.currentViewSingular),z=Y&&Y.adpCell;z&&z.isDisabled||(S.setHours(n),S.setMinutes(d),w?(this._setInputValue(),$&&this._triggerOnSelect()):this.selectDate(S))})),T(this,"_onFocus",(i=>{this.visible||this.show()})),T(this,"_onBlur",(i=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()})),T(this,"_onMouseDown",(i=>{this.inFocus=!0})),T(this,"_onMouseUp",(i=>{this.inFocus=!1,this.$el.focus()})),T(this,"_onResize",(()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()})),T(this,"_onClickOverlay",(()=>{this.visible&&this.hide()})),T(this,"getViewDates",(function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.days;return E.getDatesFunction(i)(t)})),T(this,"isWeekend",(i=>this.opts.weekends.includes(i))),T(this,"getClampedDate",(i=>{let{minDate:n,maxDate:d}=this,g=i;return d&&ne(i,d)?g=d:n&&de(i,n)&&(g=n),g})),this.$el=b(e),!this.$el)return;this.$datepicker=P({className:"air-datepicker"}),this.opts=ue({},B,s),this.$customContainer=!!this.opts.container&&b(this.opts.container),this.$altField=b(this.opts.altField||!1);let{view:r,startDate:a}=this.opts;a||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=j(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=r,this.selectedDates=[],this.disabledDates=new Set,this.isDestroyed=!1,this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:e,treatAsInline:s,opts:{inline:t,isMobile:r,selectedDates:a,keyboardNav:i,onlyTimepicker:n}}=this,d=b("body");(!he||he&&G&&!d.contains(G))&&!t&&this.elIsInput&&!this.$customContainer&&L.buildGlobalContainer(L.defaultGlobalContainerId),!r||Q||s||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(t||this._bindEvents(),i&&!n&&(this.keyboardNav=new U({dp:this,opts:e}))),a&&this.selectDate(a,{silent:!0}),this.opts.visible&&!s&&this.show(),r&&!s&&this.$el.setAttribute("readonly",!0),s&&this._createComponents()}_createMobileOverlay(){Q=P({className:"air-datepicker-overlay"}),G.appendChild(Q)}_createComponents(){let{opts:e,treatAsInline:s,opts:{inline:t,buttons:r,timepicker:a,position:i,classes:n,onlyTimepicker:d,isMobile:g}}=this;this._buildBaseHtml(),this.elIsInput&&(t||this._setPositionClasses(i)),!t&&this.elIsInput||this.$datepicker.classList.add("-inline-"),n&&this.$datepicker.classList.add(...n.split(" ")),d&&this.$datepicker.classList.add("-only-timepicker-"),g&&!s&&this._addMobileAttributes(),this.views[this.currentView]=new E({dp:this,type:this.currentView,opts:e}),this.nav=new k({dp:this,opts:e}),a&&this._addTimepicker(),r&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){Q.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){Q.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:e,maxDate:s}=this.opts;this.minDate=!!e&&j(e),this.maxDate=!!s&&j(s)}_addTimepicker(){this.$timepicker=P({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new le({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=P({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new te({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(u.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(u.eventChangeFocusDate,this._onChangeFocusedDate),this.on(u.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:e}=this.opts;var s,t;this.elIsInput?e?(s=this.$datepicker,(t=this.$el).parentNode.insertBefore(s,t.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=b(".air-datepicker--content",this.$datepicker),this.$pointer=b(".air-datepicker--pointer",this.$datepicker),this.$nav=b(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:e,dateFormat:s,firstDay:t,timepicker:r,onlyTimepicker:a,timeFormat:i,dateTimeSeparator:n}=this.opts;var d;this.locale=(d=e,JSON.parse(JSON.stringify(d))),s&&(this.locale.dateFormat=s),i!==void 0&&i!==""&&(this.locale.timeFormat=i);let{timeFormat:g}=this.locale;if(t!==""&&(this.locale.firstDay=t),r&&typeof s!="function"){let w=g?n:"";this.locale.dateFormat=[this.locale.dateFormat,g||""].join(w)}a&&typeof s!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(e){if(typeof e=="function")return void this.$datepicker.classList.add("-custom-position-");let s=(e=e.split(" "))[0],t=`air-datepicker -${s}-${e[1]}- -from-${s}-`;this.$datepicker.classList.add(...t.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:e,minDate:s,maxDate:t}=this;t&&ne(e,t)&&this.setViewDate(t),s&&de(e,s)&&this.setViewDate(s)}formatDate(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,s=arguments.length>1?arguments[1]:void 0;if(e=j(e),!(e instanceof Date))return;let t=s,r=this.locale,a=A(e),i=a.dayPeriod,n=R(e),d=L.replacer,g={T:e.getTime(),m:a.minutes,mm:a.fullMinutes,h:a.hours12,hh:a.fullHours12,H:a.hours,HH:a.fullHours,aa:i,AA:i.toUpperCase(),E:r.daysShort[a.day],EEEE:r.days[a.day],d:a.date,dd:a.fullDate,M:a.month+1,MM:a.fullMonth,MMM:r.monthsShort[a.month],MMMM:r.months[a.month],yy:a.year.toString().slice(-2),yyyy:a.year,yyyy1:n[0],yyyy2:n[1]};for(let[w,$]of Object.entries(g))t=d(t,o(w),$);return t}down(e){this._handleUpDownActions(e,"down")}up(e){this._handleUpDownActions(e,"up")}selectDate(e){let s,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:r,parsedViewDate:a,selectedDates:i}=this,{updateTime:n,silent:d}=t,{moveToOtherMonthsOnSelect:g,moveToOtherYearsOnSelect:w,multipleDates:$,range:S,autoClose:Y,onBeforeSelect:z}=this.opts,Z=i.length;if(Array.isArray(e))return e.forEach((W=>{this.selectDate(W,t)})),new Promise((W=>{setTimeout(W)}));if((e=j(e))instanceof Date){if(z&&!d&&!z({date:e,datepicker:this}))return Promise.resolve();if(r===u.days&&e.getMonth()!==a.month&&g&&(s=new Date(e.getFullYear(),e.getMonth(),1)),r===u.years&&e.getFullYear()!==a.year&&w&&(s=new Date(e.getFullYear(),0,1)),s&&this.setViewDate(s),$&&!S){if(Z===$)return;this._checkIfDateIsSelected(e)||i.push(e)}else if(S)switch(Z){case 1:i.push(e),this.rangeDateTo||(this.rangeDateTo=e),ne(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(u.eventChangeSelectedDate,{action:u.actionSelectDate,silent:t?.silent,date:e,updateTime:n}),this._updateLastSelectedDate(e),Y&&!this.timepickerIsActive&&this.visible&&($||S?S&&Z===1&&this.hide():this.hide()),new Promise((W=>{setTimeout(W)}))}}unselectDate(e){let s=this.selectedDates,t=this;if((e=j(e))instanceof Date)return s.some(((r,a)=>{if(ee(r,e))return s.splice(a,1),t.selectedDates.length?(t.rangeDateTo="",t.rangeDateFrom=s[0],t._updateLastSelectedDate(t.selectedDates[t.selectedDates.length-1])):(t.rangeDateFrom="",t.rangeDateTo="",t._updateLastSelectedDate(!1)),this.trigger(u.eventChangeSelectedDate,{action:u.actionUnselectDate,date:e}),!0}))}replaceDate(e,s){let t=this.selectedDates.find((a=>ee(a,e,this.currentView))),r=this.selectedDates.indexOf(t);r<0||ee(this.selectedDates[r],s,this.currentView)||(this.selectedDates[r]=s,this.trigger(u.eventChangeSelectedDate,{action:u.actionSelectDate,date:s,updateTime:!0}),this._updateLastSelectedDate(s))}clear(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(u.eventChangeSelectedDate,{action:u.actionUnselectDate,silent:e.silent}),new Promise((s=>{setTimeout(s)}))}show(){let{onShow:e,isMobile:s}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,e&&this._scheduleCallAfterTransition(e),s&&this._showMobileOverlay()}hide(){let{onHide:e,isMobile:s}=this.opts,t=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition((r=>{!this.customHide&&(r&&t||!r&&!t)&&this._finishHide(),e&&e(r)})),s&&Q.classList.remove("-active-")}_triggerOnSelect(){let e=[],s=[],{selectedDates:t,locale:r,opts:{onSelect:a,multipleDates:i,range:n}}=this,d=i||n,g=typeof r.dateFormat=="function";t.length&&(e=t.map(me),s=g?i?r.dateFormat(e):e.map((w=>r.dateFormat(w))):e.map((w=>this.formatDate(w,r.dateFormat)))),a({date:d?e:e[0],formattedDate:d?s:s[0],datepicker:this})}_handleAlreadySelectedDates(e,s){let{selectedDates:t,rangeDateFrom:r,rangeDateTo:a}=this,{range:i,toggleSelected:n}=this.opts,d=t.length,g=typeof n=="function"?n({datepicker:this,date:s}):n,w=!!(i&&d===1&&e),$=w?me(s):s;i&&!g&&(d!==2&&this.selectDate($),d===2&&ee(r,a))||(g?this.unselectDate($):this._updateLastSelectedDate(w?$:e))}_handleUpDownActions(e,s){if(!((e=j(e||this.focusDate||this.viewDate))instanceof Date))return;let t=s==="up"?this.viewIndex+1:this.viewIndex-1;t>2&&(t=2),t<0&&(t=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[t])}getCell(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u.day;if(!((e=j(e))instanceof Date))return;let{year:t,month:r,date:a}=A(e),i=`[data-year="${t}"]`,n=`[data-month="${r}"]`,d={[u.day]:`${i}${n}[data-date="${a}"]`,[u.month]:`${i}${n}`,[u.year]:`${i}`};return this.views[this.currentView]?this.views[this.currentView].$el.querySelector(d[s]):void 0}_showMobileOverlay(){Q.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce(((e,s)=>parseFloat(s)+e),0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return A(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return R(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===u.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===u.days}get $container(){return this.$customContainer||G}static replacer(e,s,t){return e.replace(s,(function(r,a,i,n){return a+t+n}))}}var q;return T(L,"defaults",B),T(L,"version","3.6.0"),T(L,"defaultGlobalContainerId","air-datepicker-global-container"),q=L.prototype,Object.assign(q,M),c.default})()}))})(Se)),Se.exports}var mt=pt();const gt=Ie(mt);var be={},Pe;function ft(){if(Pe)return be;Pe=1,Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0;var N={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",dateFormat:"MM/dd/yyyy",timeFormat:"hh:mm aa",firstDay:0};return be.default=N,be}var _t=ft();const yt=Ie(_t);function vt(N){let f=Ee.useRef();const x=()=>({startDate:N.value?.[0],onSelect:N.onChange,locale:yt});return Ee.useEffect(()=>{f.current=new gt("#"+N.id,x())},[]),Ee.useEffect(()=>{},[N]),F.createElement(qe,{size:"small",sx:{width:"250px"},onChange:c=>N.onChange({date:void 0}),id:N.id,label:N.label,value:N.value?.[0]||""})}class X extends F.Component{autocomplete=void 0;constructor(f){super(f)}componentDidUpdate(f){if(this.autocomplete&&this.autocomplete.state){const{builderField:x,builder:c,fields:u}=f,B=u&&u[x],b=c[x]?(B.find(P=>P.key===c[x])||{}).text:"";b&&this.autocomplete.setState({searchText:b})}}addChip=(f,x,c)=>{const u=[].concat(this.props.builder[f]||[]),B=u.includes(x.id)?u:[x.id].concat(u).slice(0,c);this.props.handleFieldUpdate(f,B)};deleteChip=(f,x)=>{const c=[].concat(this.props.builder[f]||[]),u=[...c.slice(0,x),...c.slice(x+1)];this.props.handleFieldUpdate(f,u)};render(){const{fields:f,label:x,builderField:c,handleFieldUpdate:u,isDateField:B,builder:b,multipleSelect:P}=this.props,C=(f&&f[c])?.map(p=>({label:p.text??p.value,id:p.key}));if(B)return F.createElement(vt,{id:c,label:x,value:b[c],onChange:({date:p})=>{const H=p&&p.toISOString();u(c,H?[H]:void 0)}});const _=[].concat(b[c]||[]).map(p=>C.find(H=>String(H.id)===String(p))).filter(Boolean),A=P?10:1;return F.createElement(Ye,{multiple:!0,clearIcon:null,sx:{width:"250px"},value:_,fullWidth:!0,renderInput:p=>F.createElement(qe,{...p,label:x}),renderValue:(p,H)=>p.map((R,ie)=>F.createElement(Ge,{size:"small",label:R.label,...H({index:ie}),onDelete:()=>{this.deleteChip(c,ie)}})),openOnFocus:!0,options:C,onChange:(p,H)=>{this.addChip(c,H[H.length-1],A)},size:"small"})}}const Ue=(N=[],f=[],x=[])=>{const{strings:c}=ze.getState().app,u={value:"key",groupValue:"value::text::int",groupKey:"key",avgPerMatch:!0,bundle:"json_select",singleSelection:"true"},B=[{text:c.heading_kills,value:"kills",key:"kills",alias:void 0},{text:c.heading_deaths,value:"deaths",key:"deaths"},{text:c.heading_assists,value:"assists",key:"assists"},{text:c.heading_gold_per_min,value:"gold_per_min",bucket:50,key:"gold_per_min"},{text:c.heading_xp_per_min,value:"xp_per_min",bucket:50,key:"xp_per_min"},{text:c.heading_last_hits,value:"last_hits",bucket:10,key:"last_hits"},{text:c.heading_denies,value:"denies",key:"denies"},{text:c.heading_hero_damage,value:"hero_damage",bucket:1e3,key:"hero_damage"},{text:c.heading_tower_damage,value:"tower_damage",bucket:1e3,key:"tower_damage"},{text:c.heading_hero_healing,value:"hero_healing",bucket:1e3,key:"hero_healing"},{text:c.heading_level,value:"level",key:"level"},{text:c.heading_stuns,value:"stuns",bucket:1,key:"stuns"},{text:c.heading_camps_stacked,value:"camps_stacked",key:"camps_stacked"},{text:c.heading_lhten,value:"lh_t[11]",bucket:10,key:"lh10"},{text:c.heading_lhtwenty,value:"lh_t[21]",bucket:10,key:"lh20"},{text:c.heading_lhthirty,value:"lh_t[31]",bucket:10,key:"lh30"},{text:c.heading_lhforty,value:"lh_t[41]",bucket:10,key:"lh40"},{text:c.heading_lhfifty,value:"lh_t[51]",bucket:10,key:"lh50"},{text:c.th_buybacks,value:"array_length(buyback_log, 1)",key:"buybacks"},{text:c.th_scans_used,value:"(actions->>'31')::int",key:"scans_used"},{text:c.th_glyphs_used,value:"(actions->>'24')::int",key:"glyphs_used"},{text:c.th_obs_placed,value:"array_length(obs_log, 1)",key:"obs_placed"},{text:c.th_sen_placed,value:"array_length(sen_log, 1)",key:"sen_placed"},{text:c.th_obs_destroyed,value:"(killed->>'npc_dota_observer_wards')::int",key:"obs_destroyed"},{text:c.th_sen_destroyed,value:"(killed->>'npc_dota_sentry_wards')::int",key:"sen_destroyed"},{text:c.th_legs,value:"heroes.legs",key:"legs"},{text:c.th_fantasy_points,value:"round((0.3 * kills + (3 - 0.3 * deaths) + 0.003 * (last_hits + denies) + 0.002 * gold_per_min + towers_killed + roshans_killed + 3 * teamfight_participation + 0.5 * observers_placed + 0.5 * camps_stacked + 0.25 * rune_pickups + 4 * firstblood_claimed + 0.05 * stuns)::numeric, 1)",key:"fantasy_points",bucket:1},{text:c.heading_damage_dealt,value:"(SELECT SUM(value::text::int) FROM json_each(damage_inflictor))",key:"dmg_dealt"},{text:c.heading_damage_received,value:"(SELECT SUM(value::text::int) FROM json_each(damage_inflictor_received))",key:"dmg_received"}].map(p=>({...p,alias:p.alias||p.key,bundle:"single"})),b=Qe.reverse().map(p=>({text:p.name,value:p.name,key:p.name})),P=Array(10).fill(void 0).map((p,H)=>H*10).map(p=>({text:`${Ne(c.time_mm,p)}`,searchText:Ne(c.time_mm,p),value:p*60,key:String(p)})),C=Array(5).fill(void 0).map((p,H)=>(H+1)*5).map(p=>({text:String(p),value:p,key:String(p)})),_=[100,200,500,1e3].map(p=>({text:String(p),value:p,key:String(p)})),A=Array(31).fill(void 0).map((p,H)=>H*1e3).map(p=>({text:String(p),value:p,key:String(p)}));return{select:[{text:c.heading_duration,value:"duration",alias:"as time",key:"duration",formatSeconds:!0,bundle:"duration"},{text:c.heading_distinct_heroes,value:"player_matches.hero_id",countValue:"count(distinct player_matches.hero_id) distinct_heroes",key:"distinct_heroes",distinct:!0,bundle:"distinct_heroes"},{...u,text:c.heading_item_purchased,alias:"item_name",join:", json_each(player_matches.purchase)",key:"item_purchased"},{...u,text:c.heading_ability_used,alias:"ability_name",join:", json_each(player_matches.ability_uses)",key:"ability_used"},{...u,text:c.heading_item_used,alias:"item_name",join:", json_each(player_matches.item_uses)",key:"item_used"},{...u,text:c.heading_damage_inflictor,alias:"inflictor",join:", json_each(player_matches.damage_inflictor)",key:"damage_inflictor"},{...u,text:c.heading_damage_inflictor_received,alias:"inflictor",join:", json_each(player_matches.damage_inflictor_received)",key:"damage_inflictor_received"},{...u,text:c.heading_runes,alias:"rune_id",join:", json_each(player_matches.runes)",key:"runes"},{...u,text:c.heading_unit_kills,join:", json_each(player_matches.killed)",key:"unit_kills"},{...u,text:c.heading_damage_instances,join:", json_each(player_matches.hero_hits)",key:"damage_instances"},{text:c.explorer_hero_combos,value:1,groupValue:1,groupKeySelect:"player_matches.hero_id, player_matches2.hero_id hero_id2",groupKey:"player_matches.hero_id, player_matches2.hero_id",joinFn:p=>`JOIN player_matches player_matches2
ON player_matches.match_id = player_matches2.match_id
AND player_matches.hero_id != player_matches2.hero_id 
AND abs(player_matches.player_slot - player_matches2.player_slot) < 10
${p.hero&&p.hero.value?"":"AND player_matches.hero_id < player_matches2.hero_id"}`,key:"hero_combos",bundle:"combinations"},{text:c.explorer_hero_player,value:1,groupValue:1,groupKey:"player_matches.hero_id, player_matches.account_id",key:"hero_player",bundle:"combinations"},{text:c.explorer_player_player,value:1,groupValue:1,groupKeySelect:"player_matches.account_id, player_matches2.account_id account_id2",groupKey:"player_matches.account_id, player_matches2.account_id",joinFn:p=>`JOIN player_matches player_matches2
ON player_matches.match_id = player_matches2.match_id
AND player_matches.account_id != player_matches2.account_id 
AND abs(player_matches.player_slot - player_matches2.player_slot) < 10
${p.player&&p.player.value?"":"AND player_matches.account_id < player_matches2.account_id"}`,key:"player_player",bundle:"combinations"},{text:c.explorer_picks_bans,template:"picks_bans",key:"picks_bans",where:"AND team_match.radiant::int != picks_bans.team",value:1,bundle:"picks_bans"},{text:c.explorer_counter_picks_bans,template:"picks_bans",key:"counter_picks_bans",where:"AND team_match.radiant::int = picks_bans.team",value:1,bundle:"picks_bans"}].concat(B).sort((p,H)=>p.text&&p.text.localeCompare(H.text)),group:[{text:c.explorer_player,value:"notable_players.name",key:"player"},{text:c.th_hero_id,value:"heroes.localized_name",key:"hero"},{text:c.explorer_league,value:"leagues.name",alias:"leaguename",key:"league"},{text:c.explorer_patch,value:"patch",key:"patch"},{text:c.heading_duration,value:"duration/300*5",alias:"minutes",key:"duration"},{text:c.explorer_side,value:"(player_matches.player_slot < 128)",alias:"is_radiant",key:"side"},{text:c.th_result,value:"((player_matches.player_slot < 128) = matches.radiant_win)",alias:"win",key:"result"},{text:c.explorer_team,value:"teams.name",key:"team"},{text:c.explorer_organization,value:"teams2.name",key:"organization"},{text:c.explorer_match,value:"matches.match_id",key:"match"}].concat(B),minPatch:b,maxPatch:b,hero:Object.keys(ve).map(p=>({text:`[${p}] ${ve[p].localized_name}`,searchText:ve[p].localized_name,value:ve[p].id,key:String(ve[p].id)})),playerPurchased:Object.keys(xe).map(p=>({text:xe[p].dname,value:p,key:p})),minDuration:P,maxDuration:P,side:[{text:c.general_radiant,value:!0,key:"radiant"},{text:c.general_dire,value:!1,key:"dire"}],result:[{text:c.td_win,value:!0,key:"win"},{text:c.td_loss,value:!1,key:"loss"}],region:Object.keys(Ze).map(p=>({text:c[`region_${p}`],value:Object.keys(Re).filter(H=>String(Re[H])===p),key:String(p)})),league:f.map(p=>({text:`[${p.leagueid}] ${p.name}`,searchText:p.name,value:p.leagueid,key:String(p.leagueid)})),team:x.map(p=>({text:`[${p.team_id}] ${p.name}`,searchText:p.name,value:p.team_id,key:String(p.team_id)})),organization:x.map(p=>({text:`[${p.team_id}] ${p.name}`,searchText:p.name,value:p.team_id,key:String(p.team_id)})),player:N.map(p=>({text:`[${p.account_id}] ${p.name}`,searchText:p.name,value:p.account_id,key:String(p.account_id)})),tier:["premium","professional"].map(p=>({text:c[`tier_${p}`],value:p,key:p})),order:[{text:c.explorer_asc,value:"ASC",key:"asc"},{text:c.explorer_desc,value:"DESC",key:"desc"}],having:C,limit:_,laneRole:Object.keys(c).filter(p=>p.indexOf("lane_role_")===0).map(p=>{const H=Number(p.substring(10));return{text:c[p],value:H,key:String(H)}}),isTiTeam:[{text:"Yes",value:!0,key:"true"}],megaWin:[{text:"Yes",value:!0,key:"true"}],minGoldAdvantage:A,maxGoldAdvantage:A}},Dt=["SELECT","WHERE","GROUP BY","ORDER BY"],bt=["FROM","JOIN","LEFT JOIN"],kt=["matches","player_matches","teams","match_logs","public_matches","public_player_matches"],wt=["OFFSET","LIMIT","DISTINCT","IN"],$t=["to_timestamp()","count()","avg()","sum()","stddev()","min()","max()","using()"],St=(N,f=[],x=[],c=[])=>{const{strings:u}=ze.getState().app,B=f.filter(C=>C.name).slice(0).map(C=>({value:C.name,snippet:C.account_id.toString(),meta:`${C.account_id.toString()} (${u.explorer_player})`})),b=x.filter(C=>C.name).slice(0,100).map(C=>({value:C.name,snippet:C.team_id.toString(),meta:`${C.team_id.toString()} (${u.explorer_organization})`})),P=c.filter(C=>C.tier==="premium"||C.tier==="professional").map(C=>({value:C.name,snippet:C.leagueid.toString(),meta:`${C.leagueid.toString()} (${u.explorer_league})`}));return{getCompletions(C,_,A,p,H){H(null,[].concat(Object.keys(ve).map(R=>({caption:ve[R].localized_name,value:ve[R].name,snippet:R,meta:`${R} (${u.explorer_hero})`}))).concat(Object.keys(xe).filter(R=>R.indexOf("recipe_")!==0).map(R=>({caption:xe[R].dname,value:R,snippet:`'${R}'`,meta:`${R} (${u.scenarios_item})`}))).concat(B).concat(b).concat(P).concat($t.map(R=>({value:R,meta:u.explorer_postgresql_function}))).concat(Dt.map(R=>({value:R,meta:u.explorer_sql}))).concat(bt.map(R=>({value:R,meta:u.explorer_sql}))).concat(wt.map(R=>({value:R,meta:u.explorer_sql}))).concat(kt.map(R=>({value:R,meta:u.explorer_table}))).concat(N.map(R=>({value:`${R.column_name}`,meta:`${R.table_name} - ${R.data_type}`}))))}}},Fe={},Oe={};function Be(N,f){const x={};return Object.keys(N).forEach(c=>{c==="minDate"||c==="maxDate"?x[c]=N[c]:x[c]=N[c].map(u=>(f[c]||[]).find(B=>B.key===u)||{value:u})}),x}class xt extends F.Component{editor=void 0;completersSet=!1;constructor(f){super(f);let x={},c="";try{const u=Ce.parse(window.location.search.substring(1));c=u.sql;const B={};Object.keys(u).forEach(b=>{B[b]=Array.isArray(u[b])?u[b]:[u[b]]}),x=B,delete x.sql}catch{}this.state={loadingEditor:!0,showEditor:!!c,loading:!1,result:{},builder:x}}async componentDidMount(){this.props.dispatchProPlayers(),this.props.dispatchLeagues(),this.props.dispatchTeams(),await we(()=>import("./ace-BiPPJQXt.js").then(f=>f.a),__vite__mapDeps([0,1,2])),await Promise.all([we(()=>import("./ext-language_tools-CWDtga1u.js").then(f=>f.e),__vite__mapDeps([3,1,2])),we(()=>import("./theme-monokai-BRKvPg7D.js").then(f=>f.t),__vite__mapDeps([4,1,2])),we(()=>import("./mode-sql-BbqKEU3E.js").then(f=>f.m),__vite__mapDeps([5,1,2]))]),this.instantiateEditor()}componentDidUpdate(f){this.editor&&!this.completersSet&&f.proPlayers.length&&f.teams.length&&f.leagues.length&&(this.completersSet=!0,fetch(`${Te.VITE_API_HOST}/api/schema`).then(x=>x.json()).then(x=>{this.editor.completers=[St(x,f.proPlayers,f.teams,f.leagues)]}))}getSqlString=()=>this.editor.getSelectedText()||this.editor.getValue();buildQuery=()=>{const f=Be(this.state.builder,Ue());this.editor.setValue(dt(f))};handleCancel=()=>{this.setState({loading:!1}),window.stop()};handleFieldUpdate=(f,x)=>{this.setState({builder:{...this.state.builder,[f]:x}},this.buildQuery)};sendRequest=()=>{this.syncWindowHistory();const f=this.getSqlString();return fetch(`${Te.VITE_API_HOST}/api/explorer?sql=${encodeURIComponent(f)}`).then(x=>x.json()).then(this.handleResponse)};handleQuery=()=>{const{builder:f,showEditor:x}=this.state,{select:c,group:u}=f;this.state.loadingEditor===!0?setTimeout(this.handleQuery,1e3):u&&(!c||c.length<1)&&!x?this.setState({builder:{...f,select:"kills"}},()=>{this.buildQuery(),this.handleQuery()}):this.setState({loading:!0},this.sendRequest)};handleResponse=f=>{this.setState({loading:!1,result:f})};instantiateEditor=()=>{const f=ace.edit("editor");f.setTheme("ace/theme/monokai"),f.getSession().setMode("ace/mode/sql"),f.setOptions({minLines:10,maxLines:1/0,enableLiveAutocompletion:!0,showPrintMargin:!1}),this.editor=f;const{sql:x}=Ce.parse(window.location.search.substring(1));x?f.setValue(decodeURIComponent(x)):this.buildQuery(),this.handleQuery(),this.setState({...this.state,loadingEditor:!1})};syncWindowHistory=()=>{const f=this.getSqlString(),x=this.state.showEditor?{sql:f,format:this.state.builder.format}:this.state.builder,c=`?${Ce.stringify(x)}`;window.history.pushState("","",c)};toggleEditor=()=>{this.setState({...this.state,showEditor:!this.state.showEditor}),this.editor.renderer.updateFull()};render(){Object.keys(Fe).length||this.props.proPlayers.forEach(A=>{Fe[A.account_id]=A.name}),Object.keys(Oe).length||this.props.teams.forEach(A=>{Oe[A.team_id]=A.name});const f=Ue(this.props.proPlayers,this.props.leagues,this.props.teams),x=Be(this.state.builder,f),{handleQuery:c,handleCancel:u,getSqlString:B,handleFieldUpdate:b}=this,P=this,{builder:C}=this.state,{strings:_}=this.props;return F.createElement("div",null,F.createElement(st,{title:`${_.title_explorer} - ${_.explorer_subtitle}`}),F.createElement(Le,{title:_.explorer_title,subtitle:_.explorer_description,className:"top-heading"}),F.createElement(ut,{showToggle:!0,showEditor:this.state.showEditor,toggleEditor:this.toggleEditor},F.createElement(X,{label:_.explorer_select,fields:f,builderField:"select",handleFieldUpdate:b,builder:C,multipleSelect:!0}),F.createElement(X,{label:_.explorer_group_by,fields:f,builderField:"group",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_hero,fields:f,builderField:"hero",handleFieldUpdate:b,builder:C,multipleSelect:!0}),F.createElement(X,{label:_.explorer_player,fields:f,builderField:"player",handleFieldUpdate:b,builder:C,multipleSelect:!0}),F.createElement(X,{label:_.explorer_team,fields:f,builderField:"team",handleFieldUpdate:b,builder:C,multipleSelect:!0}),F.createElement(X,{label:_.explorer_organization,fields:f,builderField:"organization",handleFieldUpdate:b,builder:C,multipleSelect:!0}),F.createElement(X,{label:_.explorer_league,fields:f,builderField:"league",handleFieldUpdate:b,builder:C,multipleSelect:!0}),F.createElement(X,{label:_.explorer_tier,fields:f,builderField:"tier",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_region,fields:f,builderField:"region",handleFieldUpdate:b,builder:C,multipleSelect:!0}),F.createElement(X,{label:_.explorer_side,fields:f,builderField:"side",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.th_result,fields:f,builderField:"result",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_player_purchased,fields:f,builderField:"playerPurchased",handleFieldUpdate:b,builder:C,multipleSelect:!0}),F.createElement(X,{label:_.explorer_lane_role,fields:f,builderField:"laneRole",handleFieldUpdate:b,builder:C,multipleSelect:!0}),F.createElement(X,{label:_.explorer_min_patch,fields:f,builderField:"minPatch",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_max_patch,fields:f,builderField:"maxPatch",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_min_duration,fields:f,builderField:"minDuration",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_max_duration,fields:f,builderField:"maxDuration",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_order,fields:f,builderField:"order",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_having,fields:f,builderField:"having",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_limit,fields:f,builderField:"limit",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_mega_comeback,fields:f,builderField:"megaWin",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_min_gold_adv,fields:f,builderField:"minGoldAdvantage",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_max_gold_adv,fields:f,builderField:"maxGoldAdvantage",handleFieldUpdate:b,builder:C}),F.createElement(X,{label:_.explorer_min_date,builderField:"minDate",handleFieldUpdate:b,builder:C,isDateField:!0}),F.createElement(X,{label:_.explorer_max_date,builderField:"maxDate",handleFieldUpdate:b,builder:C,isDateField:!0})),F.createElement("div",null,F.createElement(Ae,{variant:"contained",onClick:this.state.loading?u:c},this.state.loading?_.explorer_cancel_button:_.explorer_query_button),F.createElement(Ae,{variant:"outlined",target:"_blank",style:{margin:"5px"},href:"https://github.com/odota/core/blob/master/sql/create_tables.sql"},_.explorer_schema),F.createElement("span",{style:{float:"right"}},F.createElement(Me,{label:_.explorer_csv_button,href:`data:application/octet-stream,${encodeURIComponent(ht.unparse({data:this.state.result.rows||[],fields:(this.state.result.fields||[]).map(A=>A.name)}))}`,download:"data.csv",context:P}),F.createElement(Me,{label:_.explorer_json_button,href:`data:application/octet-stream,${encodeURIComponent(JSON.stringify(this.state.result.rows,null,2))}`,download:"data.json",context:P}),F.createElement(Me,{label:_.explorer_api_button,onClick:()=>window.open(`${Te.VITE_API_HOST}/api/explorer?sql=${encodeURIComponent(B())}`,"_blank"),context:P}))),F.createElement(Le,{title:_.explorer_results,subtitle:`${(this.state.result.rows||[]).length} ${_.explorer_num_rows}`}),F.createElement("pre",{style:{color:"red"}},this.state.result.err),this.state.loading?F.createElement(at,null):null,!this.state.loading&&F.createElement(rt,{rows:this.state.result.rows,fields:this.state.result.fields,expandedBuilder:x,playerMapping:Fe,teamMapping:Oe,format:this.state.builder.format}))}}const Et=N=>({proPlayers:N.app.proPlayers.data,leagues:N.app.leagues.data,teams:N.app.teams.data,strings:N.app.strings}),Ct=N=>({dispatchProPlayers:()=>N(it()),dispatchLeagues:()=>N(tt()),dispatchTeams:()=>N(et())}),Mt=Xe(Et,Ct)(xt);export{Mt as default};
